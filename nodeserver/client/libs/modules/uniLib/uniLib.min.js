/*!
 * uniLib - compressed JS
 * @licence uniLib - v0.1.0 (2017-11-23)
 *  qq:93749937 | Licence: helojo
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this,b.pako=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:r,method:t,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==o)throw new Error(k[c]);if(b.header&&h.deflateSetHeader(this.strm,b.header),b.dictionary){var e;if(e="string"==typeof b.dictionary?j.string2buf(b.dictionary):"[object ArrayBuffer]"===m.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,(c=h.deflateSetDictionary(this.strm,e))!==o)throw new Error(k[c]);this._dict_set=!0}}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a("./zlib/deflate"),i=a("./utils/common"),j=a("./utils/strings"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=Object.prototype.toString,n=4,o=0,p=1,q=2,r=-1,s=0,t=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:!0===b?n:0,"string"==typeof a?e.input=j.string2buf(a):"[object ArrayBuffer]"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),(c=h.deflate(e,d))!==p&&c!==o)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==n&&d!==q)||("string"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==p);return d===n?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===o):d!==q||(this.onEnd(o),e.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===o&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0==(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a("./zlib/inflate"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/constants"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=a("./zlib/gzheader"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l,m=this.strm,o=this.options.chunkSize,p=this.options.dictionary,q=!1;if(this.ended)return!1;d=b===~~b?b:!0===b?j.Z_FINISH:j.Z_NO_FLUSH,"string"==typeof a?m.input=i.binstring2buf(a):"[object ArrayBuffer]"===n.call(a)?m.input=new Uint8Array(a):m.input=a,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new h.Buf8(o),m.next_out=0,m.avail_out=o),c=g.inflate(m,j.Z_NO_FLUSH),c===j.Z_NEED_DICT&&p&&(l="string"==typeof p?i.string2buf(p):"[object ArrayBuffer]"===n.call(p)?new Uint8Array(p):p,c=g.inflateSetDictionary(this.strm,l)),c===j.Z_BUF_ERROR&&!0===q&&(c=j.Z_OK,q=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&c!==j.Z_STREAM_END&&(0!==m.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||("string"===this.options.to?(e=i.utf8border(m.output,m.next_out),f=m.next_out-e,k=i.buf2string(m.output,e),m.next_out=f,m.avail_out=o-f,f&&h.arraySet(m.output,m.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(q=!0)}while((m.avail_in>0||0===m.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),m.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;b<c;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;b<c;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],4:[function(a,b,c){"use strict";function d(a,b){if(b<65537&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;d<b;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(a){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){g=!1}for(var h=new e.Buf8(256),i=0;i<256;i++)h[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;h[254]=h[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;f<h;f++)c=a.charCodeAt(f),55296==(64512&c)&&f+1<h&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),i+=c<128?1:c<2048?2:c<65536?3:4;for(b=new e.Buf8(i),g=0,f=0;g<i;f++)c=a.charCodeAt(f),55296==(64512&c)&&f+1<h&&56320==(64512&(d=a.charCodeAt(f+1)))&&(c=65536+(c-55296<<10)+(d-56320),f++),c<128?b[g++]=c:c<2048?(b[g++]=192|c>>>6,b[g++]=128|63&c):c<65536?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;c<d;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,i=b||a.length,j=new Array(2*i);for(e=0,c=0;c<i;)if((f=a[c++])<128)j[e++]=f;else if((g=h[f])>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&c<i;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:f<65536?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128==(192&a[c]);)c--;return c<0?b:0===c?b:c+h[a[c]]>b?c:b}},{"./common":3}],5:[function(a,b,c){"use strict";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do{e=e+b[d++]|0,f=f+e|0}while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],6:[function(a,b,c){"use strict";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(a,b,c){"use strict";function d(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;h<g;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],8:[function(a,b,c){"use strict";function d(a,b){return a.msg=I[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(E.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){F._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,E.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=G(a.adler,b,e,c):2===a.state.wrap&&(a.adler=H(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-la?a.strstart-(a.w_size-la):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ka,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do{}while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m);if(d=ka-(m-f),f=m-ka,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}}while((b=l[b&k])>i&&0!=--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-la)){E.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do{d=a.head[--b],a.head[b]=d>=g?d-g:0}while(--c);c=g,b=c;do{d=a.prev[--b],a.prev[b]=d>=g?d-g:0}while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ja)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ja-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ja)););}while(a.lookahead<la&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===J)return ua;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ua;if(a.strstart-a.block_start>=a.w_size-la&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):(a.strstart>a.block_start&&(h(a,!1),a.strm.avail_out),ua)}function o(a,b){for(var c,d;;){if(a.lookahead<la){if(m(a),a.lookahead<la&&b===J)return ua;if(0===a.lookahead)break}if(c=0,a.lookahead>=ja&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-la&&(a.match_length=l(a,c)),a.match_length>=ja)if(d=F._tr_tally(a,a.strstart-a.match_start,a.match_length-ja),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ja){a.match_length--;do{a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart}while(0!=--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=a.strstart<ja-1?a.strstart:ja-1,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function p(a,b){for(var c,d,e;;){if(a.lookahead<la){if(m(a),a.lookahead<la&&b===J)return ua;if(0===a.lookahead)break}if(c=0,a.lookahead>=ja&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ja-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-la&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===U||a.match_length===ja&&a.strstart-a.match_start>4096)&&(a.match_length=ja-1)),a.prev_length>=ja&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ja,d=F._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ja),a.lookahead-=a.prev_length-1,a.prev_length-=2;do{++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart)}while(0!=--a.prev_length);if(a.match_available=0,a.match_length=ja-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ua}else if(a.match_available){if(d=F._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ua}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=F._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ja-1?a.strstart:ja-1,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ka){if(m(a),a.lookahead<=ka&&b===J)return ua;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ja&&a.strstart>0&&(e=a.strstart-1,(d=g[e])===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ka;do{}while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f);a.match_length=ka-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ja?(c=F._tr_tally(a,1,a.match_length-ja),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===J)return ua;break}if(a.match_length=0,c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=D[a.level].max_lazy,a.good_match=D[a.level].good_length,a.nice_match=D[a.level].nice_length,a.max_chain_length=D[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ja-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*ha),this.dyn_dtree=new E.Buf16(2*(2*fa+1)),this.bl_tree=new E.Buf16(2*(2*ga+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(ia+1),this.heap=new E.Buf16(2*ea+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*ea+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Z,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?na:sa,a.adler=2===b.wrap?0:1,b.last_flush=J,F._tr_init(b),O):d(a,Q)}function w(a){var b=v(a);return b===O&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?Q:(a.state.gzhead=b,O):Q}function y(a,b,c,e,f,g){if(!a)return Q;var h=1;if(b===T&&(b=6),e<0?(h=0,e=-e):e>15&&(h=2,e-=16),f<1||f>_||c!==$||e<8||e>15||b<0||b>9||g<0||g>X)return d(a,Q);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ja-1)/ja),i.window=new E.Buf8(2*i.w_size),i.head=new E.Buf16(i.hash_size),i.prev=new E.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new E.Buf8(i.pending_buf_size),i.d_buf=1*i.lit_bufsize,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,$,aa,ba,Y)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>N||b<0)return a?d(a,Q):Q;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ta&&b!==M)return d(a,0===a.avail_out?S:Q);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===na)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=H(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=oa):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,ya),h.status=sa);else{var m=$+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=V||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ma),m+=31-m%31,h.status=sa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===oa)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=qa)}else h.status=qa;if(h.status===qa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=ra)}else h.status=ra;if(h.status===ra&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=sa)):h.status=sa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,O}else if(0===a.avail_in&&e(b)<=e(c)&&b!==M)return d(a,S);if(h.status===ta&&0!==a.avail_in)return d(a,S);if(0!==a.avail_in||0!==h.lookahead||b!==J&&h.status!==ta){var o=h.strategy===V?r(h,b):h.strategy===W?q(h,b):D[h.level].func(h,b);if(o!==wa&&o!==xa||(h.status=ta),o===ua||o===wa)return 0===a.avail_out&&(h.last_flush=-1),O;if(o===va&&(b===K?F._tr_align(h):b!==N&&(F._tr_stored_block(h,0,0,!1),b===L&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,O}return b!==M?O:h.wrap<=0?P:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?O:P)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa&&b!==ta?d(a,Q):(a.state=null,b===sa?d(a,R):O)):Q}function C(a,b){var c,d,e,g,h,i,j,k,l=b.length;if(!a||!a.state)return Q;if(c=a.state,2===(g=c.wrap)||1===g&&c.status!==na||c.lookahead)return Q;for(1===g&&(a.adler=G(a.adler,b,l,0)),c.wrap=0,l>=c.w_size&&(0===g&&(f(c.head),c.strstart=0,c.block_start=0,c.insert=0),k=new E.Buf8(c.w_size),E.arraySet(k,b,l-c.w_size,c.w_size,0),b=k,l=c.w_size),h=a.avail_in,i=a.next_in,j=a.input,a.avail_in=l,a.next_in=0,a.input=b,m(c);c.lookahead>=ja;){d=c.strstart,e=c.lookahead-(ja-1);do{c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+ja-1])&c.hash_mask,c.prev[d&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=d,d++}while(--e);c.strstart=d,c.lookahead=ja-1,m(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=ja-1,c.match_available=0,a.next_in=i,a.input=j,a.avail_in=h,c.wrap=g,O}var D,E=a("../utils/common"),F=a("./trees"),G=a("./adler32"),H=a("./crc32"),I=a("./messages"),J=0,K=1,L=3,M=4,N=5,O=0,P=1,Q=-2,R=-3,S=-5,T=-1,U=1,V=2,W=3,X=4,Y=0,Z=2,$=8,_=9,aa=15,ba=8,ca=29,da=256,ea=da+1+ca,fa=30,ga=19,ha=2*ea+1,ia=15,ja=3,ka=258,la=ka+ja+1,ma=32,na=42,oa=69,pa=73,qa=91,ra=103,sa=113,ta=666,ua=1,va=2,wa=3,xa=4,ya=3;D=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateSetDictionary=C,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(a,b,c){"use strict";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=d},{}],10:[function(a,b,c){"use strict";var d=30;b.exports=function(a,b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;c=a.state,e=a.next_in,A=a.input,f=e+(a.avail_in-5),g=a.next_out,B=a.output,h=g-(b-a.avail_out),i=g+(a.avail_out-257),j=c.dmax,k=c.wsize,l=c.whave,m=c.wnext,n=c.window,o=c.hold,p=c.bits,q=c.lencode,r=c.distcode,s=(1<<c.lenbits)-1,t=(1<<c.distbits)-1;a:do{p<15&&(o+=A[e++]<<p,p+=8,o+=A[e++]<<p,p+=8),u=q[o&s];b:for(;;){if(v=u>>>24,o>>>=v,p-=v,0==(v=u>>>16&255))B[g++]=65535&u;else{if(!(16&v)){if(0==(64&v)){u=q[(65535&u)+(o&(1<<v)-1)];continue b}if(32&v){c.mode=12;break a}a.msg="invalid literal/length code",c.mode=d;break a}w=65535&u,v&=15,v&&(p<v&&(o+=A[e++]<<p,p+=8),w+=o&(1<<v)-1,o>>>=v,p-=v),p<15&&(o+=A[e++]<<p,p+=8,o+=A[e++]<<p,p+=8),u=r[o&t];c:for(;;){if(v=u>>>24,o>>>=v,p-=v,!(16&(v=u>>>16&255))){if(0==(64&v)){u=r[(65535&u)+(o&(1<<v)-1)];continue c}a.msg="invalid distance code",c.mode=d;break a}if(x=65535&u,v&=15,p<v&&(o+=A[e++]<<p,(p+=8)<v&&(o+=A[e++]<<p,p+=8)),(x+=o&(1<<v)-1)>j){a.msg="invalid distance too far back",c.mode=d;break a}if(o>>>=v,p-=v,v=g-h,x>v){if((v=x-v)>l&&c.sane){a.msg="invalid distance too far back",c.mode=d;break a}if(y=0,z=n,0===m){if(y+=k-v,v<w){w-=v;do{B[g++]=n[y++]}while(--v);y=g-x,z=B}}else if(m<v){if(y+=k+m-v,(v-=m)<w){w-=v;do{B[g++]=n[y++]}while(--v);if(y=0,m<w){v=m,w-=v;do{B[g++]=n[y++]}while(--v);y=g-x,z=B}}}else if(y+=m-v,v<w){w-=v;do{B[g++]=n[y++]}while(--v);y=g-x,z=B}for(;w>2;)B[g++]=z[y++],B[g++]=z[y++],B[g++]=z[y++],w-=3;w&&(B[g++]=z[y++],w>1&&(B[g++]=z[y++]))}else{y=g-x;do{B[g++]=B[y++],B[g++]=B[y++],B[g++]=B[y++],w-=3}while(w>2);w&&(B[g++]=B[y++],w>1&&(B[g++]=B[y++]))}break}}break}}while(e<f&&g<i);w=p>>3,e-=w,p-=w<<3,o&=(1<<p)-1,a.next_in=e,a.next_out=g,a.avail_in=e<f?f-e+5:5-(e-f),a.avail_out=g<i?i-g+257:257-(g-i),c.hold=o,c.bits=p}},{}],11:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=L,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new s.Buf32(pa),b.distcode=b.distdyn=new s.Buf32(qa),b.sane=1,b.back=-1,D):G}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):G}function h(a,b){var c,d;return a&&a.state?(d=a.state,b<0?(c=0,b=-b):(c=1+(b>>4),b<48&&(b&=15)),b&&(b<8||b>15)?G:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):G}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==D&&(a.state=null),c):G}function j(a){return i(a,sa)}function k(a){if(ta){var b;for(q=new s.Buf32(512),r=new s.Buf32(32),b=0;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(w(y,a.lens,0,288,q,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;w(z,a.lens,0,32,r,0,a.work,{bits:5}),ta=!1}a.lencode=q,a.lenbits=9,a.distcode=r,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new s.Buf8(f.wsize)),d>=f.wsize?(s.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),s.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(s.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,r,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new s.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return G;c=a.state,c.mode===W&&(c.mode=X),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=D;a:for(;;)switch(c.mode){case L:if(0===c.wrap){c.mode=X;break}for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0),m=0,n=0,c.mode=M;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=ma;break}if((15&m)!==K){a.msg="unknown compression method",c.mode=ma;break}if(m>>>=4,n-=4,wa=8+(15&m),0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=ma;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?U:W,m=0,n=0;break;case M:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==K){a.msg="unknown compression method",c.mode=ma;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=ma;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=N;case N:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=u(c.check,Ba,4,0)),m=0,n=0,c.mode=O;case O:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=P;case P:if(1024&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=Q;case Q:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),s.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=R;case R:if(2048&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=S;case S:if(4096&c.flags){if(0===i)break a;q=0;do{wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa))}while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=T;case T:if(512&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=ma;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=W;break;case U:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=V;case V:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,F;a.adler=c.check=1,c.mode=W;case W:if(b===B||b===C)break a;case X:if(c.last){m>>>=7&n,n-=7&n,c.mode=ja;break}for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=Y;break;case 1:if(k(c),c.mode=ca,b===C){m>>>=2,n-=2;break a}break;case 2:c.mode=_;break;case 3:a.msg="invalid block type",c.mode=ma}m>>>=2,n-=2;break;case Y:for(m>>>=7&n,n-=7&n;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!=(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=ma;break}if(c.length=65535&m,m=0,n=0,c.mode=Z,b===C)break a;case Z:c.mode=$;case $:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;s.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=W;break;case _:for(;n<14;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=257+(31&m),m>>>=5,n-=5,c.ndist=1+(31&m),m>>>=5,n-=5,c.ncode=4+(15&m),m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=ma;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.ncode;){for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=w(x,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=ma;break}c.have=0,c.mode=ba;case ba:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(sa<16)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=ma;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=ma;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===ma)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=ma;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=w(y,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=ma;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=w(z,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=ma;break}if(c.mode=ca,b===C)break a;case ca:c.mode=da;case da:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,v(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===W&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ia;break}if(32&ra){c.back=-1,c.mode=W;break}if(64&ra){a.msg="invalid literal/length code",c.mode=ma;break}c.extra=15&ra,c.mode=ea;case ea:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=fa;case fa:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0==(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=ma;break}c.offset=sa,c.extra=15&ra,c.mode=ga;case ga:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=ma;break}c.mode=ha;case ha:if(0===j)break a;if(q=p-j,c.offset>q){if((q=c.offset-q)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=ma;break}q>c.wnext?(q-=c.wnext,r=c.wsize-q):r=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,r=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do{f[h++]=pa[r++]}while(--q);0===c.length&&(c.mode=da);break;case ia:if(0===j)break a;f[h++]=c.length,j--,c.mode=da;break;case ja:if(c.wrap){for(;n<32;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?u(c.check,f,p,h-p):t(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=ma;break}m=0,n=0}c.mode=ka;case ka:if(c.wrap&&c.flags){for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=ma;break}m=0,n=0}c.mode=la;case la:xa=E;break a;case ma:xa=H;break a;case na:return I;case oa:default:return G}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<ma&&(c.mode<ja||b!==A))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=na,I):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?u(c.check,f,p,a.next_out-p):t(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===W?128:0)+(c.mode===ca||c.mode===Z?256:0),(0===o&&0===p||b===A)&&xa===D&&(xa=J),xa)}function n(a){if(!a||!a.state)return G;var b=a.state;return b.window&&(b.window=null),a.state=null,D}function o(a,b){var c;return a&&a.state?(c=a.state,0==(2&c.wrap)?G:(c.head=b,b.done=!1,D)):G}function p(a,b){var c,d,e=b.length;return a&&a.state?(c=a.state,0!==c.wrap&&c.mode!==V?G:c.mode===V&&(d=1,(d=t(d,b,e,0))!==c.check)?H:l(a,b,e,e)?(c.mode=na,I):(c.havedict=1,D)):G}var q,r,s=a("../utils/common"),t=a("./adler32"),u=a("./crc32"),v=a("./inffast"),w=a("./inftrees"),x=0,y=1,z=2,A=4,B=5,C=6,D=0,E=1,F=2,G=-2,H=-3,I=-4,J=-5,K=8,L=1,M=2,N=3,O=4,P=5,Q=6,R=7,S=8,T=9,U=10,V=11,W=12,X=13,Y=14,Z=15,$=16,_=17,aa=18,ba=19,ca=20,da=21,ea=22,fa=23,ga=24,ha=25,ia=26,ja=27,ka=28,la=29,ma=30,na=31,oa=32,pa=852,qa=592,ra=15,sa=ra,ta=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateSetDictionary=p,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(a,b,c){"use strict";var d=a("../utils/common"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;D<=e;D++)P[D]=0;for(E=0;E<o;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=e;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;D<e;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<o;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(;;){z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do{u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0}while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0==--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":3}],13:[function(a,b,c){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return a<256?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do{c|=1&a,a>>>=1,c<<=1}while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=W;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;c<V;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)(e=a.heap[--c])>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;d<=W;d++)f[d]=g=g+c[d-1]<<1;for(e=0;e<=b;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;d<Q-1;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;d<16;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;d<T;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;b<=W;b++)g[b]=0;for(a=0;a<=143;)ga[2*a+1]=8,a++,g[8]++;for(;a<=255;)ga[2*a+1]=9,a++,g[9]++;for(;a<=279;)ga[2*a+1]=7,a++,g[7]++;for(;a<=287;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;a<T;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;b<S;b++)a.dyn_ltree[2*b]=0;for(b=0;b<T;b++)a.dyn_dtree[2*b]=0;for(b=0;b<U;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do{d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),0!==(h=ca[f])&&(d-=la[f],i(a,d,h)))}while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=j<2?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do{c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1)}while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;d<=c;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):h<=10?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;d<=c;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(h<l)do{j(a,e,a.bl_tree)}while(0!=--h);else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):h<=10?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;e<d;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;b<R;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=c+5,c+4<=e&&-1!==b?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a("../utils/common"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{"../utils/common":3}],15:[function(a,b,c){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}],"/":[function(a,b,c){"use strict";var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g),b.exports=h},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});var md5=function(){function a(){this.hexcase=0,this.b64pad=""}return a.prototype.hex_md5=function(a){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(a)))},a.prototype.b64_md5=function(a){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(a)))},a.prototype.any_md5=function(a,b){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(a)),b)},a.prototype.hex_hmac_md5=function(a,b){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(a),this.str2rstr_utf8(b)))},a.prototype.b64_hmac_md5=function(a,b){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(a),this.str2rstr_utf8(b)))},a.prototype.any_hmac_md5=function(a,b,c){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(a),this.str2rstr_utf8(b)),c)},a.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},a.prototype.rstr_md5=function(a){return this.binl2rstr(this.binl_md5(this.rstr2binl(a),8*a.length))},a.prototype.rstr_hmac_md5=function(a,b){var c=this.rstr2binl(a);c.length>16&&(c=this.binl_md5(c,8*a.length));for(var d=Array(16),e=Array(16),f=0;f<16;f++)d[f]=909522486^c[f],e[f]=1549556828^c[f];var g=this.binl_md5(d.concat(this.rstr2binl(b)),512+8*b.length);return this.binl2rstr(this.binl_md5(e.concat(g),640))},a.prototype.rstr2hex=function(a){try{this.hexcase}catch(a){this.hexcase=0}for(var b,c=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",d="",e=0;e<a.length;e++)b=a.charCodeAt(e),d+=c.charAt(b>>>4&15)+c.charAt(15&b);return d},a.prototype.rstr2b64=function(a){try{this.b64pad}catch(a){this.b64pad=""}for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="",d=a.length,e=0;e<d;e+=3)for(var f=a.charCodeAt(e)<<16|(e+1<d?a.charCodeAt(e+1)<<8:0)|(e+2<d?a.charCodeAt(e+2):0),g=0;g<4;g++)8*e+6*g>8*a.length?c+=this.b64pad:c+=b.charAt(f>>>6*(3-g)&63);return c},a.prototype.rstr2any=function(a,b){var c,d,e,f,g,h=b.length,i=Array(Math.ceil(a.length/2));for(c=0;c<i.length;c++)i[c]=a.charCodeAt(2*c)<<8|a.charCodeAt(2*c+1);var j=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2))),k=Array(j);for(d=0;d<j;d++){for(g=Array(),f=0,c=0;c<i.length;c++)f=(f<<16)+i[c],e=Math.floor(f/h),f-=e*h,(g.length>0||e>0)&&(g[g.length]=e);k[d]=f,i=g}var l="";for(c=k.length-1;c>=0;c--)l+=b.charAt(k[c]);return l},a.prototype.str2rstr_utf8=function(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,55296<=b&&b<=56319&&56320<=c&&c<=57343&&(b=65536+((1023&b)<<10)+(1023&c),e++),b<=127?d+=String.fromCharCode(b):b<=2047?d+=String.fromCharCode(192|b>>>6&31,128|63&b):b<=65535?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):b<=2097151&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d},a.prototype.str2rstr_utf16le=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c),a.charCodeAt(c)>>>8&255);return b},a.prototype.str2rstr_utf16be=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)>>>8&255,255&a.charCodeAt(c));return b},a.prototype.rstr2binl=function(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b},a.prototype.binl2rstr=function(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b},a.prototype.binl_md5=function(a,b){a[b>>5]|=128<<b%32,a[14+(b+64>>>9<<4)]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,i=d,j=e,k=f;c=this.md5_ff(c,d,e,f,a[g+0],7,-680876936),f=this.md5_ff(f,c,d,e,a[g+1],12,-389564586),e=this.md5_ff(e,f,c,d,a[g+2],17,606105819),d=this.md5_ff(d,e,f,c,a[g+3],22,-1044525330),c=this.md5_ff(c,d,e,f,a[g+4],7,-176418897),f=this.md5_ff(f,c,d,e,a[g+5],12,1200080426),e=this.md5_ff(e,f,c,d,a[g+6],17,-1473231341),d=this.md5_ff(d,e,f,c,a[g+7],22,-45705983),c=this.md5_ff(c,d,e,f,a[g+8],7,1770035416),f=this.md5_ff(f,c,d,e,a[g+9],12,-1958414417),e=this.md5_ff(e,f,c,d,a[g+10],17,-42063),d=this.md5_ff(d,e,f,c,a[g+11],22,-1990404162),c=this.md5_ff(c,d,e,f,a[g+12],7,1804603682),f=this.md5_ff(f,c,d,e,a[g+13],12,-40341101),e=this.md5_ff(e,f,c,d,a[g+14],17,-1502002290),d=this.md5_ff(d,e,f,c,a[g+15],22,1236535329),c=this.md5_gg(c,d,e,f,a[g+1],5,-165796510),f=this.md5_gg(f,c,d,e,a[g+6],9,-1069501632),e=this.md5_gg(e,f,c,d,a[g+11],14,643717713),d=this.md5_gg(d,e,f,c,a[g+0],20,-373897302),c=this.md5_gg(c,d,e,f,a[g+5],5,-701558691),f=this.md5_gg(f,c,d,e,a[g+10],9,38016083),e=this.md5_gg(e,f,c,d,a[g+15],14,-660478335),d=this.md5_gg(d,e,f,c,a[g+4],20,-405537848),c=this.md5_gg(c,d,e,f,a[g+9],5,568446438),f=this.md5_gg(f,c,d,e,a[g+14],9,-1019803690),e=this.md5_gg(e,f,c,d,a[g+3],14,-187363961),d=this.md5_gg(d,e,f,c,a[g+8],20,1163531501),c=this.md5_gg(c,d,e,f,a[g+13],5,-1444681467),f=this.md5_gg(f,c,d,e,a[g+2],9,-51403784),e=this.md5_gg(e,f,c,d,a[g+7],14,1735328473),d=this.md5_gg(d,e,f,c,a[g+12],20,-1926607734),c=this.md5_hh(c,d,e,f,a[g+5],4,-378558),f=this.md5_hh(f,c,d,e,a[g+8],11,-2022574463),e=this.md5_hh(e,f,c,d,a[g+11],16,1839030562),d=this.md5_hh(d,e,f,c,a[g+14],23,-35309556),c=this.md5_hh(c,d,e,f,a[g+1],4,-1530992060),f=this.md5_hh(f,c,d,e,a[g+4],11,1272893353),e=this.md5_hh(e,f,c,d,a[g+7],16,-155497632),d=this.md5_hh(d,e,f,c,a[g+10],23,-1094730640),c=this.md5_hh(c,d,e,f,a[g+13],4,681279174),f=this.md5_hh(f,c,d,e,a[g+0],11,-358537222),e=this.md5_hh(e,f,c,d,a[g+3],16,-722521979),d=this.md5_hh(d,e,f,c,a[g+6],23,76029189),c=this.md5_hh(c,d,e,f,a[g+9],4,-640364487),f=this.md5_hh(f,c,d,e,a[g+12],11,-421815835),e=this.md5_hh(e,f,c,d,a[g+15],16,530742520),d=this.md5_hh(d,e,f,c,a[g+2],23,-995338651),c=this.md5_ii(c,d,e,f,a[g+0],6,-198630844),f=this.md5_ii(f,c,d,e,a[g+7],10,1126891415),e=this.md5_ii(e,f,c,d,a[g+14],15,-1416354905),d=this.md5_ii(d,e,f,c,a[g+5],21,-57434055),c=this.md5_ii(c,d,e,f,a[g+12],6,1700485571),f=this.md5_ii(f,c,d,e,a[g+3],10,-1894986606),e=this.md5_ii(e,f,c,d,a[g+10],15,-1051523),d=this.md5_ii(d,e,f,c,a[g+1],21,-2054922799),c=this.md5_ii(c,d,e,f,a[g+8],6,1873313359),f=this.md5_ii(f,c,d,e,a[g+15],10,-30611744),e=this.md5_ii(e,f,c,d,a[g+6],15,-1560198380),d=this.md5_ii(d,e,f,c,a[g+13],21,1309151649),c=this.md5_ii(c,d,e,f,a[g+4],6,-145523070),f=this.md5_ii(f,c,d,e,a[g+11],10,-1120210379),e=this.md5_ii(e,f,c,d,a[g+2],15,718787259),d=this.md5_ii(d,e,f,c,a[g+9],21,-343485551),c=this.safe_add(c,h),d=this.safe_add(d,i),e=this.safe_add(e,j),f=this.safe_add(f,k)}return[c,d,e,f]},a.prototype.md5_cmn=function(a,b,c,d,e,f){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(b,a),this.safe_add(d,f)),e),c)},a.prototype.md5_ff=function(a,b,c,d,e,f,g){return this.md5_cmn(b&c|~b&d,a,b,e,f,g)},a.prototype.md5_gg=function(a,b,c,d,e,f,g){return this.md5_cmn(b&d|c&~d,a,b,e,f,g)},a.prototype.md5_hh=function(a,b,c,d,e,f,g){return this.md5_cmn(b^c^d,a,b,e,f,g)},a.prototype.md5_ii=function(a,b,c,d,e,f,g){return this.md5_cmn(c^(b|~d),a,b,e,f,g)},a.prototype.safe_add=function(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c},a.prototype.bit_rol=function(a,b){return a<<b|a>>>32-b},a}(),Pmd;!function(a){!function(a){a[a.ChatType_Map=2]="ChatType_Map"}(a.ChatType||(a.ChatType={}));var b=(a.ChatType,function(){function a(){}return a.prototype.GetType=function(){return"Pmd.Chat"},a}());a.Chat=b;var b;!function(a){!function(a){a[a.CommonChatUserPmd_CS=1]="CommonChatUserPmd_CS",a[a.GMCommandChatUserPmd_C=2]="GMCommandChatUserPmd_C",a[a.GMCommandListChatUserPmd_S=4]="GMCommandListChatUserPmd_S",a[a.PrivateChatUserPmd_CS=5]="PrivateChatUserPmd_CS",a[a.CurrentGmLevelChatUserPmd_S=6]="CurrentGmLevelChatUserPmd_S",a[a.stAddHideButtonBookChatUserPmd_S=7]="stAddHideButtonBookChatUserPmd_S",a[a.stAddHideButtonChatUserPmd_S=8]="stAddHideButtonChatUserPmd_S",a[a.stAddHideButtonNewFunctionChatUserPmd_S=9]="stAddHideButtonNewFunctionChatUserPmd_S",a[a.stAddHideButtonServerHotKeyChatUserPmd_S=10]="stAddHideButtonServerHotKeyChatUserPmd_S",a[a.stCommonChatUserPmd_CS=11]="stCommonChatUserPmd_CS",a[a.stMessageBoxChatUserPmd_S=12]="stMessageBoxChatUserPmd_S"}(a.Param||(a.Param={}));a.Param}(b=a.Chat||(a.Chat={}));var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CommonChatUserPmd_CS"},a}();a.CommonChatUserPmd_CS=c;var c;!function(a){!function(a){a[a.ChatType_None=0]="ChatType_None",a[a.ChatType_Lobby=1]="ChatType_Lobby",a[a.ChatType_Room=2]="ChatType_Room",a[a.ChatType_Robot=4]="ChatType_Robot"}(a.ChatType||(a.ChatType={}));a.ChatType}(c=a.CommonChatUserPmd_CS||(a.CommonChatUserPmd_CS={}));var c;!function(a){!function(a){a[a.ChatPos_None=0]="ChatPos_None",a[a.ChatPos_Normal=1]="ChatPos_Normal",a[a.ChatPos_Sys=2]="ChatPos_Sys",a[a.ChatPos_Tips=4]="ChatPos_Tips",a[a.ChatPos_Pop=8]="ChatPos_Pop",a[a.ChatPos_Private=16]="ChatPos_Private",a[a.ChatPos_Important=32]="ChatPos_Important",a[a.ChatPos_Honor=64]="ChatPos_Honor",a[a.ChatPos_Gm=128]="ChatPos_Gm"}(a.ChatPos||(a.ChatPos={}));a.ChatPos}(c=a.CommonChatUserPmd_CS||(a.CommonChatUserPmd_CS={}));var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GMCommandChatUserPmd_C"},a}();a.GMCommandChatUserPmd_C=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GMHelpInfo"},a}();a.GMHelpInfo=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GMCommandListChatUserPmd_S"},a}();a.GMCommandListChatUserPmd_S=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PrivateChatUserPmd_CS"},a}();a.PrivateChatUserPmd_CS=g;var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CurrentGmLevelChatUserPmd_S"},a}();a.CurrentGmLevelChatUserPmd_S=h;var i=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stAddHideButtonBookChatUserPmd_S"},a}();a.stAddHideButtonBookChatUserPmd_S=i;var j=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stAddHideButtonChatUserPmd_S"},a}();a.stAddHideButtonChatUserPmd_S=j;var k=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stAddHideButtonNewFunctionChatUserPmd_S"},a}();a.stAddHideButtonNewFunctionChatUserPmd_S=k;var l=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stAddHideButtonServerHotKeyChatUserPmd_S"},a}();a.stAddHideButtonServerHotKeyChatUserPmd_S=l;var m=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stCommonChatUserPmd_CS"},a}();a.stCommonChatUserPmd_CS=m;var n=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.stMessageBoxChatUserPmd_S"},a}();a.stMessageBoxChatUserPmd_S=n}(Pmd||(Pmd={}));var Pmd;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.Forward"},a}();a.Forward=b;var b;!function(a){!function(a){a[a.UserJsMessageForwardUserPmd_CS=1]="UserJsMessageForwardUserPmd_CS",a[a.BroadcastJsMessageForwardUserPmd_CS=2]="BroadcastJsMessageForwardUserPmd_CS",a[a.WebSocketForwardUserPmd_C=4]="WebSocketForwardUserPmd_C",a[a.WebSocketForwardUserPmd_S=5]="WebSocketForwardUserPmd_S",a[a.BehaviorMessageForwardUserPmd_CS=6]="BehaviorMessageForwardUserPmd_CS",a[a.PushMessageForwardUserPmd_S=7]="PushMessageForwardUserPmd_S"}(a.Param||(a.Param={}));a.Param}(b=a.Forward||(a.Forward={}));var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserJsMessageForwardUserPmd_CS"},a}();a.UserJsMessageForwardUserPmd_CS=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.BroadcastJsMessageForwardUserPmd_CS"},a}();a.BroadcastJsMessageForwardUserPmd_CS=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_C"},a}();a.WebSocketForwardUserPmd_C=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.WebSocketForwardUserPmd_S"},a}();a.WebSocketForwardUserPmd_S=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.BehaviorMessageForwardUserPmd_CS"},a}();a.BehaviorMessageForwardUserPmd_CS=g;var g;!function(a){!function(a){a[a.NormalText=1]="NormalText",a[a.UploadTree=2]="UploadTree"}(a.Type||(a.Type={}));a.Type}(g=a.BehaviorMessageForwardUserPmd_CS||(a.BehaviorMessageForwardUserPmd_CS={}));var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PushMessageForwardUserPmd_S"},a}();a.PushMessageForwardUserPmd_S=h}(Pmd||(Pmd={}));var Pmd;!function(a){!function(a){a[a.LoginOk=0]="LoginOk",a[a.TokenFindError=1]="TokenFindError",a[a.TokenDiffError=2]="TokenDiffError",a[a.VersionError=3]="VersionError"}(a.VerifyReturnReason||(a.VerifyReturnReason={}));a.VerifyReturnReason;!function(a){a[a.Shutdown=0]="Shutdown",a[a.Normal=1]="Normal",a[a.Fullly=2]="Fullly",a[a.Starting=3]="Starting"}(a.ZoneState||(a.ZoneState={}));a.ZoneState;!function(a){a[a.ZoneInfoBitMask_None=0]="ZoneInfoBitMask_None",a[a.ZoneInfoBitMask_Normal=1]="ZoneInfoBitMask_Normal",a[a.ZoneInfoBitMask_SandBox=2]="ZoneInfoBitMask_SandBox",a[a.ZoneInfoBitMask_NoOpen=4]="ZoneInfoBitMask_NoOpen"}(a.ZoneInfoBitMask||(a.ZoneInfoBitMask={}));a.ZoneInfoBitMask;!function(a){a[a.Password=1]="Password",a[a.ServerShutdown=2]="ServerShutdown",a[a.VersionTooLow=3]="VersionTooLow",a[a.UserTokenFind=4]="UserTokenFind",a[a.UserTokenTempId=5]="UserTokenTempId",a[a.UserTokenTimeOut=6]="UserTokenTimeOut",a[a.LoginDulicate=7]="LoginDulicate",a[a.NoGatewaytDown=8]="NoGatewaytDown",a[a.AccountUsing=9]="AccountUsing",a[a.GatewayUserMax=10]="GatewayUserMax",a[a.WaiGuaPunish=11]="WaiGuaPunish",a[a.ServerStartTime=12]="ServerStartTime"}(a.LoginReturnFailReason||(a.LoginReturnFailReason={}));a.LoginReturnFailReason;!function(a){a[a.PlatType_Normal=0]="PlatType_Normal",a[a.PlatType_UC=4]="PlatType_UC",a[a.PlatType_LeZhuan=67]="PlatType_LeZhuan",a[a.PlatType_WeChat=68]="PlatType_WeChat",a[a.PlatType_Play68=69]="PlatType_Play68",a[a.PlatType_AiBei=70]="PlatType_AiBei",a[a.PlatType_Facebook=71]="PlatType_Facebook",a[a.PlatType_GooglePlay=72]="PlatType_GooglePlay",a[a.PlatType_XingZhiZhu=73]="PlatType_XingZhiZhu",a[a.PlatType_HuoWu=74]="PlatType_HuoWu",a[a.PlatType_CaiGuo=77]="PlatType_CaiGuo",a[a.PlatType_1758=79]="PlatType_1758",a[a.PlatType_DAPAI=80]="PlatType_DAPAI",a[a.PlatType_HILE=82]="PlatType_HILE",a[a.PlatType_AAY=86]="PlatType_AAY",a[a.PlatType_WEIYOU=90]="PlatType_WEIYOU",a[a.PlatType_9g=99]="PlatType_9g",a[a.PlatType_MOBILE=129]="PlatType_MOBILE",a[a.PlatType_XueChi=133]="PlatType_XueChi",a[a.PlatType_Egret=134]="PlatType_Egret",a[a.PlatType_AoXin=140]="PlatType_AoXin",a[a.PlatType_HUOSU=145]="PlatType_HUOSU",a[a.PlatType_RONGQIANG=151]="PlatType_RONGQIANG",a[a.PlatType_WXApp=152]="PlatType_WXApp",a[a.PlatType_RongQiangApp=153]="PlatType_RongQiangApp"}(a.PlatType||(a.PlatType={}));a.PlatType;!function(a){a[a.OnlineState_Offline=0]="OnlineState_Offline",a[a.OnlineState_Online=1]="OnlineState_Online",a[a.OnlineState_Slow=2]="OnlineState_Slow",a[a.OnlineState_Leave=3]="OnlineState_Leave",a[a.OnlineState_Calling=4]="OnlineState_Calling"}(a.OnlineState||(a.OnlineState={}));var b=(a.OnlineState,function(){function a(){}return a.prototype.GetType=function(){return"Pmd.Login"},a}());a.Login=b;var b;!function(a){!function(a){a[a.AccountTokenVerifyLoginUserPmd_CS=1]="AccountTokenVerifyLoginUserPmd_CS",a[a.AccountTokenVerifyReturnLoginUserPmd_S=2]="AccountTokenVerifyReturnLoginUserPmd_S",a[a.ZoneInfoListLoginUserPmd_S=3]="ZoneInfoListLoginUserPmd_S",a[a.UserLoginRequestLoginUserPmd_C=4]="UserLoginRequestLoginUserPmd_C",a[a.UserLoginReturnFailLoginUserPmd_S=5]="UserLoginReturnFailLoginUserPmd_S",a[a.UserLoginReturnOkLoginUserPmd_S=6]="UserLoginReturnOkLoginUserPmd_S",a[a.UserLoginTokenLoginUserPmd_C=7]="UserLoginTokenLoginUserPmd_C",a[a.ClientLogUrlLoginUserPmd_S=8]="ClientLogUrlLoginUserPmd_S",a[a.MessageBoxLoginUserPmd_S=9]="MessageBoxLoginUserPmd_S",a[a.RequestAccountRegisterLoginUserPmd_C=10]="RequestAccountRegisterLoginUserPmd_C",a[a.ReturnAccountRegisterLoginUserPmd_S=11]="ReturnAccountRegisterLoginUserPmd_S",a[a.UserLogoutTokenLoginUserPmd_C=12]="UserLogoutTokenLoginUserPmd_C",a[a.UserLoginReconnectLoginUserPmd_C=13]="UserLoginReconnectLoginUserPmd_C",a[a.ReconnectKickoutLoginUserPmd_S=14]="ReconnectKickoutLoginUserPmd_S",a[a.ServerKickoutLoginUserPmd_S=15]="ServerKickoutLoginUserPmd_S",a[a.RequestZoneInfoListLoginUserPmd_C=16]="RequestZoneInfoListLoginUserPmd_C",a[a.SetServerLangLoginUserPmd_C=17]="SetServerLangLoginUserPmd_C",a[a.RequestClientIPLoginUserPmd_C=18]="RequestClientIPLoginUserPmd_C",a[a.ReturnClientIPLoginUserPmd_S=19]="ReturnClientIPLoginUserPmd_S",a[a.ReconnectErrorLoginUserPmd_S=20]="ReconnectErrorLoginUserPmd_S",a[a.CheckVersionLoginUserPmd_C=21]="CheckVersionLoginUserPmd_C",a[a.PushAccountVerifyLoginUserPmd_C=22]="PushAccountVerifyLoginUserPmd_C",a[a.BehaviorClientVerifyLoginUserPmd_C=23]="BehaviorClientVerifyLoginUserPmd_C",a[a.RequestUserZoneInfoLoginUserPmd_C=24]="RequestUserZoneInfoLoginUserPmd_C",a[a.RequestUserZoneInfoLoginUserPmd_S=25]="RequestUserZoneInfoLoginUserPmd_S",a[a.MobileRegistRequestRandCodeLoginUserPmd_C=26]="MobileRegistRequestRandCodeLoginUserPmd_C",a[a.MobileRegistReturnRandCodeLoginUserPmd_S=27]="MobileRegistReturnRandCodeLoginUserPmd_S",a[a.MobileRegistRequestCreateAccountLoginUserPmd_C=28]="MobileRegistRequestCreateAccountLoginUserPmd_C",a[a.MobileRegistReturnCreateAccountFailLoginUserPmd_S=29]="MobileRegistReturnCreateAccountFailLoginUserPmd_S",a[a.RequestSupoortGameListLoginUserPmd_C=30]="RequestSupoortGameListLoginUserPmd_C",a[a.ReturnSupoortGameListLoginUserPmd_S=31]="ReturnSupoortGameListLoginUserPmd_S",a[a.UserRequestPlatTokenByPasswordLoginUserPmd_C=32]="UserRequestPlatTokenByPasswordLoginUserPmd_C",a[a.UserRequestPlatTokenByThirdLoginUserPmd_C=33]="UserRequestPlatTokenByThirdLoginUserPmd_C",a[a.UserRequestPlatTokenLoginOkLoginUserPmd_S=34]="UserRequestPlatTokenLoginOkLoginUserPmd_S",a[a.UserRequestPlatTokenLoginFailLoginUserPmd_S=35]="UserRequestPlatTokenLoginFailLoginUserPmd_S",a[a.EmailRegistRequestCreateAccountLoginUserPmd_C=36]="EmailRegistRequestCreateAccountLoginUserPmd_C",a[a.EmailRegistReturnCreateAccountLoginUserPmd_S=37]="EmailRegistReturnCreateAccountLoginUserPmd_S",a[a.UserLoginReconnectOkLoginUserPmd_S=38]="UserLoginReconnectOkLoginUserPmd_S",a[a.GameServerShutDownLoginUserPmd_S=39]="GameServerShutDownLoginUserPmd_S",a[a.OnlineNumWaitingLoginUserPmd_S=40]="OnlineNumWaitingLoginUserPmd_S",a[a.OnlineStateLoginUserPmd_CS=41]="OnlineStateLoginUserPmd_CS",a[a.ServerDebugLevelLoginUserPmd_S=42]="ServerDebugLevelLoginUserPmd_S",a[a.ServerShutDownLoginUserPmd_S=43]="ServerShutDownLoginUserPmd_S",a[a.RequestZoneStateLoginUserPmd_CS=44]="RequestZoneStateLoginUserPmd_CS",a[a.ClientConfigUpdateLoginUserPmd_S=45]="ClientConfigUpdateLoginUserPmd_S"}(a.Param||(a.Param={}));a.Param}(b=a.Login||(a.Login={}));var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.AccountTokenVerifyLoginUserPmd_CS"},a}();a.AccountTokenVerifyLoginUserPmd_CS=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PushAccountVerifyLoginUserPmd_C"},a}();a.PushAccountVerifyLoginUserPmd_C=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.AccountTokenVerifyReturnLoginUserPmd_S"},a}();a.AccountTokenVerifyReturnLoginUserPmd_S=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ZoneInfo"},a}();a.ZoneInfo=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ZoneInfoListLoginUserPmd_S"},a}();a.ZoneInfoListLoginUserPmd_S=g;var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestZoneInfoListLoginUserPmd_C"},a}();a.RequestZoneInfoListLoginUserPmd_C=h;var i=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_C"},a}();a.RequestUserZoneInfoLoginUserPmd_C=i;var j=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserZoneInfo"},a}();a.UserZoneInfo=j;var k=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestUserZoneInfoLoginUserPmd_S"},a}();a.RequestUserZoneInfoLoginUserPmd_S=k;var l=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"},a}();a.MobileRegistRequestRandCodeLoginUserPmd_C=l;var m=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"},a}();a.MobileRegistReturnRandCodeLoginUserPmd_S=m;var n=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C"},a}();a.MobileRegistRequestCreateAccountLoginUserPmd_C=n;var o=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MobileRegistReturnCreateAccountFailLoginUserPmd_S"},a}();a.MobileRegistReturnCreateAccountFailLoginUserPmd_S=o;var p=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C"},a}();a.EmailRegistRequestCreateAccountLoginUserPmd_C=p;var q=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.EmailRegistReturnCreateAccountLoginUserPmd_S"},a}();a.EmailRegistReturnCreateAccountLoginUserPmd_S=q;var r=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C"},a}();a.UserRequestPlatTokenByPasswordLoginUserPmd_C=r;var s=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenByThirdLoginUserPmd_C"},a}();a.UserRequestPlatTokenByThirdLoginUserPmd_C=s;var t=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginOkLoginUserPmd_S"},a}();a.UserRequestPlatTokenLoginOkLoginUserPmd_S=t;var u=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"},a}();a.UserRequestPlatTokenLoginFailLoginUserPmd_S=u;var v=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginRequestLoginUserPmd_C"},a}();a.UserLoginRequestLoginUserPmd_C=v;var w=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginReturnFailLoginUserPmd_S"},a}();a.UserLoginReturnFailLoginUserPmd_S=w;var x=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginReturnOkLoginUserPmd_S"},a}();a.UserLoginReturnOkLoginUserPmd_S=x;var y=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginTokenLoginUserPmd_C"},a}();a.UserLoginTokenLoginUserPmd_C=y;var z=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginReconnectLoginUserPmd_C"},a}();a.UserLoginReconnectLoginUserPmd_C=z;var A=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ClientLogUrlLoginUserPmd_S"},a}();a.ClientLogUrlLoginUserPmd_S=A;var B=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MessageBoxLoginUserPmd_S"},a}();a.MessageBoxLoginUserPmd_S=B;var C=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestAccountRegisterLoginUserPmd_C"},a}();a.RequestAccountRegisterLoginUserPmd_C=C;var D=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnAccountRegisterLoginUserPmd_S"},a}();a.ReturnAccountRegisterLoginUserPmd_S=D;var E=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLogoutTokenLoginUserPmd_C"},a}();a.UserLogoutTokenLoginUserPmd_C=E;var F=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReconnectKickoutLoginUserPmd_S"},a}();a.ReconnectKickoutLoginUserPmd_S=F;var G=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReconnectErrorLoginUserPmd_S"},a}();a.ReconnectErrorLoginUserPmd_S=G;var H=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ServerKickoutLoginUserPmd_S"},a}();a.ServerKickoutLoginUserPmd_S=H;var I=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatInfo"},a}();a.PlatInfo=I;var J=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ThirdPlatLoginUserPmd_C"},a}();a.ThirdPlatLoginUserPmd_C=J;var K=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SetServerLangLoginUserPmd_C"},a}();a.SetServerLangLoginUserPmd_C=K;var L=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestClientIPLoginUserPmd_C"},a}();a.RequestClientIPLoginUserPmd_C=L;var M=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnClientIPLoginUserPmd_S"},a}();a.ReturnClientIPLoginUserPmd_S=M;var N=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CheckVersionLoginUserPmd_C"},a}();a.CheckVersionLoginUserPmd_C=N;var O=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.BehaviorClientVerifyLoginUserPmd_C"},a}();a.BehaviorClientVerifyLoginUserPmd_C=O;var P=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestSupoortGameListLoginUserPmd_C"},a}();a.RequestSupoortGameListLoginUserPmd_C=P;var Q=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S_Game"},a}();a.ReturnSupoortGameListLoginUserPmd_S_Game=Q;var R=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnSupoortGameListLoginUserPmd_S"},a}();a.ReturnSupoortGameListLoginUserPmd_S=R;var S=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginReconnectOkLoginUserPmd_S"},a}();a.UserLoginReconnectOkLoginUserPmd_S=S;var T=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GameServerShutDownLoginUserPmd_S"},a}();a.GameServerShutDownLoginUserPmd_S=T;var U=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.OnlineNumWaitingLoginUserPmd_S"},a}();a.OnlineNumWaitingLoginUserPmd_S=U;var V=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.OnlineStateLoginUserPmd_CS"},a}();a.OnlineStateLoginUserPmd_CS=V;var W=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ServerDebugLevelLoginUserPmd_S"},a}();a.ServerDebugLevelLoginUserPmd_S=W;var X=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ServerShutDownLoginUserPmd_S"},a}();a.ServerShutDownLoginUserPmd_S=X;var Y=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestZoneStateLoginUserPmd_CS"},a}();a.RequestZoneStateLoginUserPmd_CS=Y;var Z=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ClientConfigUpdateLoginUserPmd_S"},a}();a.ClientConfigUpdateLoginUserPmd_S=Z}(Pmd||(Pmd={}));var Pmd;!function(a){!function(a){a[a.Bitmask_None=0]="Bitmask_None",a[a.Bitmask_Compress=1]="Bitmask_Compress",a[a.Bitmask_Encrypt=2]="Bitmask_Encrypt",a[a.Bitmask_Header=4]="Bitmask_Header",a[a.Bitmask_NoHeadLen=8]="Bitmask_NoHeadLen",a[a.Bitmask_Reconnect=16]="Bitmask_Reconnect"}(a.FrameHeader||(a.FrameHeader={}));var b=(a.FrameHeader,function(){function a(){}return a.prototype.GetType=function(){return"Pmd.Null"},a}());a.Null=b;var b;!function(a){!function(a){a[a.ForwardNullUserPmd_CS=0]="ForwardNullUserPmd_CS",a[a.TickRequestNullUserPmd_CS=1]="TickRequestNullUserPmd_CS",a[a.TickReturnNullUserPmd_CS=2]="TickReturnNullUserPmd_CS",a[a.RequestCloseNullUserPmd_CS=3]="RequestCloseNullUserPmd_CS",a[a.FrameHeaderNullUserPmd_CS=4]="FrameHeaderNullUserPmd_CS",a[a.CheckVersionUserPmd_CS=5]="CheckVersionUserPmd_CS",a[a.ForwardBwNullUserPmd_CS=6]="ForwardBwNullUserPmd_CS",a[a.SetTickTimeoutNullUserPmd_CS=7]="SetTickTimeoutNullUserPmd_CS",a[a.SetPingTimeNullUserPmd_CS=8]="SetPingTimeNullUserPmd_CS",a[a.ForwardToZoneNullUserPmd_CS=9]="ForwardToZoneNullUserPmd_CS",a[a.MaxDefualtNullUserPmd=15]="MaxDefualtNullUserPmd",a[a.StartFrameSyncNullUserPmd_CS=16]="StartFrameSyncNullUserPmd_CS",a[a.BroadListFrameSyncNullUserPmd_S=17]="BroadListFrameSyncNullUserPmd_S",a[a.RequestUpFrameSyncNullUserPmd_C=18]="RequestUpFrameSyncNullUserPmd_C",a[a.HistoryListFrameSyncNullUserPmd_S=19]="HistoryListFrameSyncNullUserPmd_S",a[a.StopFrameSyncNullUserPmd_SC=20]="StopFrameSyncNullUserPmd_SC",a[a.ForwardNullUserListPmd_CS=21]="ForwardNullUserListPmd_CS",a[a.JsonCompressNullUserPmd_CS=101]="JsonCompressNullUserPmd_CS"}(a.Param||(a.Param={}));a.Param}(b=a.Null||(a.Null={}));var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ForwardNullUserPmd_CS"},a}();a.ForwardNullUserPmd_CS=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ForwardNullUserListPmd_CS"},a}();a.ForwardNullUserListPmd_CS=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.TickRequestNullUserPmd_CS"},a}();a.TickRequestNullUserPmd_CS=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.TickReturnNullUserPmd_CS"},a}();a.TickReturnNullUserPmd_CS=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SetPingTimeNullUserPmd_CS"},a}();a.SetPingTimeNullUserPmd_CS=g;var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SetTickTimeoutNullUserPmd_CS"},a}();a.SetTickTimeoutNullUserPmd_CS=h;var i=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestCloseNullUserPmd_CS"},a}();a.RequestCloseNullUserPmd_CS=i;var j=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.FrameHeaderNullUserPmd_CS"},a}();a.FrameHeaderNullUserPmd_CS=j;var k=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CheckVersionUserPmd_CS"},a}();a.CheckVersionUserPmd_CS=k;var l=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ForwardBwNullUserPmd_CS"},a}();a.ForwardBwNullUserPmd_CS=l;var m=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ForwardToZoneNullUserPmd_CS"},a}();a.ForwardToZoneNullUserPmd_CS=m;var n=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserInitData"},a}();a.UserInitData=n;var o=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.FrameSyncData"},a}();a.FrameSyncData=o;var p=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.MaxDefualtNullUserPmd"},a}();a.MaxDefualtNullUserPmd=p;var q=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.StartFrameSyncNullUserPmd_CS"},a}();a.StartFrameSyncNullUserPmd_CS=q;var r=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.BroadListFrameSyncNullUserPmd_S"},a}();a.BroadListFrameSyncNullUserPmd_S=r;var s=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestUpFrameSyncNullUserPmd_C"},a}();a.RequestUpFrameSyncNullUserPmd_C=s;var t=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.HistoryFrameSyncData"},a}();a.HistoryFrameSyncData=t;var u=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.HistoryListFrameSyncNullUserPmd_S"},a}();a.HistoryListFrameSyncNullUserPmd_S=u;var v=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.StopFrameSyncNullUserPmd_SC"},a}();a.StopFrameSyncNullUserPmd_SC=v;var w=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.JsonCompressKey"},a}();a.JsonCompressKey=w;var x=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.JsonCompressNullUserPmd_CS"},a}();a.JsonCompressNullUserPmd_CS=x}(Pmd||(Pmd={}));var Pmd;!function(a){!function(a){a[a.PlatCommand_Null=0]="PlatCommand_Null",a[a.PlatCommand_Logger=245]="PlatCommand_Logger",a[a.PlatCommand_Lobby=246]="PlatCommand_Lobby",a[a.PlatCommand_Push=247]="PlatCommand_Push",a[a.PlatCommand_Gm=248]="PlatCommand_Gm",a[a.PlatCommand_Monitor=249]="PlatCommand_Monitor",a[a.PlatCommand_Login=250]="PlatCommand_Login",a[a.PlatCommand_Forward=251]="PlatCommand_Forward",a[a.PlatCommand_Sdk=252]="PlatCommand_Sdk",a[a.PlatCommand_Chat=253]="PlatCommand_Chat",a[a.PlatCommand_Image=254]="PlatCommand_Image"}(a.PlatCommand||(a.PlatCommand={}));a.PlatCommand;!function(a){a[a.HttpReturnCode_Null=0]="HttpReturnCode_Null",a[a.HttpReturnCode_DbError=2]="HttpReturnCode_DbError",a[a.HttpReturnCode_LuaScriptError=4]="HttpReturnCode_LuaScriptError",a[a.HttpReturnCode_GameZoneListError=5]="HttpReturnCode_GameZoneListError",a[a.HttpReturnCode_SignError=11]="HttpReturnCode_SignError",a[a.HttpReturnCode_ServerShutDown=12]="HttpReturnCode_ServerShutDown",a[a.HttpReturnCode_JsonSyntaxError=13]="HttpReturnCode_JsonSyntaxError",a[a.HttpReturnCode_JsonMessageError=14]="HttpReturnCode_JsonMessageError",a[a.HttpReturnCode_TokenValueError=15]="HttpReturnCode_TokenValueError",a[a.HttpReturnCode_WaiGuaUidError=16]="HttpReturnCode_WaiGuaUidError",a[a.HttpReturnCode_NoGatewaytDown=17]="HttpReturnCode_NoGatewaytDown",a[a.HttpReturnCode_NoGatewayDown=17]="HttpReturnCode_NoGatewayDown",a[a.HttpReturnCode_NoSdkServer=18]="HttpReturnCode_NoSdkServer",a[a.HttpReturnCode_SdkCheckSignErr=19]="HttpReturnCode_SdkCheckSignErr",a[a.HttpReturnCode_Sdk3PartyServerErr=20]="HttpReturnCode_Sdk3PartyServerErr",a[a.HttpReturnCode_ProtobufErr=21]="HttpReturnCode_ProtobufErr",a[a.HttpReturnCode_GatewayErr=22]="HttpReturnCode_GatewayErr",a[a.HttpReturnCode_Timeout=23]="HttpReturnCode_Timeout",a[a.HttpReturnCode_AccountUsing=24]="HttpReturnCode_AccountUsing",a[a.HttpReturnCode_OnlinePlatidErr=25]="HttpReturnCode_OnlinePlatidErr"}(a.HttpReturnCode||(a.HttpReturnCode={}));a.HttpReturnCode;!function(a){a[a.TaskType_Null=0]="TaskType_Null",a[a.TaskType_Monitor=1]="TaskType_Monitor",a[a.TaskType_Login=2]="TaskType_Login",a[a.TaskType_NameS=3]="TaskType_NameS",a[a.TaskType_Sdk=4]="TaskType_Sdk",a[a.TaskType_Gm=5]="TaskType_Gm",a[a.TaskType_Gateway=6]="TaskType_Gateway",a[a.TaskType_GameZone=7]="TaskType_GameZone"}(a.TaskType||(a.TaskType={}));a.TaskType;!function(a){a[a.UNKNOWNSERVER=0]="UNKNOWNSERVER",a[a.SUPERSERVER=1]="SUPERSERVER",a[a.LOGINSERVER=10]="LOGINSERVER",a[a.RECORDSERVER=11]="RECORDSERVER",a[a.SESSIONSERVER=20]="SESSIONSERVER",a[a.SCENESSERVER=21]="SCENESSERVER",a[a.GATEWAYSERVER=22]="GATEWAYSERVER",a[a.INFOSERVER=23]="INFOSERVER",a[a.HTTPSERVER=24]="HTTPSERVER",a[a.CHANGESERVER=25]="CHANGESERVER",a[a.USERSERVER=26]="USERSERVER",a[a.BILLSERVER=27]="BILLSERVER",a[a.NAMESERVER=28]="NAMESERVER",a[a.MONITORSERVER=29]="MONITORSERVER",a[a.GMSERVER=30]="GMSERVER",a[a.STATERSERVER=31]="STATERSERVER",a[a.SOUNDSERVER=32]="SOUNDSERVER",a[a.BILLSERVER_ALIPAY=33]="BILLSERVER_ALIPAY",a[a.BILLSERVER_JUNKA=34]="BILLSERVER_JUNKA",a[a.BILLSERVER_TIANXIATONG=35]="BILLSERVER_TIANXIATONG",a[a.BILLSERVER_ZONGYOU=36]="BILLSERVER_ZONGYOU",a[a.BILLSERVER_OFFLINE=37]="BILLSERVER_OFFLINE",a[a.BILLSERVER_MESSAGE=38]="BILLSERVER_MESSAGE",a[a.BILLSERVER_ZQB=39]="BILLSERVER_ZQB",a[a.WEBGATESERVER=40]="WEBGATESERVER",a[a.BILLSERVER_BAIDU=41]="BILLSERVER_BAIDU",a[a.BILLSERVER_SHUN=42]="BILLSERVER_SHUN",a[a.SDKSERVER=43]="SDKSERVER",a[a.LOGGERSERVER=44]="LOGGERSERVER",a[a.UNILIGHT=45]="UNILIGHT",a[a.MAX_SERVERTYPE=46]="MAX_SERVERTYPE",a[a.UnknownServer=0]="UnknownServer",a[a.LoginServer=10]="LoginServer",a[a.GatewayServer=22]="GatewayServer",a[a.InfoServer=23]="InfoServer",a[a.HttpsServer=24]="HttpsServer",a[a.ChangeServer=25]="ChangeServer",a[a.UserServer=26]="UserServer",a[a.BillServer=27]="BillServer",a[a.NameServer=28]="NameServer",a[a.MonitorServer=29]="MonitorServer",a[a.GmServer=30]="GmServer",a[a.StateServer=31]="StateServer",a[a.SoundServer=32]="SoundServer",a[a.WebGateServer=40]="WebGateServer",a[a.SdkServer=43]="SdkServer",a[a.LoggerServer=44]="LoggerServer",a[a.UniServer=45]="UniServer"}(a.ServerType||(a.ServerType={}));a.ServerType;!function(a){a[a.NetType_near=0]="NetType_near",a[a.NetType_far=1]="NetType_far",a[a.NetType_CTC=2]="NetType_CTC",a[a.NetType_CNC=3]="NetType_CNC"}(a.NetType||(a.NetType={}));a.NetType;!function(a){a[a.RobotUid_begin=1e4]="RobotUid_begin",a[a.RobotUid_end=2e4]="RobotUid_end"}(a.RobotUid||(a.RobotUid={}));var b=(a.RobotUid,function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GameZoneInfo"},a}());a.GameZoneInfo=b;var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ServerName"},a}();a.ServerName=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ServerInfo"},a}();a.ServerInfo=d}(Pmd||(Pmd={}));var Pmd;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.Sdk"},a}();a.Sdk=b;var b;!function(a){!function(a){a[a.StartUpGameRequestSdkPmd_C=1]="StartUpGameRequestSdkPmd_C",a[a.StartUpGameReturnSdkPmd_S=2]="StartUpGameReturnSdkPmd_S",a[a.SupportGamePlatListSdkPmd_S=3]="SupportGamePlatListSdkPmd_S",a[a.UserLoginPlatRequestSdkPmd_C=4]="UserLoginPlatRequestSdkPmd_C",a[a.UserLoginPlatReturnSdkPmd_S=5]="UserLoginPlatReturnSdkPmd_S",a[a.CreatePlatOrderRequestSdkPmd_C=6]="CreatePlatOrderRequestSdkPmd_C",a[a.CreatePlatOrderReturnSdkPmd_S=7]="CreatePlatOrderReturnSdkPmd_S",a[a.NotifyRechargeRequestSdkPmd_S=8]="NotifyRechargeRequestSdkPmd_S",a[a.NotifyRechargeReturnSdkPmd_C=9]="NotifyRechargeReturnSdkPmd_C",a[a.RechargeQueryRequestIOSSdkPmd_C=10]="RechargeQueryRequestIOSSdkPmd_C",a[a.RequestQueryPlatPointSdkPmd_C=11]="RequestQueryPlatPointSdkPmd_C",a[a.ReturnQueryPlatPointSdkPmd_S=12]="ReturnQueryPlatPointSdkPmd_S",a[a.RequestRedeemPlatPointSdkPmd_C=13]="RequestRedeemPlatPointSdkPmd_C",a[a.ReturnRedeemPlatPointSdkPmd_S=14]="ReturnRedeemPlatPointSdkPmd_S",a[a.ReturnErrorCodeSdkPmd_S=15]="ReturnErrorCodeSdkPmd_S",a[a.RequestBindAccountSdkPmd_CS=16]="RequestBindAccountSdkPmd_CS",a[a.RequestBindPlatInfoSdkPmd_CS=17]="RequestBindPlatInfoSdkPmd_CS",a[a.RequestAccidByPlatinfoSdkPmd_CS=18]="RequestAccidByPlatinfoSdkPmd_CS",a[a.RequestRedeemBackPlatPointSdkPmd_C=19]="RequestRedeemBackPlatPointSdkPmd_C",a[a.ReturnRedeemBackPlatPointSdkPmd_S=20]="ReturnRedeemBackPlatPointSdkPmd_S",a[a.RequestUnbindAccountSdkPmd_CS=21]="RequestUnbindAccountSdkPmd_CS",a[a.NotifyTapJoyRequestSdkPmd_S=22]="NotifyTapJoyRequestSdkPmd_S",a[a.PushMsgRequestSdkPmd_C=23]="PushMsgRequestSdkPmd_C",a[a.PushMsgReturnSdkPmd_S=24]="PushMsgReturnSdkPmd_S",a[a.BindAccountPhoneSdkPmd_CS=25]="BindAccountPhoneSdkPmd_CS",a[a.RequestMobileRegistRandCodeSdkPmd_CS=26]="RequestMobileRegistRandCodeSdkPmd_CS",a[a.RequestWechatMsgSdkPmd_CS=27]="RequestWechatMsgSdkPmd_CS",a[a.SearchUserListSdkPmd_CS=28]="SearchUserListSdkPmd_CS",a[a.NotifyPreLoginInfoSdkPmd_CS=29]="NotifyPreLoginInfoSdkPmd_CS",a[a.RequestQrcodeURLSdkPmd_CS=30]="RequestQrcodeURLSdkPmd_CS",a[a.DiamondConsumSdkPmd_CS=31]="DiamondConsumSdkPmd_CS",a[a.RewardUserSdkPmd_CS=32]="RewardUserSdkPmd_CS",a[a.SendRedPackSdkPmd_CS=43]="SendRedPackSdkPmd_CS",a[a.PlatSignDataSdkPmd_CS=44]="PlatSignDataSdkPmd_CS",a[a.RequestUserInfoSdkPmd_SC=45]="RequestUserInfoSdkPmd_SC",a[a.CheckUserInfoBindSdkPmd_CS=46]="CheckUserInfoBindSdkPmd_CS",a[a.PlatRedeemSdkPmd_CS=33]="PlatRedeemSdkPmd_CS",a[a.PlatQueryBalanceSdkPmd_CS=34]="PlatQueryBalanceSdkPmd_CS",a[a.PlatQueryGamerecordSdkPmd_CS=35]="PlatQueryGamerecordSdkPmd_CS",a[a.GameRecord=36]="GameRecord",a[a.PlatQueryUserListSdkPmd_CS=37]="PlatQueryUserListSdkPmd_CS",a[a.PlatQueryPlatReportSdkPmd_CS=38]="PlatQueryPlatReportSdkPmd_CS",a[a.PlatQueryPlatDailySdkPmd_CS=39]="PlatQueryPlatDailySdkPmd_CS",a[a.PlatUserInfo=40]="PlatUserInfo",a[a.PlatReport=41]="PlatReport",a[a.PlatDailyData=42]="PlatDailyData",a[a.PlatUserDailySdkPmd_CS=50]="PlatUserDailySdkPmd_CS",a[a.PlatUserReportSdkPmd_CS=52]="PlatUserReportSdkPmd_CS",a[a.UserDailyData=51]="UserDailyData",a[a.UserBettingDetailSdkPmd_CS=60]="UserBettingDetailSdkPmd_CS",a[a.UserPurchaseRecordSdkPmd_CS=61]="UserPurchaseRecordSdkPmd_CS",a[a.PlatCreateRoleSdkPmd_CS=62]="PlatCreateRoleSdkPmd_CS",a[a.CreatePlatAccountSdkPmd_CS=63]="CreatePlatAccountSdkPmd_CS"}(a.Param||(a.Param={}));a.Param}(b=a.Sdk||(a.Sdk={}));var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.StartUpGameRequestSdkPmd_C"},a}();a.StartUpGameRequestSdkPmd_C=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.StartUpGameReturnSdkPmd_S"},a}();a.StartUpGameReturnSdkPmd_S=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SdkPlatInfo"},a}();a.SdkPlatInfo=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GamePlatList"},a}();a.GamePlatList=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SupportGamePlatListSdkPmd_S"},a}();a.SupportGamePlatListSdkPmd_S=g;var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatBaseData"},a}();a.PlatBaseData=h;var i=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginPlatRequestSdkPmd_C"},a}();a.UserLoginPlatRequestSdkPmd_C=i;var j=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserLoginPlatReturnSdkPmd_S"},a}();a.UserLoginPlatReturnSdkPmd_S=j;var k=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CreatePlatOrderRequestSdkPmd_C"},a}();a.CreatePlatOrderRequestSdkPmd_C=k;var l=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CreatePlatOrderReturnSdkPmd_S"},a}();a.CreatePlatOrderReturnSdkPmd_S=l;var m=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.NotifyRechargeRequestSdkPmd_S"},a}();a.NotifyRechargeRequestSdkPmd_S=m;var n=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.NotifyRechargeReturnSdkPmd_C"},a}();a.NotifyRechargeReturnSdkPmd_C=n;var o=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RechargeQueryRequestIOSSdkPmd_C"},a}();a.RechargeQueryRequestIOSSdkPmd_C=o;var p=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestQueryPlatPointSdkPmd_C"},a}();a.RequestQueryPlatPointSdkPmd_C=p;var q=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnQueryPlatPointSdkPmd_S"},a}();a.ReturnQueryPlatPointSdkPmd_S=q;var r=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestRedeemPlatPointSdkPmd_C"},a}();a.RequestRedeemPlatPointSdkPmd_C=r;var s=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnRedeemPlatPointSdkPmd_S"},a}();a.ReturnRedeemPlatPointSdkPmd_S=s;var t=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestRedeemBackPlatPointSdkPmd_C"},a}();a.RequestRedeemBackPlatPointSdkPmd_C=t;var u=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnRedeemBackPlatPointSdkPmd_S"},a}();a.ReturnRedeemBackPlatPointSdkPmd_S=u;var v=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.ReturnErrorCodeSdkPmd_S"},a}();a.ReturnErrorCodeSdkPmd_S=v;var w=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestBindAccountSdkPmd_CS"},a}();a.RequestBindAccountSdkPmd_CS=w;var x=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatAccountInfo"},a}();a.PlatAccountInfo=x;var y=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestBindPlatInfoSdkPmd_CS"},a}();a.RequestBindPlatInfoSdkPmd_CS=y;var z=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestAccidByPlatinfoSdkPmd_CS"},a}();a.RequestAccidByPlatinfoSdkPmd_CS=z;var A=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestUnbindAccountSdkPmd_CS"},a}();a.RequestUnbindAccountSdkPmd_CS=A;var B=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.NotifyTapJoyRequestSdkPmd_S"},a}();a.NotifyTapJoyRequestSdkPmd_S=B;var C=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PushMsgRequestSdkPmd_C"},a}();a.PushMsgRequestSdkPmd_C=C;var D=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PushMsgReturnSdkPmd_S"},a}();a.PushMsgReturnSdkPmd_S=D;var E=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.BindAccountPhoneSdkPmd_CS"},a}();a.BindAccountPhoneSdkPmd_CS=E;var F=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestMobileRegistRandCodeSdkPmd_CS"},a}();a.RequestMobileRegistRandCodeSdkPmd_CS=F;var G=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestWechatMsgSdkPmd_CS"},a}();a.RequestWechatMsgSdkPmd_CS=G;var H=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SdkUserInfo"},a}();a.SdkUserInfo=H;var I=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SearchUserListSdkPmd_CS"},a}();a.SearchUserListSdkPmd_CS=I;var J=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.NotifyPreLoginInfoSdkPmd_CS"},a}();a.NotifyPreLoginInfoSdkPmd_CS=J;var K=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatCreateRoleSdkPmd_CS"},a}();a.PlatCreateRoleSdkPmd_CS=K;var L=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CreatePlatAccountSdkPmd_CS"},a}();a.CreatePlatAccountSdkPmd_CS=L;var M=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestQrcodeURLSdkPmd_CS"},a}();a.RequestQrcodeURLSdkPmd_CS=M;var N=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.DiamondConsumSdkPmd_CS"},a}();a.DiamondConsumSdkPmd_CS=N;var O=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RewardData"},a}();a.RewardData=O;var P=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RewardUserSdkPmd_CS"},a}();a.RewardUserSdkPmd_CS=P;var Q=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatRedeemSdkPmd_CS"},a}();a.PlatRedeemSdkPmd_CS=Q;var R=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatQueryBalanceSdkPmd_CS"},a}();a.PlatQueryBalanceSdkPmd_CS=R;var S=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.GameRecord"},a}();a.GameRecord=S;var T=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatQueryGamerecordSdkPmd_CS"},a}();a.PlatQueryGamerecordSdkPmd_CS=T;var U=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatUserInfo"},a}();a.PlatUserInfo=U;var V=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatQueryUserListSdkPmd_CS"},a}();a.PlatQueryUserListSdkPmd_CS=V;var W=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatReport"},a}();a.PlatReport=W;var X=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatQueryPlatReportSdkPmd_CS"},a}();a.PlatQueryPlatReportSdkPmd_CS=X;var Y=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatDailyData"},a}();a.PlatDailyData=Y;var Z=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatQueryPlatDailySdkPmd_CS"},a}();a.PlatQueryPlatDailySdkPmd_CS=Z;var $=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatUserDailySdkPmd_CS"},a}();a.PlatUserDailySdkPmd_CS=$;var _=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatUserReportSdkPmd_CS"},a}();a.PlatUserReportSdkPmd_CS=_;var aa=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserDailyData"},a}();a.UserDailyData=aa;var ba=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.SendRedPackSdkPmd_CS"},a}();a.SendRedPackSdkPmd_CS=ba;var ca=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatSignDataSdkPmd_CS"},a}();a.PlatSignDataSdkPmd_CS=ca;var da=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestUserInfoSdkPmd_SC"},a}();a.RequestUserInfoSdkPmd_SC=da;var ea=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.CheckUserInfoBindSdkPmd_CS"},a}();a.CheckUserInfoBindSdkPmd_CS=ea;var fa=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserBettingDetailSdkPmd_CS"},a}();a.UserBettingDetailSdkPmd_CS=fa;var ga=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserBettingData"},a}();a.UserBettingData=ga;var ha=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.UserPurchaseRecordSdkPmd_CS"},a}();a.UserPurchaseRecordSdkPmd_CS=ha;var ia=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PurchaseData"},a}();a.PurchaseData=ia}(Pmd||(Pmd={}));var Pmd;!function(a){var b=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.HttpPackage"},a}();a.HttpPackage=b;var c=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.HttpPackageReturn"},a}();a.HttpPackageReturn=c;var d=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestZoneList"},a}();a.RequestZoneList=d;var e=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestSelectZone"},a}();a.RequestSelectZone=e;var f=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.RequestSelectZoneReturn"},a}();a.RequestSelectZoneReturn=f;var g=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatTokenLogin"},a}();a.PlatTokenLogin=g;var h=function(){function a(){}return a.prototype.GetType=function(){return"Pmd.PlatTokenLoginReturn"},a}();a.PlatTokenLoginReturn=h}(Pmd||(Pmd={}));var uniLib;!function(a){function b(b,c,d,f,g){if(void 0===f&&(f="fixedWidth"),void 0===g&&(g=!1),b instanceof Object||"function"==typeof c){if(a.Console.init(b.debug,b.logLevel),e.initOpt=b,b.designWidth&&(e.designWidth=b.designWidth),b.designHeight&&(e.designHeight=b.designHeight),b.reloadDefine&&(e.reloadDefine=b.reloadDefine),a.ScreenUtils&&a.ScreenUtils.init(b.scaleMode),a.PayMgr.Instance.isOpen=b.openPay,b.shareData&&(e.shareData=b.shareData),e.lobbyMode=b.lobbyMode,b.nativeStorage&&(e.nativeStorage=b.nativeStorage),b.reLoginUrl&&(e.reLoginUrl=b.reLoginUrl),b.platId&&(e.platId=b.platId),b.appId)e.appId=b.appId,1==a.Global.isH5&&(e.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+e.appId+"#wechat_redirect");else if(1==a.Global.isH5){var h=a.BrowersUtils.GetRequest("appid");a.StringUtils.stringIsNullOrEmpty(h)||(e.appId=a.BrowersUtils.GetRequest("appid")),e.reLoginUrl="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e.appId+"&redirect_uri=http%3a%2f%2fwx.zqgame.com%2faddons%2fzqgame%2fgamelogin.php&response_type=code&scope=snsapi_userinfo&state="+e.appId+"#wechat_redirect"}b.compressType?a.CompressUtil.init(b.compressType,c,d):c&&c.call(d)}else a.Console.init(b),a.ScreenUtils&&a.ScreenUtils.init(f),a.PayMgr.Instance.isOpen=c,d&&(e.shareData=d),e.lobbyMode=g;a.ResUtils&&a.ResUtils.init(),a.ZQGameSdk&&a.ZQGameSdk.getCallStatus(e.PhoneCallStatus,e)}function c(a){var b;if("object"==typeof a){for(var d in a)b[d]="object"==typeof a[d]?c(a[d]):a[d];return b}}var d=function(){function a(){this.compressType=0,this.logLevel=7,this.lobbyMode=!1,this.scaleMode="fixedWidth"}return a}();a.initOptions=d,a.init=b,a.cloneObj=c;var e=function(){function b(){}return b.PhoneCallStatus=function(b){"callDisconnected"==b.data.callState&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){a.ZQGameSdk&&a.ZQGameSdk.speakerActive()},4e3)},b.Event=function(b,c,d,e){return void 0===c&&(c=null),void 0===d&&(d=!1),void 0===e&&(e=!1),new a.ZqEvent(b,c)},b.dispatchEvent=function(b,c,d,e){void 0===c&&(c=null),void 0===d&&(d=!1),void 0===e&&(e=!1);var f=new a.ZqEvent(b,c,d,e);a.ZqListener.getInstance().dispatchEvent(f)},b.hasEventListener=function(b){return a.ZqListener.getInstance().hasEventListener(b)},b.addEventListener=function(b,c,d,e,f){void 0===e&&(e=!1),void 0===f&&(f=0),a.ZqListener.getInstance().addEventListener(b,c,d,e,f)},b.removeEventListener=function(b,c,d,e){void 0===e&&(e=!1),a.ZqListener.getInstance().removeEventListener(b,c,d,e)},b.Compress=function(a){if(!b.jsonCompress){for(var c=0;c<b.jsonCompress.msglist.length;c++)b.jsonCompress.msglist[c]==a.do&&(a.do=c+1);return a}return a},b.DeCompress=function(a){for(var c=0;c<b.jsonCompress.msglist.length;c++)if(c+1==a.do){a.do=b.jsonCompress.msglist[c];break}return a},b.DeCompressDefult=function(a){for(var c=0;c<b.jsonCompressDefault.msglist.length;c++)if(c+1==a.do){a.do=b.jsonCompressDefault.msglist[c];break}return a},Object.defineProperty(b,"lobbyMode",{get:function(){return this._lobbyMode},set:function(a){this._lobbyMode=a},enumerable:!0,configurable:!0}),b.getZoneInfo=function(b){if(null!=this.zoneList){for(var c=this.zoneList.length,d=0;d<c;d++)if(this.zoneList[d].gameid==b)return this.zoneList[d];return a.Console.error("找不到游戏区信息 gameId:"+b),null}},Object.defineProperty(b,"resVersion",{get:function(){var b="";if(a.Global.isH5){var c=document.querySelector('meta[name="res-version"]');null!=c&&(b=c.getAttribute("content")),null!=b&&""!=b&&(b="_"+b)}return b},enumerable:!0,configurable:!0}),Object.defineProperty(b,"thmVersion",{get:function(){var b="";if(a.Global.isH5){var c=document.querySelector('meta[name="thm-version"]');null!=c&&(b=c.getAttribute("content")),null!=b&&""!=b&&(b="_"+b)}return b},enumerable:!0,configurable:!0}),b.initPlatInfo=function(c,d,e){return null==b.platInfo&&(b.platInfo=new Pmd.PlatInfo,c&&null!=c?b.platInfo=c:b.isH5&&a.Utils.getLocalStorage("platStr",function(c){var d,e=c;d=a.StringUtils.stringIsNullOrEmpty(e)?a.BrowersUtils.GetRequests():a.BrowersUtils.GetRequests(e);for(var f in d)"debug"!=f&&(b.platInfo[f]="extData"==f?decodeURIComponent(d[f]):d[f]),"code"==f&&(b.platInfo.sign=d[f]),"appid"==f&&(b.platInfo.platappid=d[f]);var g=Number(b.platInfo.platid);g&&0!=g?b.platInfo.platid=g:b.platInfo.platappid&&!a.StringUtils.stringIsNullOrEmpty(b.platInfo.platappid)?b.platInfo.platid=68:b.platInfo.platid=g})),a.Global.isH5?b.defaultConfig&&a.PayMgr.Instance.initPayPlatById(Number(b.defaultConfig.pay_platid),d,e):null!=d&&(e?d.call(e,b.platInfo.platid):d(b.platInfo.platid)),b.platInfo},b.setPlatInfo=function(b,c,d){a.Utils.setLocalStorage(d+"|"+c+"|platToken",b)},b.setPlatToken=function(c,d,e){b.platId=d,b.gameId=e,console.log("cache_platinfo:"+JSON.stringify(c)),a.Utils.setLocalStorage(e+"|"+d+"|platToken",encodeURIComponent(JSON.stringify(c)))},b.getPlatToken=function(c,d){return a.Utils.getLocalStorage(b.gameId+"|"+b.getPlatId()+"|platToken",function(e){var f;if(console.log("get_platinfo:"+e),e&&1==b.isCacheToken){try{e=decodeURIComponent(e)}catch(a){console.error("decode_error")}f=JSON.parse(e),a.NetMgr.UID=Number(f.uid),a.NetMgr.PlatUID=f.uid,a.BrowersUtils.extData.inviter=a.NetMgr.UID.toString(),a.NetMgr.SID=f.sid,a.NetMgr.PlatToken=f.unigame_plat_login,a.NetMgr.PlatKey=f.unigame_plat_key,a.NetMgr.platTokenTimeOut=f.unigame_plat_login_life,null!=f.platinfo&&null!=b.platInfo&&(b.platInfo.platid=f.platinfo.platid,a.NetMgr.PlatUID=f.platinfo.uid,a.NetMgr.PlatSession=f.platinfo.sign),f.GatewayUrl&&a.NetMgr.http&&(a.NetMgr.http.GatewayUrl=f.GatewayUrl)}c.call(d,f)})},b.openAgent=function(b,c,d,e,f){var g=b+"?code="+c+"&platid="+d+"&gameid="+e;a.ZQGameSdk&&a.ZQGameSdk.openWeb(g,f)},b.getPlatId=function(){var c=0;return 0!=this.platId?this.platId:(b.isH5?null==b.platInfo?a.Utils.getLocalStorage("platStr",function(b){var d=b;c=a.StringUtils.stringIsNullOrEmpty(d)?a.BrowersUtils.GetRequest("platid")?parseInt(a.BrowersUtils.GetRequest("platid")):Pmd.PlatType.PlatType_Normal:Number(a.BrowersUtils.GetRequest("platid",d))}):b.platInfo.platid&&(c=b.platInfo.platid):c=b.platInfo?b.platInfo.platid:Pmd.PlatType.PlatType_Normal,c)},b.isActive=!0,b.debugLevel=0,b.version=161128235600,b.compressType=0,b.compressMin=0,b.designWidth=1280,b.designHeight=720,b.isRestarting=!1,b.PLAT_TOKEN_KEY="plat_token_key",b.gameId=0,b.lobbyGameId=0,b.is_sandbox=0,b.appId="wx0e52b1eba8f9fb14",b.thirdPlatDir="thirdPlatDir/",b.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},b._lobbyMode=!1,b.isInGame=!1,b.reLoginUrl="",b.payPlatId=0,b.bundleId="",b.zipmd5="",b.configmd5="",b.isCacheToken=!0,b.logUrl="http://server.login.bwgame.com.cn:8020/logger/clientlog",b.ipUrl="http://123.207.17.91:5999/http/remoteip/json",b.gmlevel=0,b.token="",b.platId=0,b.zoneId=0,b}();a.Global=e}(uniLib||(uniLib={}));var global,testh5=function(){var a;a=!!this.navigator;try{global&&(a=!1)}catch(a){}return a};uniLib.Global.isH5=testh5();var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(a){function b(b,c,d){void 0===d&&(d=!0),a.call(this),this._target=b,this._time=c,d&&this.start()}return __extends(b,a),b.prototype.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},b.prototype.runDown=function(a){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},b.prototype.runUp=function(a){this._target.alpha+=.045,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},b.prototype.checkOver=function(){return egret.getTimer()-this._currTime>=this._time&&(this.destroy(),!0)},b.prototype.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},b}(egret.EventDispatcher);a.BitmapBlink=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){!function(a){function b(b,c,d,e,f,g,h){void 0===d&&(d=null),void 0===e&&(e=""),void 0===f&&(f=30),void 0===g&&(g=1),void 0===h&&(h="assets"),a.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.cartoonType=1,this.param={context:null,data:null},this.param.context=b,this.init(c,d,e,f,g,h)}__extends(b,a),b.prototype.init=function(a,b,c,d,e,f){void 0===b&&(b=null),void 0===c&&(c=""),void 0===d&&(d=30),void 0===e&&(e=1),void 0===f&&(f="assets"),this.cartoonType=e,this.backFun=b,this.btnImg=new egret.Bitmap,"assets"!=f&&(this.assets=RES.getRes(f)),this.btnImg.texture=this.assets.getTexture(a),this.addChild(this.btnImg),""!=c&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=d,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=c,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},b.prototype.onbuttonTouchTap=function(a){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var b=function(){this.isPlayCartoon=!1},c=function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(b,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(b,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(b,this)};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(c,this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,300)}},b.prototype.setBindData=function(a){this.param.data=a},b.prototype.getBindData=function(){return this.param.data},b.prototype.getBitmap=function(){return this.btnImg}}(egret.DisplayObjectContainer)}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(a,c,d,e,f,g,h,i,j,k,l){void 0===h&&(h=30),void 0===i&&(i=0),void 0===j&&(j=null),void 0===k&&(k=null),void 0===l&&(l=null),b.call(this),this.isSelected=!1,this.liveSelected=!1,this.touchEnabled=!0,this.touchChildren=!1,this.init(a,c,d,e,f,g,h,i,j,k,l)}return __extends(c,b),c.prototype.init=function(b,c,d,e,f,g,h,i,j,k,l){void 0===h&&(h=30),void 0===i&&(i=0),void 0===j&&(j=null),void 0===k&&(k=null),void 0===l&&(l=null),this._nomal_bg="string"==typeof b?a.DisplayUtils.createBitmapByName(b):b,j&&(this._nomal_bg.scale9Grid=j),e&&(this._nomal_bg.width=e),f&&(this._nomal_bg.height=f),this.addChild(this._nomal_bg),c&&(this._selected_bg=a.DisplayUtils.createBitmapByName(c),k&&(this._selected_bg.scale9Grid=k),e&&(this._selected_bg.width=e),f&&(this._selected_bg.height=f),this.addChild(this._selected_bg),this._selected_bg.visible=!1),d&&(this._disable_bg=a.DisplayUtils.createBitmapByName(d),l&&(this._disable_bg.scale9Grid=l),e&&(this._disable_bg.width=e),f&&(this._disable_bg.height=f),this.addChild(this._disable_bg),this._disable_bg.visible=!1),g&&(this._lableNomalColor=i,this._lable=a.DisplayUtils.createTextLabel(i,"center",g,h),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},Object.defineProperty(c.prototype,"fontFamily",{set:function(a){this._lable.fontFamily=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fontSelectedColor",{set:function(a){this._lableSelectedColor=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"select",{get:function(){return this.isSelected},set:function(a){1==a?this.selected():this.unselected()},enumerable:!0,configurable:!0}),c.prototype.selected=function(){this.isSelected=!0,this._selected_bg&&(this._selected_bg.visible=!0,this._nomal_bg.visible=!1),this._lableSelectedColor&&(this._lable.textColor=this._lableSelectedColor)},Object.defineProperty(c.prototype,"text",{set:function(b){null==this._lable&&(this._lableNomalColor=0,this._lable=a.DisplayUtils.createTextLabel(this._lableNomalColor,"center",b,30),this._lable.x=this.width-this._lable.width>>1,this._lable.y=this.height-this._lable.height>>1,this.addChild(this._lable)),this._lable.text=b},enumerable:!0,configurable:!0}),c.prototype.unselected=function(){this.isSelected=!1,this.liveSelected=!1,this._selected_bg&&(this._selected_bg.visible=!1,this._nomal_bg.visible=!0),this._lableSelectedColor&&(this._lable.textColor=this._lableNomalColor)},c.prototype.onbuttonBegin=function(a){0==this.isSelected&&this.selected()},c.prototype.onbuttonEnd=function(a){0==this.liveSelected&&this.unselected()},Object.defineProperty(c.prototype,"disable",{get:function(){return this._disable},set:function(a){this._disable=a,this._disable_bg&&(this._disable_bg.visible=a,1==this._disable?(this.touchEnabled=!1,this._nomal_bg.visible=!1,this._selected_bg.visible=!1):(this.touchEnabled=!0,this._nomal_bg.visible=!0))},enumerable:!0,configurable:!0}),c.prototype.setBottomLabel=function(a,b,c,d,e,f){var g=new egret.TextField;-1!=e&&(g.width=e),g.fontFamily="微软雅黑",g.textColor=b,g.textAlign=egret.HorizontalAlign.CENTER,g.text=a,g.size=c,g.x=d,g.y=this._nomal_bg.y+this._nomal_bg.height+f,this.addChild(g)},Object.defineProperty(c.prototype,"toggle",{set:function(a){a?(this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)):(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this))},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onbuttonBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onbuttonEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onbuttonEnd,this)},c}(egret.DisplayObjectContainer);a.CommonButton=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(c){b.call(this),this._isShow=!0,this.isInStage=!1,this._rect=c,this.ChatHeight=0,this.message=[],this.downPoint=new egret.Point,this.isFriend=this.isMove=!1,this.ChatHeight=this._rect.height,this._touchBg=new egret.Sprite,this._touchBg.graphics.clear(),this._touchBg.graphics.beginFill(0,.7),this._touchBg.graphics.drawRect(0,0,this._rect.width,this._rect.height),this._touchBg.graphics.endFill(),this._touchBg.width=this._rect.width,this._touchBg.height=this._rect.height,this._touchBg.touchEnabled=!1,this.addChild(this._touchBg);var d=30,e=(a.Global.screenWidth-10)/3,f=a.DisplayUtils.createShape(1,e,d,16777215);f.cacheAsBitmap=!0,this.close_btn=new a.CommonButton(f),this.close_btn.text="关闭",this.close_btn.y=a.Global.screenHeight-d,this.addChild(this.close_btn);var g=a.DisplayUtils.createShape(1,e,d,16777215);g.cacheAsBitmap=!0,this.clear_btn=new a.CommonButton(g),this.clear_btn.x=a.Global.screenWidth/3,this.clear_btn.text="清空",this.clear_btn.y=a.Global.screenHeight-d,this.addChild(this.clear_btn);var h=a.DisplayUtils.createShape(1,e,d,16777215);h.cacheAsBitmap=!0,this.ignore_btn=new a.CommonButton(h),this.ignore_btn.x=a.Global.screenWidth/3*2,this.ignore_btn.text="不再提示",this.ignore_btn.y=a.Global.screenHeight-d,this.addChild(this.ignore_btn),this.add()}return __extends(c,b),Object.defineProperty(c,"Instance",{get:function(){return null==this._self&&(this._self=new c(new egret.Rectangle(0,0,a.Global.screenWidth,a.Global.screenHeight))),this._self},enumerable:!0,configurable:!0}),c.prototype.resize=function(){this._rect=new egret.Rectangle(0,0,a.Global.screenWidth,a.Global.screenHeight),this.ChatHeight=this._rect.height,this._touchBg.graphics.clear(),this._touchBg.graphics.beginFill(0,.7),this._touchBg.graphics.drawRect(0,0,this._rect.width,this._rect.height),this._touchBg.graphics.endFill(),this._touchBg.width=this._rect.width,this._touchBg.height=this._rect.height,this._touchBg.touchEnabled=!1;var b=30;a.Global.screenWidth;this.close_btn.text="关闭",this.close_btn.y=a.Global.screenHeight-b,this.addChild(this.close_btn),this.clear_btn.x=a.Global.screenWidth/3,this.clear_btn.text="清空",this.clear_btn.y=a.Global.screenHeight-b,this.addChild(this.clear_btn),this.ignore_btn.x=a.Global.screenWidth/3*2,this.ignore_btn.text="不再提示",this.ignore_btn.y=a.Global.screenHeight-b,this.addChild(this.ignore_btn)},c.prototype.add=function(){this.close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this),this.x=this._rect.x,this.y=this._rect.y,this.messageSprite=new egret.Sprite,this.messageSprite.touchChildren=!1,this.messageSprite.touchEnabled=!1,this.addChild(this.messageSprite),this.messageSprite.mask=this._rect},c.prototype.onTouchClose=function(a){this.hide()},c.prototype.onTouchHideNever=function(a){this.hide(),this._isShow=!1},c.prototype.onTouchClear=function(a){this.clear(),this.add(),this.hide()},c.prototype.check=function(){1==this._isShow&&this.isInStage&&this.message&&this.message.length>0&&this.show()},c.prototype.clear=function(){this.message=[],this.removeChild(this.messageSprite),this.close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClose,this),this.ignore_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHideNever,this),this.clear_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchClear,this)},c.prototype.show=function(){this.message&&this.message.length>0&&(egret.MainContext.instance.stage.addChildAt(this,egret.MainContext.instance.stage.numChildren),this.isInStage=!0)},c.prototype.hide=function(){a.DisplayUtils.removeFromParent(this),this.isInStage=!1},c.prototype.addLog=function(b){if(0!=a.Global.debugLevel&&0!=this._isShow){var c=new egret.TextField;c.multiline=!0,c.width=a.Global.screenWidth,c.y=this.messageSprite.height,c.textColor=16711680,c.text=b,this.messageSprite.addChild(c),this.message.push(c),this.messageSprite.height>this.ChatHeight-20&&!this.isMove&&(this.messageSprite.y=-(this.messageSprite.height-this.ChatHeight)-40,this.messageSprite.mask.y=this.messageSprite.height-this.ChatHeight+45),this._isShow&&this.show()}},c.prototype.addTxt=function(a,b,c){a.addChild(b),b.x=5,b.y=(b.height+8)*c},c.prototype.onMessageSpriteDown=function(a){this.isMove=!0,this.downPoint=new egret.Point(a.stageX,a.stageY)},c.prototype.onTouchMove=function(a){var b=a.stageY-this.downPoint.y;(a.stageY>this.downPoint.y||a.stageY<this.downPoint.y)&&(this.messageSprite.y+=b,this.messageSprite.mask.y-=b),this.downPoint=new egret.Point(a.stageX,a.stageY)},c.prototype.onChatTouchUp=function(a){15<=this.messageSprite.y||this.messageSprite.height<this.ChatHeight?(egret.Tween.get(this.messageSprite).to({y:0},100),egret.Tween.get(this.messageSprite.mask).to({y:0},100)):(this.messageSprite.y<-(this.messageSprite.height-this.ChatHeight-20)&&(egret.Tween.get(this.messageSprite).to({y:-(this.messageSprite.height-this.ChatHeight)-40},100),egret.Tween.get(this.messageSprite.mask).to({y:this.messageSprite.height-this.ChatHeight+45},100)),this.isMove=!1)},c._self=null,c}(egret.Sprite);a.DebugView=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(a,c){b.call(this),this.guideHand=a,this.circle=c,this.addListener()}return __extends(c,b),c.prototype.initStatus=function(a){this.createBaseScene(),1==a?this.createBetScene():this.createSlipScene()},c.prototype.onShowSlipGuide=function(){this.disposeScene(),this.createSlipScene()},c.prototype.onShowBetGuide=function(){this.disposeScene(),this.createBetScene()},c.prototype.createBaseScene=function(){this.cirPanel||(this.cirPanel=new egret.Sprite,this.addChild(this.cirPanel)),this.handPanel||(this.handPanel=new egret.Sprite,this.addChild(this.handPanel))},c.prototype.createBetScene=function(){this.tips||(this.tips=this.createTextField("点击这里下注",35,108,58623,30),this.handPanel.addChild(this.tips)),this.betGuideEffect()},c.prototype.createSlipScene=function(){if(0==a.UserInfo.slipStatus)return void this.dispose();1==a.UserInfo.slipStatus?this.leftSlipGuideEffect():2==a.UserInfo.slipStatus&&this.rightSlipGuideEffect()},c.prototype.addListener=function(){a.ZqListener.getInstance().addEventListener(a.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},c.prototype.removeListener=function(){a.ZqListener.getInstance().removeEventListener(a.ZqEvent.HIDE_SLIP_GAME_GUIDE,this.onHideSlipHandler,this)},c.prototype.onHideSlipHandler=function(){this.disposeScene(),this.createSlipScene()},c.prototype.createGuideHand=function(a,b,c,d){void 0===c&&(c=0),void 0===d&&(d=.8),this.guideHand&&(this.guideHand.scaleX=d,this.guideHand.scaleY=d,this.guideHand.x=a,this.guideHand.y=b,this.guideHand.rotation=c,this.handPanel.addChild(this.guideHand))},c.prototype.addCircleEffect=function(a,b){this.circle&&(this.circle.alpha=1,this.circle.scaleX=.2,this.circle.scaleY=.2,this.circle.x=a,this.circle.y=b,this.cirPanel.addChild(this.circle))},c.prototype.betGuideEffect=function(){this.createGuideHand(80,155),this.addCircleEffect(92,258),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({y:125},400,egret.Ease.sineIn).wait(500).to({y:155},300,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).to({scaleX:1,scaleY:1,x:45,y:222,alpha:0},1400,egret.Ease.sineIn)},c.prototype.leftSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向右滑动屏幕",35,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(100,870,180,1),this.addCircleEffect(55,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:270},1200,egret.Ease.sineIn).wait(300).to({x:100},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:225,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},c.prototype.rightSlipGuideEffect=function(){this.tips||(this.tips=this.createTextField("向左滑动屏幕",350,880,58623,30),this.handPanel.addChild(this.tips)),this.createGuideHand(550,870,180,1),this.addCircleEffect(500,710),egret.Tween.get(this.guideHand,{loop:!0}).wait(200).to({x:380},1200,egret.Ease.sineIn).wait(300).to({x:550},100,egret.Ease.sineIn),egret.Tween.get(this.circle,{loop:!0}).wait(200).to({scaleX:1,scaleY:1,x:240,y:650,alpha:0},1400,egret.Ease.sineIn).wait(200)},c.prototype.createTextField=function(a,b,c,d,e){var f=new egret.TextField;return f.x=b,f.y=c,f.fontFamily="微软雅黑",f.textColor=d,f.text=a,f.size=e,f.lineSpacing=2,f},c.prototype.disposeScene=function(){this.guideHand&&egret.Tween.removeTweens(this.guideHand),this.circle&&egret.Tween.removeTweens(this.circle),this.tips&&a.DisplayUtils.removeFromParent(this.tips),this.tips=null,this.handPanel&&a.DisplayUtils.removeAllChildren(this.handPanel),this.cirPanel&&a.DisplayUtils.removeAllChildren(this.cirPanel)},c.prototype.dispose=function(){this.removeListener(),this.disposeScene(),this.handPanel&&(a.DisplayUtils.removeAllChildren(this.handPanel),a.DisplayUtils.removeFromParent(this.handPanel)),this.handPanel=null,this.cirPanel&&(a.DisplayUtils.removeAllChildren(this.cirPanel),a.DisplayUtils.removeFromParent(this.cirPanel)),this.cirPanel=null,this.circle=null,this.guideHand=null},c}(egret.Sprite);a.GameGuide=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(a,c,d,e,f,g,h){void 0===c&&(c="温馨提示"),void 0===d&&(d="确定"),void 0===f&&(f="取消"),b.call(this),this.exml='<e:Skin width= "400" height= "300" xmlns:e="http://ns.egret.com/eui">\n                            <e:Image left="0" right="0" bottom="0" top="0" source="resource/assets/blue/Panel/border.png" scale9Grid="2,2,12,12" ></e:Image>\n                            <e:Group id="moveArea" top="0" right="0" left="0" height="45">\n                                <e:Image width="100%" height="100%" source="resource/assets/blue/Panel/header.png"></e:Image>\n                                <e:Label id="titleDisplay" textColor= "0x000000" horizontalCenter= "0" verticalCenter = "0" size= "20" ></e:Label>\n                            </e:Group>\n                            <e:Button id="okButton" label="touch to close" bottom="9" horizontalCenter="0" width="106" height="49" ></e:Button>\n                            <e:Button id="cacelButton" label="touch to close" bottom="9" horizontalCenter="0" width="106" height="49" ></e:Button>\n                            <e:Label id="contentText" textColor="0x000000" text="标签" y="65" width="357" textAlign="center" height="165" horizontalCenter="0" />\n                        </e:Skin>',this.skinName=this.exml,this.title=c,g?(this._cacelCall=g,this.cacelButton.visible=!0,this.okButton.horizontalCenter=-80,this.cacelButton.horizontalCenter=80):(this.cacelButton.visible=!1,this.okButton.horizontalCenter=0),e&&(this._okCall=e),h&&(this._callObj=h),this.okButton.label=d,this.contentText.text=a,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)}return __extends(c,b),c.prototype.onTouch=function(b){switch(b.target){case this.okButton:a.PopUpMgr.removePopUp(this),this._okCall&&this._okCall.call(this._callObj);break;case this.cacelButton:a.PopUpMgr.removePopUp(this),this._cacelCall&&this._cacelCall.call(this._callObj)}},c}(eui.Panel);a.MsgBox=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(a,b,c){void 0===b&&(b=5),void 0===c&&(c=10),this._prexKey="",this._minCount=0,this._maxCount=0,this.m_FishFactory={},this._prexKey=a,this._minCount=b,this._maxCount=c}return a.prototype.free=function(a){var b=this.createArray(this.key(!1)),c=b.indexOf(a);if(-1!=c){b.splice(c,1);var d=this.createArray(this.key(!0));d.push(a);for(var e=d.length>this._maxCount?d.length-this._minCount:0,f=0;f<e;)d.shift(),null,f++}},a.prototype.setCount=function(a,b){void 0===b&&(b=0),this._minCount=a,this._maxCount=b},a.prototype.active=function(a){var b,c=this.createArray(this.key(!0));return b=0==c.length?new a:c.shift(),this.createArray(this.key(!1)).push(b),b},a.prototype.isNew=function(){return 0==this.createArray(this.key(!0)).length},a.prototype.empty=function(){null!=this.m_FishFactory[this.key(!0)]&&(this.m_FishFactory[this.key(!0)]=null,delete this.m_FishFactory[this.key(!0)])},a.prototype.createArray=function(a){var b=this.m_FishFactory[a];return null==b&&(b=new Array,this.m_FishFactory[a]=b),b},a.prototype.key=function(a){return this._prexKey+"&"+(a?"free":"atv")},a.prototype.getKey=function(){return this._prexKey},a}();a.ObjectFactory=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(a,b,c){void 0===b&&(b=5),void 0===c&&(c=10),this._mainKey="",this._min=0,this._max=0,this.vector=new Array,this.subKey=new Array,this._clazz=a,this._mainKey=this._clazz,this._min=b,this._max=c}return b.prototype.free=function(a,b){this.getFactory(b).free(a)},b.prototype.active=function(a){return this.getFactory(a).active(this._clazz)},b.prototype.isNew=function(a){return this.getFactory(a).isNew()},b.prototype.setCount=function(a,b,c){void 0===c&&(c=0),this.getFactory(a).setCount(b,c)},b.prototype.empty=function(a){this.getFactory(a).empty()},b.prototype.setAllCount=function(a,b){void 0===b&&(b=0);for(var c,d=this.vector.length,e=0;e<d;e++)c=this.vector[e],c.setCount(a,b)},b.prototype.getFactory=function(b){for(var c,d=this.vector.length,e=0;e<d;e++)if(c=this.vector[e],c.getKey()==this.key(b))return c;return c=new a.ObjectFactory(this.key(b),this._min,this._max),this.vector.push(c),c},b.prototype.key=function(a){return this._mainKey+"_"+a},b.prototype.createFactory=function(b,c,d){return void 0===d&&(d=0),new a.ObjectFactory(this.key(b),c,d)},b}();a.ObjectFactoryGroup=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(c){b.call(this),this.pages=[],this.selectIndex=-1,this.pageWidth=640,this.touchEnabled=!1,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.mask=c,this.mask&&(this.pageWidth=this.mask.width),this.btnGroup=new a.StatusBtnGroup,this.btnGroup.x=300,this.btnGroup.y=c.height-20,this.addChild(this.btnGroup)}return __extends(c,b),c.prototype.addPage=function(a){this.pages.push(a),this.childNum=this.pages.length,this.btnGroup.setChildNum(this.childNum),this.btnGroup.x=this.pageWidth/2-this.btnGroup.width/2,this.childNum>1?this.touchEnabled=!0:this.touchEnabled=!1},c.prototype.reset=function(){for(var a=0;a<this.childNum;a++)this.removePage(this.pages[a]);this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=null,this.pages.length=0,this.childNum=this.pages.length,this.btnGroup.setChildNum(0)},c.prototype.onTouchBegin=function(a){this.touchEnabled&&(this.startTouchX=a.stageX,this.currentPageX=this.currentPage.x)},c.prototype.onTouchMove=function(a){if(this.touchEnabled){var b=a.stageX-this.startTouchX;Math.abs(b)>10&&(this.touchChildren=!1,a.stopPropagation(),a.stopImmediatePropagation()),this.currentPage&&(this.currentPage.x=this.currentPageX+b,this.currentPage.x>0?(this.leftPage||this.selectIndex>0&&(this.leftPage=this.pages[this.selectIndex-1]),this.leftPage&&(this.leftPage.parent||this.addChild(this.leftPage),this.leftPage.x=this.currentPage.x-this.pageWidth)):this.currentPage.x<0&&(this.rightPage||this.selectIndex<this.childNum-1&&(this.rightPage=this.pages[this.selectIndex+1]),this.rightPage&&(this.rightPage.parent||this.addChild(this.rightPage),this.rightPage.x=this.currentPage.x+this.pageWidth)))}},c.prototype.onTouchEnd=function(a){if(this.touchEnabled){this.touchChildren=!0;var b=a.stageX-this.startTouchX;Math.abs(b)>20?(a.stopPropagation(),a.stopImmediatePropagation(),b>20?this.leftPage?(egret.Tween.get(this.currentPage).to({x:this.pageWidth},100),egret.Tween.get(this.leftPage).to({x:0},100).call(this.showLeftPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100)):this.rightPage?(egret.Tween.get(this.currentPage).to({x:-this.pageWidth},100),egret.Tween.get(this.rightPage).to({x:0},100).call(this.showRightPageEnd,this)):(this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,egret.Tween.get(this.currentPage).to({x:0},100))):(this.leftPage&&egret.Tween.get(this.leftPage).to({x:-this.pageWidth},100),this.rightPage&&egret.Tween.get(this.rightPage).to({x:this.pageWidth},100),egret.Tween.get(this.currentPage).to({x:0},100).call(this.showCurrentPageEnd,this))}},c.prototype.showCurrentPageEnd=function(){this.leftPage=null,this.rightPage=null},c.prototype.showLeftPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.rightPage),this.currentPage=this.leftPage,this.selectIndex=this.selectIndex-1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},c.prototype.showRightPageEnd=function(){this.removePage(this.currentPage),this.removePage(this.leftPage),this.currentPage=this.rightPage,this.selectIndex=this.selectIndex+1,this.leftPage=null,this.rightPage=null,this.updateBtnGroupSelected()},c.prototype.setSelectIndex=function(a){this.selectIndex=a,this.removePage(this.currentPage),this.removePage(this.leftPage),this.removePage(this.rightPage),this.leftPage=null,this.rightPage=null,this.currentPage=this.pages[this.selectIndex],this.currentPage.x=0,this.addChild(this.currentPage),this.updateBtnGroupSelected()},c.prototype.getSelectIndex=function(){return this.selectIndex},c.prototype.updateBtnGroupSelected=function(){this.btnGroup.setSelectIndex(this.selectIndex)},c.prototype.setChildNum=function(a){this.childNum!=a&&(this.childNum=a)},c.prototype.getChildNum=function(){return this.childNum},c.prototype.removePage=function(a){a&&this.contains(a)&&this.removeChild(a)},c}(egret.Sprite);a.PageGroup=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===d&&(d=!0),void 0===e&&(e=15461355),void 0===f&&(f=1),a.call(this),this.maxX=0,this.minX=0,this.maxY=0,this.minY=0,this.isCanRollY=!0,this.isShowBg=!0,this.bgColor=16777215,this.bgAlpha=1,this.lastGapX=0,this.lastGapY=0,this.touchEnabled=!0,this.content=b,this.content.touchEnabled=!0,this.addChild(this.content),this.maskRect=c,this.mask=this.maskRect,this.isShowBg=d,this.bgColor=e,this.bgAlpha=f,this.updateBg(),this.minX=this.maskRect.width-this.content.width>0?0:this.maskRect.width-this.content.width,this.minY=this.maskRect.height-this.content.height>0?0:this.maskRect.height-this.content.height,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.content.addEventListener(egret.Event.RESIZE,this.onContentResize,this),this.lastTouchPoint=new egret.Point}return __extends(b,a),b.prototype.updateMask=function(a){this.maskRect=a,this.mask=this.maskRect,this.updateBg(),this.onContentResize(null)},b.prototype.updateBg=function(){this.isShowBg&&(this.bgSh||(this.bgSh=new egret.Shape,this.addChildAt(this.bgSh,0)),this.bgSh.graphics.clear(),this.bgSh.graphics.beginFill(this.bgColor,this.bgAlpha),this.bgSh.graphics.drawRect(0,0,this.mask.width,this.mask.height),this.bgSh.graphics.endFill())},b.prototype.onContentResize=function(a){this.minX=this.maskRect.width-this.content.width>0?0:this.maskRect.width-this.content.width;var b=this.maskRect.height-this.content.height>0?0:this.maskRect.height-this.content.height;this.minY<b?(egret.Tween.removeTweens(this.content),this.content.y=b):(egret.Tween.removeTweens(this.content),egret.Tween.get(this.content).to({y:b},100)),this.minY=b},b.prototype.onTouchBegin=function(a){this.minX=this.maskRect.width-this.content.width>0?0:this.maskRect.width-this.content.width,this.minY=this.maskRect.height-this.content.height>0?0:this.maskRect.height-this.content.height,egret.Tween.removeTweens(this.content),this.lastTouchPoint=new egret.Point(a.stageX,a.stageY),this.firstTouchPoint=new egret.Point(a.stageX,a.stageY);var b=this.stage;b.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),b.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),b.addEventListener(egret.Event.LEAVE_STAGE,this.onLeave,this),a.preventDefault()},b.prototype.onTouchMove=function(a){this.isCanRollX&&this.checkX(a.stageX),this.isCanRollY&&this.checkY(a.stageY)},b.prototype.checkX=function(a){var b=0;if(this.firstTouchPoint.x>0){if(b=a-this.firstTouchPoint.x,Math.abs(b)<20)return;this.firstTouchPoint.x=-1}b=a-this.lastTouchPoint.x,this.lastGapX=b,this.content.x+b>0?this.content.x=this.content.x+b/2:this.content.x+b<this.minX?this.content.x=this.content.x+b/2:this.content.x=this.content.x+b,this.lastTouchPoint.x=a},b.prototype.checkY=function(a){var b=0;if(this.firstTouchPoint.y>0){if(b=a-this.firstTouchPoint.y,Math.abs(b)<20)return;this.firstTouchPoint.y=-1}b=a-this.lastTouchPoint.y,this.lastGapY=b,this.content.y+b>0?this.content.y=this.content.y+b/2:this.content.y+b<this.minY?this.content.y=this.content.y+b/2:this.content.y=this.content.y+b,this.lastTouchPoint.y=a},b.prototype.onTouchEnd=function(a){a.stopPropagation(),a.stopImmediatePropagation(),this.content.touchChildren=!0,egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);var b=1e3;if(this.isCanRollX)if(Math.abs(this.lastGapX)>5&&this.content.x<0&&this.content.x>this.minX){var c=this.content.x+30*this.lastGapX;c>0?c/=2:c<this.minX&&(c-=(c-this.minX)/2),egret.Tween.get(this.content).to({x:c},b,egret.Ease.circOut).call(function(){this.rollEnd()},this)}else this.rollEnd();if(this.isCanRollY)if(Math.abs(this.lastGapY)>5&&this.content.y<0&&this.content.y>this.minY){var d=this.content.y+30*this.lastGapY;d>0?(d/=2,d>this.maskRect.height/2&&(d=this.maskRect.height/2),b=500):d<this.minY&&(d-=(d-this.minY)/2,d<this.minY-this.maskRect.height/2&&(d=this.minY-this.maskRect.height/2),b=500),egret.Tween.get(this.content).to({y:d},b,egret.Ease.circOut).call(function(){this.rollEnd()},this)}else this.rollEnd()},b.prototype.rollEnd=function(){this.content.x>0?egret.Tween.get(this.content).to({x:0},200):this.content.x<this.minX&&egret.Tween.get(this.content).to({x:this.minX},200),this.content.y>0?egret.Tween.get(this.content,null,null,!0).to({y:0},200):this.content.y<this.minY&&egret.Tween.get(this.content).to({y:this.minY},200)},b.prototype.onLeave=function(a){this.onTouchEnd(null)},b}(egret.Sprite);a.Scroller=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(a,b,c,d){this.curDir="center",this.left=b,this.right=c,this.center=a,this.stage=d,this.addListener()}return b.prototype.addListener=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},b.prototype.removeListener=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},b.prototype.initStatus=function(){"center"!=this.curDir&&("left"==this.curDir?(this.disposeLeftBar(),this.onTrunCenter()):"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()))},b.prototype.showLeftBar=function(){"left"!=this.curDir&&this.onTrunRight()},b.prototype.onTouchBegin=function(a){this.center.touchEnabled&&(this.startTouchPoint=new egret.Point(a.stageX,a.stageY))},b.prototype.onTouchMove=function(a){var b=a.stageX-this.startTouchPoint.x,c=a.stageY-this.startTouchPoint.y;Math.abs(b)>=20&&Math.abs(b)>=Math.abs(c)&&(this.canShowBar=!0,this.center.touchChildren=!1)},b.prototype.onTouchEnd=function(a){if(this.canShowBar&&(this.canShowBar=!1,this.center.touchEnabled)){this.center.touchChildren=!0;var b=a.stageX-this.startTouchPoint.x;Math.abs(b)>20?b>20?"center"==this.curDir?this.onTrunRight():"right"==this.curDir&&(this.disposeRightBar(),this.onTrunCenter()):"center"==this.curDir?this.onTrunLeft():"left"==this.curDir&&(this.disposeLeftBar(),this.onTrunCenter()):(this.disposeLeftBar(),this.disposeRightBar(),this.onTrunCenter())}},b.prototype.onTrunRight=function(){egret.Tween.get(this.center).to({x:this.left.width},500).call(this.disposeTween,this,[this.center]),1==a.UserInfo.slipStatus&&(a.UserInfo.slipStatus=2),this.curDir="left",egret.Tween.get(this.left).to({x:0},500).call(this.disposeTween,this,[this.left]),a.ZqListener.getInstance().dispatchEvent(new a.ZqEvent(a.ZqEvent.HIDE_SLIP_GAME_GUIDE))},b.prototype.onTrunLeft=function(){egret.Tween.get(this.center).to({x:-this.right.width},500).call(this.disposeTween,this,[this.center]),a.UserInfo.slipStatus=0,this.curDir="right",egret.Tween.get(this.right).to({x:a.Global.screenWidth-this.right.width},500).call(this.disposeTween,this,[this.right]),a.ZqListener.getInstance().dispatchEvent(new a.ZqEvent(a.ZqEvent.HIDE_SLIP_GAME_GUIDE))},b.prototype.onTrunCenter=function(){this.curDir="center",egret.Tween.get(this.center).to({x:0},500).call(this.disposeTween,this,[this.center])},b.prototype.disposeLeftBar=function(){this.left&&egret.Tween.get(this.left).to({x:-this.left.width},500).call(this.disposeTween,this,[this.left])},b.prototype.disposeRightBar=function(){this.right&&egret.Tween.get(this.right).to({x:a.Global.screenWidth},500).call(this.disposeTween,this,[this.right])},b.prototype.disposeTween=function(a){a&&egret.Tween.removeTweens(a)},b.prototype.dispose=function(){this.removeListener()},b}();a.SlideBar=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(a){function b(b,c){a.call(this),this.index=-1,this.normalTexture=b,this.selectedTexture=c,this.normalBitmap=new egret.Bitmap(this.normalTexture),this.selectedBitmap=new egret.Bitmap(this.selectedTexture),this.addChild(this.normalBitmap)}return __extends(b,a),Object.defineProperty(b.prototype,"selected",{get:function(){return this._selected},set:function(a){this._selected!=a&&(this._selected=a,this._selected?(this.addChild(this.selectedBitmap),this.contains(this.normalBitmap)&&this.removeChild(this.normalBitmap)):(this.addChild(this.normalBitmap),this.contains(this.selectedBitmap)&&this.removeChild(this.selectedBitmap)))},enumerable:!0,configurable:!0}),b}(egret.Sprite);a.StatusBtn=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(a,c,d){void 0===d&&(d=10),b.call(this),this.selectIndex=0,this.btns=[],this.gap=10,this.normalTexture=a,this.selectedTexture=c,this.gap=d,this.init()}return __extends(c,b),c.prototype.setSelectIndex=function(a){this.selectIndex=a,this.selectIndex>=this.btns.length&&(this.selectIndex=this.btns.length-1),this.currentSelecedBtn&&(this.currentSelecedBtn.selected=!1),this.currentSelecedBtn=this.btns[this.selectIndex],this.currentSelecedBtn.selected=!0},c.prototype.getSelectIndex=function(){return this.selectIndex},c.prototype.setChildNum=function(a){if(this.childNum!=a){if(this.childNum=a,this.childNum<=this.btns.length)this.btns.length=this.childNum;else for(var b=this.btns.length;b<this.childNum;b++)this.btns.push(this.getNewBtn());this.resetChildren()}},c.prototype.getChildNum=function(){return this.childNum},c.prototype.resetChildren=function(){if(this.removeChildren(),!(this.btns.length<2)){for(var a,b=0;b<this.btns.length;b++)a=this.btns[b],a.selected=!1,a.x=b*(a.width+this.gap),this.addChild(a);this.setSelectIndex(this.selectIndex)}},c.prototype.getNewBtn=function(){return new a.StatusBtn(this.normalTexture,this.selectedTexture)},c.prototype.init=function(){var a,b;this.normalTexture||(a=new egret.Shape,a.graphics.beginFill(11119017),a.graphics.drawCircle(5,5,5),a.graphics.endFill(),b=new egret.RenderTexture,b.drawToTexture(a),this.normalTexture=b),this.selectedTexture||(a=new egret.Shape,a.graphics.beginFill(7172728),a.graphics.drawCircle(5,5,5),a.graphics.endFill(),b=new egret.RenderTexture,b.drawToTexture(a),this.selectedTexture=b)},c}(egret.Sprite);a.StatusBtnGroup=b}(uniLib||(uniLib={}));var CommonConsts=function(){function a(){}return a.LOBBY_LASTGAME="lobby_lastGame",a}(),uniLib;!function(a){var b=function(){function a(){this._funcMap={}}return a.prototype.dispatch=function(a,b){void 0===b&&(b=null);var c=this._funcMap[a],d=0;if(null!=c){for(;d<c.length;)c[d]&&c[d][0].call(c[d][1],b),d++;return!0}},a.prototype.addListener=function(a,b,c){if(this._funcMap[a]){-1==this.getNoticeIndex(a,b,c)&&this._funcMap[a].push([b,c])}else this._funcMap[a]=[],this._funcMap[a].push([b,c])},a.prototype.hasListener=function(a){return!!(this._funcMap[a]&&this._funcMap[a].length>0)},a.prototype.removeListener=function(a,b,c){if(this._funcMap[a]){var d=this.getNoticeIndex(a,b,c);-1!=d&&this._funcMap[a].splice(d,1)}},a.prototype.getNoticeIndex=function(a,b,c){var d=this._funcMap[a];for(var e in d)if(d[e][0]==b&&d[e][1]==c)return Number(e);return-1},a}();a.Dispatcher=b}(uniLib||(uniLib={}));var uniLib;!function(a){!function(a){a[a.CHIPS=0]="CHIPS",a[a.FREECHIPS=1]="FREECHIPS",a[a.PLAT_POINT=2]="PLAT_POINT",a[a.BANK_CHIPS=3]="BANK_CHIPS",a[a.NICKNAME=4]="NICKNAME",a[a.GIFTCOUPON=5]="GIFTCOUPON",a[a.HEADURL=6]="HEADURL",a[a.GOLDCHIPS=7]="GOLDCHIPS",a[a.FANGKA=8]="FANGKA"}(a.UserInfoEnum||(a.UserInfoEnum={}));a.UserInfoEnum}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(a,b,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1),this.CLASS_NAME="ZqEvent",this.type=a,this._obj=b}return b.prototype.clone=function(a){return new b(this.type,a||this._obj)},b.prototype.toString=function(){a.Console.log(this.CLASS_NAME,"type","bubbles","cancelable")},Object.defineProperty(b.prototype,"param",{get:function(){return this._obj},enumerable:!0,configurable:!0}),b.CHAT_ROOM="chat_room",b.CHAT_PRIVATE="chat_private",b.CHAT_SYSTEM="chat_system",b.CHAT_IMPORTANT="chat_important",b.EVENT_L2G_NOTICE="event_l2g_notice",b.CHAT_GM="chat_gm",b.GM_BEFORE="gm_before",b.GM_END="gm_end",b.CHAT_HORN="chat_horn",b.USER_INFO="user_info",b.CHAT_HUNDRED="chat_hundred",b.UPDATE_USER_INFO="update_user_info",b.CHECK_VERSION_UPDATE="check_version_update",b.COMMON_MODEL="common_model",b.EVENT_L2G="event_l2g",b.EVENT_G2L="event_g2l",b.EVENT_ACTIVE_SOCKET_CACHE_OK="on_active_socket_cache_ok",b.EVENT_SERVER_SHUTDOWN="on_server_shutdown",b.EVENT_SERVER_DEBUG_LEVEL="on_server_debug_level",b.GM_INFO="gm_info",b.KICK_OUT="kick_out",b.ON_RECONNEC="on_reconnect",b.ON_SERVER_SHUTDOWN="on_server_shutdown",b.ON_GETZONEINFO="on_get_zoneinfo",b.ON_RESTART="on_restart",b.NET_ERRER="net_error",b.SHARE="share",b.TASK_EVENT="task_event",b.ONLINE_NUM="online_num",b.HIDE_SLIP_GAME_GUIDE="hide_slip_game_guide",b.NATIVE_TO_EGERET="native_to_egret",b}();a.ZqEvent=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){this.CLASS_NAME="ZqListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new a.Dispatcher,this.isInit=!0)}return b.getInstance=function(){return null==this._instance&&(this._instance=new b),this._instance},b.prototype.addEventListener=function(a,b,c,d,e){void 0===d&&(d=!1),void 0===e&&(e=0),this._dispatcher.addListener(a,b,c)},b.prototype.hasEventListener=function(a){return this._dispatcher.hasListener(a)},b.prototype.removeEventListener=function(a,b,c,d){void 0===d&&(d=!1),this._dispatcher.removeListener(a,b,c)},b.prototype.dispatchEvent=function(a){return this._dispatcher.dispatch(a.type,a)},b.prototype.toString=function(){return this._dispatcher.toString()},b}();a.ZqListener=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a}();a.RoomInfo=b;var c=function(){function a(){this.showBack=!0,this.defaultOrientation="auto",this.candestroyGrps=[],this.hasTestChips=!1}return a}();a.IGameConfig=c}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a}();a.IUserInfo=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){this._models={}}return Object.defineProperty(b,"Instance",{get:function(){return null==this._self&&(this._self=new b),this._self},enumerable:!0,configurable:!0}),b.prototype.addEvents=function(){},b.prototype.registerCommonModel=function(b,c,d){null==this._models[b]?(this._models[b]=c,this._models["loadName_"+b]=d):a.Console.warn("registerCommonModel:公用模块只能注册一次")},b.prototype.openCommonModel=function(b,c,d,e,f){function g(){e?(h=new i._models[b](d),e.call(f,h)):0==c?(h=new i._models[b](d),a.PopUpMgr.addPopUp(h,null,!0,!0)):a.UIMgr.instance.showUI(i._models[b],d)}void 0===c&&(c=0);var h;if(this._models[b]){var i=this;return this._models["loadName_"+b]?a.ResLoadMgr.instance.load(this._models["loadName_"+b],g,function(){a.Console.error("加载资源组失败:loadName_"+b)},null,a.UIMgr.instance.tipsLoadUI,!0,!0):g(),h}},b.prototype.showCommonUI=function(b,c){if(this._models[b])return a.UIMgr.instance.showUI(this._models[b],c)},b.prototype.getCommonUI=function(a,b){if(this._models[a]){return new this._models[a](b)}},b._self=null,b}();a.CommonModelMgr=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.reQuestZoneList=function(b,c,d,e,f){if(this.http)this.http.requestZoneList(b,d,f);else{var g=new a.HttpClient;g.init(c,b),g.requestZoneList(b,d,f)}},b.init=function(b,c,d,e,f,g,h){if(this.LoginUrl=b,c&&(a.Global.gameId=c),c&&a.Global.zoneList)for(var i=a.Global.zoneList.length-1;i>=0;i--)c==a.Global.zoneList[i].gameid&&(d=a.Global.zoneList[i].zoneid);0==a.Global.lobbyGameId&&(a.Global.lobbyGameId=c),null==this.http||this.LoginUrl!=this.http.LoginUrl?(this.http=new a.HttpClient,this.http.init(b,c,d),h&&(this.http.GatewayUrl=h),e&&null!=e&&this.http.h5platLogin(null,e,f,g)):e&&e.call(g,a.Global.platInfo)},b.getPlatToken=function(c,d,e,f,g){a.Utils.getLocalStorage(f+"|"+e+"|platToken",function(e){var f;e&&(f=JSON.parse(e),b.UID=Number(f.uid),b.PlatUID=f.uid,a.BrowersUtils.extData.inviter=b.UID.toString(),b.SID=f.sid,f.GatewayUrl&&b.http&&(b.http.GatewayUrl=f.GatewayUrl),b.PlatToken=f.unigame_plat_login,b.PlatKey=f.unigame_plat_key,b.platTokenTimeOut=f.unigame_plat_login_life,null!=f.platinfo&&(a.Global.platInfo?a.Global.platInfo.platid=f.platinfo.platid:a.Global.platId=f.platinfo.platid,b.PlatUID=f.platinfo.uid,b.PlatSession=f.platinfo.sign)),c.call(d,f)})},b.h5platLogin=function(b,c,d,e){this.http?this.http.h5platLogin(b,c,d,e):a.Console.warn("请先使用NetMgr.init初始化网络模块!")},b.initSocket=function(c,d,e,f,g,h,i,j,k){void 0===i&&(i=!1),void 0===j&&(j=!1);var l=this;if(null==this.ws){if(e.loopback)return l.ws=new a.JsonSocket(null,l.http.GameID,0,!1),l.ws.login(c,null,e),void c.call(e);var m=function(f){if(null==f)return a.Console.warn("initSocket:网络请求失败,请检查网络"),d&&d.call(e),!0;a.Global.logintempid=f.logintempid,!a.Global.LobbyPlatInfo||k&&""!=k||(a.Global.LobbyPlatInfo.GatewayUrlWs=f.jsongatewayurl),l.ws=new a.JsonSocket(f.jsongatewayurl,l.http.GameID,l.http.ZoneID,i);var g;return g=new Pmd.UserLoginTokenLoginUserPmd_C,g.gameid=l.http.GameID,g.zoneid=l.http.ZoneID,g.accountid=f.accountid,g.logintempid=f.logintempid,a.Global.zipmd5&&(g.zipmd5=a.Global.zipmd5),a.Global.configmd5&&(g.configmd5=a.Global.configmd5),a.Global.bundleId&&(g.bundlename=a.Global.bundleId),g.timestamp=Math.floor(Date.now()/1e3),j&&(g.lastseq=4294967295),null==b.PlatKey&&(b.PlatKey=""),g.tokenmd5=""+a.StringUtils.MD5(String(g.accountid)+String(g.logintempid)+String(g.timestamp)+b.PlatKey),g.compress=a.CompressUtil.compressStr[a.Global.compressType],a.Global.compressMin>0&&(g.compressmin=a.Global.compressMin),g.version=20160805,g.url=f.jsongatewayurl,l.ws.loginData=g,l.ws.login(c,d,e),!0};if(a.Global.LobbyPlatInfo&&(a.Global.LobbyPlatInfo.GatewayUrlWs||k&&""!=k)){var n=new Pmd.WebSocketForwardUserPmd_S;n.accountid=Number(b.UID),n.logintempid=a.Global.logintempid?a.Global.logintempid:0,n.jsongatewayurl=k&&""!=k?k:a.Global.LobbyPlatInfo.GatewayUrlWs,m(n)}else{var o=new Pmd.WebSocketForwardUserPmd_C;o.accountid=Number(b.UID),this.httpSend(o,function(a){return m(a)})}}},b.getThirdPlatId=function(){return this.PlatUID},b.getIp=function(b,c,d){var e=new a.HttpRequest(b,null,c);d||(d=a.Global.ipUrl),e.open(d),e.send()},b.logout=function(){a.Utils.clearLocalStorage(a.Global.gameId+"|"+a.Global.getPlatId()+"|platToken"),this.UID=0,this.ZoneUID="",this.SID="",this.PlatUID="",this.PlatSession="",this.PlatToken="",this.PlatKey="",this.platTokenTimeOut=0,this.http=null,this.closeSocket(),b.UID=0,b.ZoneUID="",b.SID="",b.PlatUID="",b.PlatSession="",b.PlatToken="",b.PlatKey="",b.platTokenTimeOut=0,b.http=null,b.closeSocket(),a.Global.platInfo=null,a.Global.LobbyPlatInfo=null,a.SceneMgr&&a.Global.LoginScene&&a.SceneMgr.instance.changeScene(a.Global.LoginScene)},b.closeSocket=function(){this.ws&&(this.ws.close(!1),this.ws=null)},b.httpSend=function(b,c,d){this.http?this.http.send(b,c,d):a.Console.warn("httpSend:网络不可用,请检查网络")},b.tcpSend=function(b){if(this.ws){var c=b.GetType?b.GetType():b.cmd_name||b.do;"Pmd.UserLoginTokenLoginUserPmd_C"!=c&&"Pmd.TickReturnNullUserPmd_CS"!=c&&"Pmd.PrivateChatUserPmd_CS"!=c&&"Pmd.GMCommandListChatUserPmd_S"!=c&&"Pmd.UserLoginReconnectLoginUserPmd_C"!=c&&"Pmd.SetTickTimeoutNullUserPmd_CS"!=c&&"Pmd.CommonChatUserPmd_CS"!=c&&"Pmd.GMCommandChatUserPmd_C"!=c?this.ws.send(b):this.ws.sendPlat(b)}else a.Utils.restart("网络不可用,点击确定重试","确定"),a.Console.warn("tcpSend:网络不可用,请检查网络:"+JSON.stringify(b))},b.sendEcho=function(a){void 0===a&&(a=8),this.ws&&this.ws.setMsgTimeout(a,"")&&this.ws.sendEcho()},b.setTickSec=function(a){void 0===a&&(a=30),this.ws&&this.ws.setTickSec(a)},b.sendChatVo=function(a,b){void 0===b&&(b=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal);var c;switch(b){case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_None:c=new Pmd.CommonChatUserPmd_CS,c.info=a.msg,c.chatpos=b,c.name=name;break;case Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:c=new Pmd.PrivateChatUserPmd_CS,c.info=a.msg,c.id=a.userId,c.name=a.userName;break;default:c=new Pmd.CommonChatUserPmd_CS,c.info=a.msg,c.chatpos=b}this.tcpSend(c)},b.sendChat=function(c,d,e){void 0===e&&(e=Pmd.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal);try{var f=0;if(c.match(/^[\/\/]/)){var g=c.substring(2,c.length),h=(g.split(" "),new Pmd.GMCommandChatUserPmd_C);h.method=h.method=g.substring(0,g.indexOf(" ")>-1?g.indexOf(" "):g.length),h.params=a.StringUtils.sTrim(g.substring(g.indexOf(" "),g.length));var i;switch(h.method){case"peer":var j=a.StringUtils.getVariables(h.params);a.UserInfo&&(a.UserInfo.uid=Number(j.id))}if(i=a.getDefinitionByName("uniLib.GM_Before"))try{i(h,function(){b.tcpSend(h)})}catch(a){}else b.tcpSend(h)}else{c.match(/^\[.+\]:/)&&(f=Number(c.substring(0,c.indexOf(":")).slice(1,-1)),c=c.substring(c.indexOf(":")+1,c.length));var k;0!=f?(k=new Pmd.PrivateChatUserPmd_CS,k.info=c,k.id=f,k.name=d):(k=new Pmd.CommonChatUserPmd_CS,k.info=c,k.chatpos=e,k.name=d),this.tcpSend(k)}}catch(b){a.Console.warn("ws网络不可用,请检查网络")}},b.GetPhoneCode=function(a,b,c,d,e){var f=new Pmd.MobileRegistRequestRandCodeLoginUserPmd_C,g=f.GetType?f.GetType():f.cmd_name||f.do;f.mobilenum=a,f.gameid=this.http.GameID;var h=e||this.http.LoginUrl;this.http.sendTo(h,g,f,c)},b.CodeLogin=function(a,b,c,d,e,f,g,h){var i=this,j=new Pmd.MobileRegistRequestCreateAccountLoginUserPmd_C;j.mobilenum=a,j.randcode=b,j.password=c,d&&(j.parent=d),this.http.initCallBack(e,f,g);var k=h||this.http.LoginUrl;this.http.sendTo(k,j.GetType(),j,function(a){return i.http.cachePhoneLoginInfo(a,Pmd.PlatType.PlatType_MOBILE),i.http.h5platLogin(),!0})},b.emailLogin=function(b,c,d,e,f,g,h,i){var j=this,k=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;k.email=b,k.parent=d,k.password=c,k.mobilenum=e,this.http.initCallBack(f,g,h),a.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var l=i||this.http.LoginUrl;this.http.sendTo(l,k.GetType(),k,function(a){return a?(j.http.cachePhoneLoginInfo(a,128),j.http.h5platLogin(),!0):g(a)})},b.LoginByTel=function(b,c,d,e,f,g){var h=this,i=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;i.platid=129,i.gameid=this.http.GameID,i.account=b,i.password=c,this.http.initCallBack(d,e,f),a.Utils.clearLocalStorage(this.http.GameID+"|129|platToken");var j=g||this.http.LoginUrl;this.http.sendTo(j,i.GetType(),i,function(a){if(a)return h.http.cachePhoneLoginInfo(a,i.platid),h.http.h5platLogin(),!0})},b.LoginByEmail=function(b,c,d,e,f,g){var h=this,i=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;i.platid=128,i.gameid=this.http.GameID,i.account=b,i.password=c,this.http.initCallBack(d,e,f),a.Utils.clearLocalStorage(this.http.GameID+"|128|platToken");var j=g||this.http.LoginUrl;this.http.sendTo(j,i.GetType(),i,function(a){return h.http.cachePhoneLoginInfo(a,i.platid),h.http.h5platLogin(),!0})},b.clearGateWay=function(){a.Global.LobbyPlatInfo.GatewayUrl&&delete a.Global.LobbyPlatInfo.GatewayUrl,a.Global.LobbyPlatInfo.GatewayUrlWs&&delete a.Global.LobbyPlatInfo.GatewayUrlWs;var b=a.Utils.getLocalStorage(a.Global.lobbyGameId+"|"+a.Global.getPlatId()+"|platToken");b&&(b.GatewayUrlWs&&delete b.GatewayUrlWs,b.GatewayUrl&&delete b.GatewayUrl,a.Global.setPlatToken(b,a.Global.getPlatId(),a.Global.lobbyGameId))},b.LoginByAccount=function(b,c,d,e,f,g){var h=this,i=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;i.platid=Pmd.PlatType.PlatType_MOBILE,a.StringUtils.checkPhone(b)?i.platid=Pmd.PlatType.PlatType_MOBILE:i.platid=128,i.gameid=this.http.GameID,i.account=b,i.password=c,a.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(d,e,f);var j=g||this.http.LoginUrl;this.http.sendTo(j,i.GetType(),i,function(a){if(a)return h.http.cachePhoneLoginInfo(a,i.platid),h.http.h5platLogin(),!0;e&&e.call(f)})},b.bindAccount=function(a,b,c,d,e,f){var g=new Pmd.EmailRegistRequestCreateAccountLoginUserPmd_C;g.email=a,g.password=b,g.isbind=!0,g.uid=this.UID;var h=f||this.http.LoginUrl;this.http.sendTo(h,g.GetType(),g,function(a){return 0==a.retcode?c.call(e):d.call(e),!0})},b.accountLogin=function(b,c,d,e,f,g){var h=this,i=new Pmd.UserRequestPlatTokenByPasswordLoginUserPmd_C;i.platid=128,i.gameid=this.http.GameID,i.account=b,i.password=c,a.Utils.clearLocalStorage(this.http.GameID+"|128|platToken"),this.http.initCallBack(d,e,f);var j=g||this.http.LoginUrl;this.http.sendTo(j,i.GetType(),i,function(a){return h.http.cachePhoneLoginInfo(a,i.platid),h.http.h5platLogin(),!0})},b.checkMsgTimeout=function(a){return null==this.ws||(new Date).getTime()-this.ws.lastRecvTime>=a},b.setMsgTimeout=function(a,b){return null!=this.ws&&this.ws.setMsgTimeout(a,b)},b}();a.NetMgr=b;var c=function(){function a(){this.userId="",this.type=0,this.userName=""}return a}();a.ChatMsgItemVo=c}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return Object.defineProperty(b,"Instance",{get:function(){return null==this._self&&(this._self=new b),this._self},enumerable:!0,configurable:!0}),b.prototype.initPayPlatById=function(b,c,d){var e=this;if(0!=this.isOpen&&(b&&null!=b||(b=a.Global.platInfo.platid),a.Global.isH5))switch(b){case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_LeZhuan:a.BrowersUtils.LoadJS("aibei",a.BrowersUtils.getPlatLibDir()+"aibei_v1.1.0.js"),null!=c&&(d?c.call(d,b):c(b));break;case Pmd.PlatType.PlatType_Play68:a.BrowersUtils.LoadJS("play68",a.BrowersUtils.getPlatLibDir()+"play68_sdk.js",c,d);break;case Pmd.PlatType.PlatType_WeChat:a.BrowersUtils.LoadJS("weixin",a.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){e.initWechat(c,d)});break;case Pmd.PlatType.PlatType_WEIYOU:a.Global.appId="wxa569805aa50c7fa7",a.BrowersUtils.LoadJS("weixin",a.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){e.initWechat(c,d)});break;case Pmd.PlatType.PlatType_RONGQIANG:a.Global.appId="wx463fb53ff525bbaa",a.BrowersUtils.LoadJS("weixin",a.BrowersUtils.getPlatLibDir()+"weixinapi.min.js",function(){e.initWechat(c,d)});break;case Pmd.PlatType.PlatType_DAPAI:a.BrowersUtils.LoadJS("dapai",a.BrowersUtils.getPlatLibDir()+"dapaisdk.js",c,d);break;case Pmd.PlatType.PlatType_AoXin:a.BrowersUtils.LoadJS("aoxin","http://libs.baidu.com/jquery/1.10.2/jquery.min.js",function(){a.BrowersUtils.LoadJS("aoxin","http://res.wx.qq.com/open/js/jweixin-1.0.0.js",function(){a.BrowersUtils.LoadJS("aoxin",a.BrowersUtils.getPlatLibDir()+"aoxinShare.js",c,d)})});break;case Pmd.PlatType.PlatType_HUOSU:a.BrowersUtils.LoadJS("huosu","http://yun.huosu.com/src/api/js/huosuh5sdk.js",function(){d?c.call(d,b):c(b)},d);break;case Pmd.PlatType.PlatType_Egret:a.BrowersUtils.LoadJS("nest",a.BrowersUtils.getPlatLibDir()+"nest.min.js",function(){d?c.call(d,b):c(b)},d);break;case Pmd.PlatType.PlatType_9g:window.parent.postMessage({action:"share",data:{},imgurl:a.Global.shareData.imgUrl,title:a.Global.shareData.title,content:a.Global.shareData.desc},"*");break;default:null!=c&&(d?c.call(d,b):c(b))}},b.prototype.initWechat=function(b,c){if(null!=a.Global.shareData){var d="http://weixin.zqgame.com/GetJsSdkTicket?appid="+a.Global.appId+"&url="+encodeURIComponent(location.href.split("#")[0]),e=a.BrowersUtils.getXHR();e.open("GET",d,!0),e.setRequestHeader("Content-Type","multipart/form-data"),e.responseType="text",e.send();var f=this;e.onreadystatechange=function(){if(4==e.readyState){e.status>=400||0==e.status||e.responseText.length>0&&f.initWechatInfo(e.responseText,b,c)}}}},b.prototype.initWechatInfo=function(b,c,d){try{this.signPackage=JSON.parse(b),this.getWeiXinConfig(),wx.ready(function(){a.BrowersUtils.setShareInfo()})}catch(a){console.error("获取微信权限失败")}c&&c.call(d)},b.prototype.getWeiXinConfig=function(){var a={};a.debug=!1,a.appId=this.signPackage.appid,a.timestamp=this.signPackage.timestamp,a.nonceStr=this.signPackage.nonceStr,a.signature=this.signPackage.signature,a.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseWXPay","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(a)},b.prototype.pay=function(b,c,d){if(1==a.Global.isH5)switch(Number(b.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(b.platOrder,a.BrowersUtils.getLocationUrl(),b.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=c,Play68.pay(b.gameOrder,b.goodName,b.price/100,b.count);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:a.BrowersUtils.redirectUrl(b.payUrl);break;case Pmd.PlatType.PlatType_9g:var e={action:"pay",orderid:b.gameOrder,money:b.price,product:b.goodName,spid:"aaayxzx",sign:b.sign,uid:a.Global.platInfo.uid,token:a.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(e,"*");break;case Pmd.PlatType.PlatType_1758:a.BrowersUtils.parentRedirectUrl(a.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var f=b.sign.split("|");this.payWechat(f[0],f[1],f[2],f[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=a.BrowersUtils.getLocationUrl(),yunyou.order_token=b.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var g={goodsId:b.goodId,goodsNum:b.count,out_orderno:b.gameOrder};HuoSuSdk.pay(g,c,"返回游戏")}else a.ZQGameSdk&&a.ZQGameSdk.pay(b,c,d)},b.prototype.payByPmd=function(b,c,d){if(1==a.Global.isH5)switch(Number(b.payplatid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_AiBei:case Pmd.PlatType.PlatType_Normal:this.payAiBei(b.platorder,a.BrowersUtils.getLocationUrl(),b.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=c,Play68.pay(b.gameorder,b.gamemoney.toString(),b.ordermoney/100,b.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:a.BrowersUtils.redirectUrl(b.redirecturl);break;case Pmd.PlatType.PlatType_9g:var e={action:"pay",orderid:b.gameorder,money:b.ordermoney,product:b.gamemoney,spid:"aaayxzx",sign:b.sign,uid:a.Global.platInfo.uid,token:a.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(e,"*");break;case Pmd.PlatType.PlatType_1758:a.BrowersUtils.parentRedirectUrl(a.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var f=b.sign.split("|");this.payWechat(f[0],f[1],f[2],f[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=a.BrowersUtils.getLocationUrl(),yunyou.order_token=b.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var g={goodsId:b.goodid,goodsNum:b.goodnum,out_orderno:b.gameorder};HuoSuSdk.pay(g,c,"返回游戏")}else a.ZQGameSdk&&a.ZQGameSdk.payByPmd(b,function(e){if(0==e.code){var f=new Pmd.RechargeQueryRequestIOSSdkPmd_C;f.gameorder=b.gameorder,f.originalmoney=b.ordermoney,f.roleid=a.NetMgr.UID,f.ordermoney=b.ordermoney,f.token=b.sign,e.data&&e.data.paytoken&&(f.token=e.data.paytoken),f.extdata=b.data.extdata,f.payplatid=b.payplatid,a.NetMgr.tcpSend(f)}c&&c(e,d)},d)},b.prototype.weChatPay=function(b,c,d){if(1==a.Global.isH5)switch(Number(a.Global.platInfo.platid)){case void 0:break;case Pmd.PlatType.PlatType_LeZhuan:case Pmd.PlatType.PlatType_Normal:this.payAiBei(b.platorder,a.BrowersUtils.getLocationUrl(),b.sign);break;case Pmd.PlatType.PlatType_Play68:Play68.onpaysucc=c,Play68.pay(b.gameorder,"",b.ordermoney/100,b.goodnum);break;case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_XingZhiZhu:case Pmd.PlatType.PlatType_HuoWu:case Pmd.PlatType.PlatType_CaiGuo:case Pmd.PlatType.PlatType_XueChi:case Pmd.PlatType.PlatType_AoXin:a.BrowersUtils.redirectUrl(b.redirecturl);break;case Pmd.PlatType.PlatType_9g:var e={action:"pay",orderid:b.gameorder,money:b.ordermoney,product:b.goodnum,spid:"aaayxzx",sign:b.sign,uid:a.Global.platInfo.uid,token:a.NetMgr.PlatSession};window&&window.parent&&window.parent.postMessage(e,"*");break;case Pmd.PlatType.PlatType_1758:a.BrowersUtils.parentRedirectUrl(a.BrowersUtils.getLocationUrl());break;case Pmd.PlatType.PlatType_WeChat:case Pmd.PlatType.PlatType_WEIYOU:case Pmd.PlatType.PlatType_RONGQIANG:var f=b.sign.split("|");this.payWechat(f[0],f[1],f[2],f[3]);break;case Pmd.PlatType.PlatType_DAPAI:yunyou.redirecturl=a.BrowersUtils.getLocationUrl(),yunyou.order_token=b.sign,yunyou.pay();break;case Pmd.PlatType.PlatType_HUOSU:var g={goodsId:b.goodid,goodsNum:b.goodnum,out_orderno:b.gameorder};HuoSuSdk.pay(g,c,"返回游戏")}},b.prototype.payAiBei=function(a,b,c,d,e){if(null==this.aibeiPay&&(this.aibeiPay=new AiBeiPay,window.aibeiBack=e),void 0!=a){var f={};f.transId=a,f.baseZIndex=100,f.closeTxt="返回游戏",f.redirecturl=b,f.sign=c,this.aibeiPay.clickAibei(f)}},b.prototype.payWechat=function(b,c,d,e){var f=function(){window.WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:a.Global.appId,timeStamp:e,nonceStr:c,package:"prepay_id="+d,signType:"MD5",paySign:b},function(a){a.err_msg})};void 0===window.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",f,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",f),document.attachEvent("onWeixinJSBridgeReady",f)):f()},b._self=null,b}();a.PayMgr=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.init=function(b){b?this._container=b:a.SceneMgr.instance.currentScene.topLayer?this._container=a.SceneMgr.instance.currentScene.topLayer:this._container=a.SceneMgr.instance.currentScene},b.addPopUp=function(b,d,e,f,g,h,i,j,k){void 0===d&&(d=null),void 0===e&&(e=!1),void 0===f&&(f=!1),void 0===h&&(h=0),void 0===i&&(i=0),void 0===j&&(j=0);var l=a.Global.screenWidth,m=a.Global.screenHeight;b.prototype&&(b=new b(k));var n=egret.getQualifiedClassName(b);null==this.popupDic[n]&&(this.popupDic[n]=[]),this.popupDic[n].push(b),null!=this._container&&null!=this._container.parent||a.SceneMgr.instance.currentScene&&(a.SceneMgr.instance.currentScene.topLayer?this._container=a.SceneMgr.instance.currentScene.topLayer:this._container=a.SceneMgr.instance.currentScene),1!=a.SceneMgr.instance.currentScene.scaleX&&(l=a.Global.designHeight/a.SceneMgr.instance.currentScene.scaleX,m=a.Global.designWidth/a.SceneMgr.instance.currentScene.scaleY);var o=null==d?this._container:d;if(!o.contains(b)){if(f){var p=egret.getQualifiedClassName(b)+b.hashCode;this.darkSpriteDic[p]=a.DisplayUtils.createMask(.7,l,m),o.contains(this.darkSpriteDic[p])||o.addChild(this.darkSpriteDic[p]),this.darkSpriteDic[p].touchEnabled=!0,egret.Tween.get(this.darkSpriteDic[p]).to({alpha:1},150),this.darkSpriteDic[p].visible=!0}if(o&&o.stage){g?o.addChildAt(b,g):o.addChild(b),this.curPanel=b,0!=i&&o?(b.x=l/2-i/2,b.y=m/2-j/2):0==b.anchorOffsetX&&(i=b.width,j=b.height);var q=l/2-i/2,r=m/2-j/2;switch(h){case c.NOMAL:e&&(b.x=q,b.y=r);break;case c.CENTER:e&&(b.x=q,b.y=r),b.alpha=0,b.scaleX=.5,b.scaleY=.5,b.x=b.x+i/4,b.y=b.y+j/4,egret.Tween.get(b).to({alpha:1,scaleX:1,scaleY:1,x:b.x-i/4,y:b.y-j/4},300,egret.Ease.backOut);break;case c.CENTER_S:b.alpha=0,b.scaleX=.5,b.scaleY=.5,b.x=b.x+i/4,b.y=b.y+j/4,egret.Tween.get(b).to({alpha:1,scaleX:1,scaleY:1,x:b.x-i/4,y:b.y-j/4},600,egret.Ease.elasticOut);break;case c.LEFT:e?(b.x=-i,egret.Tween.get(b).to({x:q},500,egret.Ease.cubicOut)):(b.x=-i,egret.Tween.get(b).to({x:0},500,egret.Ease.cubicOut));break;case c.RIGHT:e?(b.x=i,egret.Tween.get(b).to({x:q},500,egret.Ease.cubicOut)):(b.x=i,egret.Tween.get(b).to({x:0},500,egret.Ease.cubicOut));break;case c.TOP:e?(b.y=-j,egret.Tween.get(b).to({y:r},500,egret.Ease.cubicOut)):(b.y=-j,egret.Tween.get(b).to({y:0},500,egret.Ease.cubicOut));break;case c.BOTTOM:e?(b.y=o.stage.stageHeight,egret.Tween.get(b).to({y:r},500,egret.Ease.cubicOut)):(b.y=j,egret.Tween.get(b).to({y:0},500,egret.Ease.cubicOut))}return b}}},b.removePopUp=function(a,b){void 0===b&&(b=0);var c=!0;c=!a.prototype;var d=egret.getQualifiedClassName(a);if(this.popupDic[d])if(c)for(var e=0;e<this.popupDic[d].length;e++)this.popupDic[d][e]==a&&(this.removePanel(this.popupDic[d][e],b),this.popupDic[d].splice(e,1));else for(var e=0;e<this.popupDic[d].length;e++)this.removePanel(this.popupDic[d][e],b),this.popupDic[d].shift()},b.clearPopus=function(){if(this.popupDic)for(var a in this.popupDic)for(var b=0;b<this.popupDic[a].length;b++)this.removePanel(this.popupDic[a][b]),this.popupDic[a].shift()},b.removePanel=function(b,d){void 0===d&&(d=0);var e=egret.getQualifiedClassName(b)+b.hashCode,f=function(){this.darkSpriteDic[e]&&this.darkSpriteDic[e].parent&&this.darkSpriteDic[e].parent.removeChild(this.darkSpriteDic[e]),this.darkSpriteDic[e]=null,delete this.darkSpriteDic[e]};this.darkSpriteDic[e]&&egret.Tween.get(this.darkSpriteDic[e]).to({alpha:0},100).call(f,this);var g=600;switch(d){case c.NOMAL:g=0;break;case c.CENTER:egret.Tween.get(b).to({alpha:0,scaleX:0,scaleY:0,x:b.x+b.width/2,y:b.y+b.height/2},300);break;case c.CENTER_S:egret.Tween.get(b).to({alpha:0,scaleX:0,scaleY:0,x:b.x+b.width/2,y:b.y+b.height/2},600,egret.Ease.elasticOut);break;case c.LEFT:egret.Tween.get(b).to({x:-b.width},600,egret.Ease.cubicOut);break;case c.RIGHT:egret.Tween.get(b).to({x:b.width},600,egret.Ease.cubicOut);break;case c.TOP:egret.Tween.get(b).to({y:-b.height},600,egret.Ease.cubicOut);break;case c.BOTTOM:egret.Tween.get(b).to({y:b.height},600,egret.Ease.cubicOut)}egret.setTimeout(function(){a.DisplayUtils.removeFromParent(b)},this,g)},b.hasPopup=function(b){var c=egret.getQualifiedClassName(b);if(!("object"!=typeof b||!b.prototype)){if(!b.stage)return!1;for(var d=0;d<this.popupDic[c].length;d++)if(this.popupDic[c][d]==b)return!0}else if(this.popupDic[c]&&this.popupDic[c].length>0)for(var d=0;d<this.popupDic[c].length;d++){if(this.popupDic[c][d].stage)return!0;a.DisplayUtils.removeFromParent(this.popupDic[c][d])}return!1},b.resize=function(){},b.darkSpriteDic={},b.popupDic=new Object,b}();a.PopUpMgr=b,function(a){a[a.NOMAL=0]="NOMAL",a[a.CENTER=1]="CENTER",a[a.CENTER_S=2]="CENTER_S",a[a.LEFT=3]="LEFT",a[a.RIGHT=4]="RIGHT",a[a.TOP=5]="TOP",a[a.BOTTOM=6]="BOTTOM"}(a.PopUpEffect||(a.PopUpEffect={}));var c=a.PopUpEffect}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(){b.apply(this,arguments),this._autoHide=!0,this._curLoadingId=0,this._currentLoadIndex=0}return __extends(c,b),Object.defineProperty(c,"instance",{get:function(){return null==this._self&&(this._self=new c,this._self.initLoadingUI()),this._self},enumerable:!0,configurable:!0}),c.prototype.initLoadingUI=function(){this._loadingMap={},this._thisObj={},this._loadSucc={},this._loadError={}},c.prototype.loadGrps=function(b,d,e,f,g,h,i,j){void 0===h&&(h=!0),void 0===i&&(i=!0);var k="merge_"+b.toString();RES.createGroup(k,b,!0),c.instance.load(k,function(b){a.ResUtils.removeGroup(k),d&&d.call(f,b)},e,f,g,h,i,j)},c.prototype.load=function(b,c,d,e,f,g,h,i){void 0===g&&(g=!0),void 0===h&&(h=!0),h&&null!=h||(h=!0),f?(this._loadingClass=f,h?a.UIMgr.instance.showProcessBar(f):a.UIMgr.instance.showLoadingTimeout(f)):this._loadingClass=a.UIMgr.instance.commonLoadUI,i&&a.ResUtils.setMustRes(i),c&&(this._loadSucc[b]=c),d&&(this._loadError[b]=d),e&&(this._thisObj[b]=e),this._autoHide=g,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),RES.loadGroup(b)},c.prototype.loadArr=function(a,b,c,d,e){this._currentLoadArr&&this._currentLoadArr.length>0?this._currentLoadArr.concat(a):(this._currentLoadArr=a,this._currentLoadIndex=0)},c.prototype.onUniLibResLoadComplete=function(b){var c=b.groupName;b.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this)),this._loadingClass&&1==this._autoHide&&a.UIMgr.instance.hideLoading(this._loadingClass),this._loadingClass&&(this._loadingClass=null),this._loadSucc[c]&&this._loadSucc[c].call(this._thisObj[c],b),this.removeLoadDic(c)},c.prototype.onUniLibResLoadError=function(b){var c=b.groupName;a.Console.warn("Group:"+b.groupName+" has failed to load"),b.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUniLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onUniLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onUniLibResProgress,this),this._loadError[c]&&this._loadError[c].call(this._thisObj[c],b),this.removeLoadDic(c))},c.prototype.removeLoadDic=function(a){this._loadError[a]=null,delete this._loadError[a],this._thisObj[a]=null,delete this._thisObj[a],this._loadSucc[a]=null,delete this._loadSucc[a]},c.prototype.onUniLibResProgress=function(b){this._loadingClass&&a.UIMgr.instance.showProcessBar(this._loadingClass,b.itemsLoaded,b.itemsTotal,"",b.groupName)},c.prototype.removeRefrence=function(){this._loadSucc&&(this._loadSucc=null),this._loadingClass&&(this._loadingClass=null),this._loadError&&(this._loadSucc=null),this._thisObj&&(this._thisObj=null)},c._self=null,c}(egret.EventDispatcher);a.ResLoadMgr=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){this._currentScene=null,this._lastScene=null}return Object.defineProperty(b,"instance",{get:function(){return null==this._self&&(this._self=new b),this._self},enumerable:!0,configurable:!0}),b.prototype.init=function(a){null==this._currentScene&&(this._currentScene=a)},b.prototype.changeScene=function(b,c,d){var e=this,f=function(a){a.currentTarget.removeEventListener(egret.Event.ADDED_TO_STAGE,f,this),e._lastScene&&e._lastScene!=e._currentScene&&(e._lastScene.destroy(),e._lastScene=null)};if(d&&a.Global.isInGame){var g=this._currentScene.currentGame;return null!=g&&(g.parent&&g.parent.removeChild(g),g.destroy()),g=new b(c),(g.width>a.Global.designWidth||g.height>a.Global.designHeight)&&(g.scaleX=a.Global.designWidth/g.width,g.scaleY=a.Global.designHeight/g.height),this._currentScene.currentGame=g,this._currentScene.gameLayer.addChild(g),a.PopUpMgr.init(),g}var h=new b(c);return h.width>h.height?h.width>a.Global.designHeight&&h.height>a.Global.designWidth&&(h.scaleX=.8875,h.scaleY=640/720):h.width>a.Global.designWidth&&h.height>a.Global.designHeight&&(h.scaleX=640/720,h.scaleY=.8875),null!=this._currentScene&&(this._lastScene=this._currentScene,a.DisplayUtils.removeFromParent(this._lastScene)),this._currentScene=h,this._currentScene.addEventListener(egret.Event.ADDED_TO_STAGE,f,this),egret.MainContext.instance.stage.addChild(this._currentScene),a.DebugView.Instance.check(),a.PopUpMgr.init(),this._currentScene},Object.defineProperty(b.prototype,"currentScene",{get:function(){return this._currentScene},enumerable:!0,configurable:!0}),b.prototype.lastSceneLeave=function(){null!=this._lastScene&&(this._lastScene.parent&&this._lastScene.parent.removeChild(this._lastScene),this._lastScene.destroy(),this._lastScene=null)},b._self=null,b}();a.SceneMgr=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){this.isStopped=!1,this.isMusic=!1,this.name="",this.position=0,this.egret_channel=null}return a.prototype.stop=function(){this.egret_channel&&(this.position=this.egret_channel.position,this.egret_channel.stop(),this.isStopped=!0,this.egret_channel=null)},a}(),c=function(){function c(){this._soundRes={},this._musicVolume=1,this._soundVolume=1,this._musicOpen=!0,this._soundOpen=!0,this._activeSound={},this._activeSoundLoop={},this._soundPause=!1,this.loadTimeDic={},this._currentMusicIndex=0,this._currentMusicChanel=null}return Object.defineProperty(c,"instance",{get:function(){var b=this;return null==this._instance&&(this._instance=new c,a.Utils.getLocalStorage(c.SOUND_TOGGLE,function(a){null!=a&&(b._instance.soundOpen=Boolean(Number(a)))}),a.Utils.getLocalStorage(c.MUSIC_TOGGLE,function(a){null!=a&&(b._instance.musicOpen=Boolean(Number(a)))}),egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){a.ZQGameSdk.speakerActive()},1e4)),this._instance},enumerable:!0,configurable:!0}),c.prototype.onActive=function(b){this._musicOpen&&egret.Capabilities.supportVersion<"3.2.6"&&setTimeout(function(){a.ZQGameSdk.speakerActive(),c.instance.resumeBgMusic()},2e3)},c.prototype.onDeActive=function(a){egret.Capabilities.supportVersion<"3.2.6"&&c.instance.pauseBgMusic()},Object.defineProperty(c.prototype,"soundPause",{get:function(){return this._soundPause},set:function(a){this._soundPause=a},enumerable:!0,configurable:!0}),c.prototype.playSound=function(a,b,c,d,e){if(void 0===b&&(b=1),this._soundOpen&&1!=this._soundPause){var f,g=this;if(!this._activeSound[a]||0!=this._activeSound[a].$loops){if(d){var h=function(a,b){b.stop(),g.stopSound(a),d&&d.call(e)};f=this.play(a,b,c,[h],!1)}else f=this.play(a,b,c,[],!1);return null!=f&&(this._activeSound[a]=f),f}}},c.prototype.stopSounds=function(){for(var b in this._activeSound)null!=this._activeSound[b]&&void 0!=this._activeSound[b]&&(this._activeSound[b].stop(),this._activeSound[b]=null,delete this._activeSound[b]);for(var b in this._soundRes)this._soundRes[b]=null,delete this._soundRes[b];a.ResUtils.resetSoundLoadTimes()},c.prototype.stopSound=function(a){null!=this._activeSound[a]&&void 0!=this._activeSound[a]&&(this._activeSound[a].stop(),this._activeSound[a].dispatchEventWith(egret.Event.SOUND_COMPLETE),this._activeSound[a]=null,delete this._activeSound[a])},c.prototype.play=function(b,c,d,e,f){void 0===c&&(c=1),void 0===f&&(f=!0);var g,h=this;e&&e.length>0&&(g=function(a){var c=a.currentTarget;null!=c&&void 0!=c&&(c.removeEventListener(egret.Event.SOUND_COMPLETE,g,h),null!=e&&void 0!=e&&(e.length>1?e[0].call(e[1],b,c):e[0](b,c)))});var i=function(a){if(h._soundRes[b]=a,1==f){var g=!0;if(h._currentMusicChanel&&null!=h.loadTimeDic[h._currentMusicChanel.name]&&null!=h.loadTimeDic[b]&&h.loadTimeDic[h._currentMusicChanel.name]>h.loadTimeDic[b]&&(g=!1),1==g){var i=h.play(b,c,d,e,f);h.resetCurrentMusic(i,b)}}else(new Date).getTime()-h.loadTimeDic[b]<=1e3&&(h.loadTimeDic[b]=0,h._activeSound[b]=h.play(b,c,d,e,f))},j=0;if(null!=this.loadTimeDic[b]&&(j=this.loadTimeDic[b]),this.loadTimeDic[b]=(new Date).getTime(),null==this._soundRes[b]||void 0==this._soundRes[b]){if(RES.hasRes(b)){var k=RES.getRes(b);null!=k||void 0!=k?i(k):(a.Console.log("sound声音资源没有预加载到本地,建议进行预加载:"+b),a.ResUtils.getRes(b,i,null,egret.URLLoaderDataFormat.SOUND))}else a.ResUtils.getRes(b,i,null,egret.URLLoaderDataFormat.SOUND);return null}if(this._soundRes[b]){if(0==f&&(new Date).getTime()-j<30)return this.loadTimeDic[b]=j,null;var l=this._soundRes[b].play(d,c);if(null!=l&&void 0!=l){g&&l.addEventListener(egret.Event.SOUND_COMPLETE,g,h);var m=1==f?this._musicVolume:this._soundVolume;return l.volume=m,l}return null}return null},c.prototype.randomSounds=function(a){a&&(this._bgMusics=a);var b=Math.floor(this._bgMusics.length*Math.random());this.play(this._bgMusics[b],0)},c.prototype.playBgMusic=function(a,b){var c=this;if(c._bgMusics=a,b&&(c._currentMusicIndex=b),c._musicOpen&&c._bgMusics.length>0&&(c._currentMusicIndex>=c._bgMusics.length&&(c._currentMusicIndex=0),null==c._currentMusicChanel||c._bgMusics[c._currentMusicIndex]!=c._currentMusicChanel.name)){var d=c.play(c._bgMusics[c._currentMusicIndex],1,b,[c.onMusicEnd,c]);c.resetCurrentMusic(d,c._bgMusics[c._currentMusicIndex])}},c.prototype.onMusicEnd=function(a){var b=this;if(b._currentMusicIndex++,b._currentMusicIndex==b._bgMusics.length&&(b._currentMusicIndex=0),b._musicOpen&&b._bgMusics.length>0){var c=b.play(b._bgMusics[b._currentMusicIndex],1,0,[b.onMusicEnd,b]);b.resetCurrentMusic(c,b._bgMusics[b._currentMusicIndex])}},c.prototype.resetCurrentMusic=function(a,c){if(null!=a&&void 0!=a){var d=new b;d.name=c,d.isMusic=!0,d.egret_channel=a,d.res=this._soundRes[c],null!=this._currentMusicChanel&&this._currentMusicChanel!=d&&this._currentMusicChanel.name!=d.name&&this.stopBgMusic(),this._currentMusicChanel=d,this._currentMusicChanel.isStopped=!1,this._currentMusicChanel.egret_channel.volume=this._musicVolume}},c.prototype.stopBgMusic=function(){this._currentMusicChanel&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null)},c.prototype.pauseBgMusic=function(){this._currentMusicChanel&&this._currentMusicChanel.stop()},c.prototype.resumeBgMusic=function(){if(this._musicOpen&&(!this._currentMusicChanel||this._currentMusicChanel.isStopped)){var a=this,b=0;if(this._currentMusicChanel&&(b=this._currentMusicChanel.position),this._bgMusics&&this._bgMusics.length>0){var c=this.play(this._bgMusics[this._currentMusicIndex],1,b,[a.onMusicEnd,a]);this.resetCurrentMusic(c,this._bgMusics[this._currentMusicIndex])}}},c.prototype.isPlayingBgMusic=function(){return!(!this._currentMusicChanel||0!=this._currentMusicChanel.isStopped)},c.prototype.isSoundPlaying=function(a){return!(!this._activeSound[a]||!this._activeSound[a].position)},Object.defineProperty(c.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(a){this._musicVolume=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(a){this._soundVolume=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"musicOpen",{get:function(){return this._musicOpen},set:function(b){this._musicOpen=b,b?this.resumeBgMusic():this.pauseBgMusic(),a.Utils.setLocalStorage(c.MUSIC_TOGGLE,Number(this._musicOpen))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"soundOpen",{get:function(){return this._soundOpen},set:function(b){this._soundOpen=b,a.Utils.setLocalStorage(c.SOUND_TOGGLE,Number(this._soundOpen))},enumerable:!0,configurable:!0}),c.isFirst=!0,c.SOUND_TOGGLE="sound_toggle",c.MUSIC_TOGGLE="music_toggle",c}();a.SoundMgr=c}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(){b.call(this)}return __extends(c,b),Object.defineProperty(c,"instance",{get:function(){return null==this._self&&(this._self=new c),this._self},enumerable:!0,configurable:!0}),c.prototype.init=function(){this.sendedKb=0,this.receiveKb=0,this.sendB=0,this.receiveB=0,this.secondTimer=new egret.Timer(1e3,0),this.secondTimer.addEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.start(),this.requestPing()},c.prototype.dispatchSecondEvent=function(b){a.Console.isDevMode||(this.dispatchEventWith(c.SENDANDRECEIVE,!1,{send:this.sendB,receive:this.receiveB}),this.sendB=this.receiveB=0)},c.prototype.requestPing=function(){var b=new Pmd.SetPingTimeNullUserPmd_CS;a.NetMgr.ws.sendPlat(b)},Object.defineProperty(c.prototype,"socketStatus",{set:function(a){this.dispatchEventWith(c.SOCKETSTATUS,!1,a)},enumerable:!0,configurable:!0}),c.prototype.messageCharStatistics=function(b,d,e){if(void 0===e&&(e="utf-8"),!a.Console.isDevMode){var f,g,h,i=0;if("utf-16"===(e=e?e.toLowerCase():"")||"utf16"===e)for(g=0,h=b.length;g<h;g++)f=b.charCodeAt(g),i+=f<=65535?2:4;else for(g=0,h=b.length;g<h;g++)f=b.charCodeAt(g),i+=f<=127?1:f<=2047?2:f<=65535?3:4;"send"==d?(this.sendB+=i,this.sendedKb+=i/1024):(this.receiveB+=i,this.receiveKb+=i/1024),this.dispatchEventWith(c.SENDEDANDRECEIVED,!1,{sended:this.sendedKb,received:this.receiveKb})}},c.prototype.destroy=function(){this.secondTimer&&(this.secondTimer.removeEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.stop())},c.PING="ping",c.SENDANDRECEIVE="sendAndReceive",c.SENDEDANDRECEIVED="sendedAndReceived",c.SOCKETSTATUS="socketStatus",c._self=null,c}(egret.EventDispatcher);a.StatistcsMgr=b}(uniLib||(uniLib={}));var Pmd;!function(a){function b(a){uniLib.StatistcsMgr.instance.dispatchEventWith(uniLib.StatistcsMgr.PING,!1,a.pingmsec)}a.OnSetPingTimeNullUserPmd_CS=b}(Pmd||(Pmd={}));var uniLib;!function(a){var b=function(){function b(){this._uis=new Object,this._loadings=new Object,this._effects={}}return Object.defineProperty(b,"instance",{get:function(){return null==this._self&&(this._self=new b),this._self},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"DefaultLoading",{set:function(a){this.defaultLoadingView=a},enumerable:!0,configurable:!0}),b.prototype.showUI=function(b,c,d,e,f){void 0===e&&(e=!1),void 0===f&&(f=!1);var g=this,h=egret.getQualifiedClassName(b),i=function(a){g._uis[h]&&g._uis[h].hasEventListener(egret.Event.REMOVED_FROM_STAGE,i,g)&&g._uis[h].removeEventListener(egret.Event.REMOVED_FROM_STAGE,i,g),g._uis[h].destroy&&g._uis[h].destroy(),0==e&&(g._uis[h]=null,delete g._uis[h])};if(null==this._uis[h]?this._uis[h]=new b(c):this._uis[h].updateUIData&&this._uis[h].updateUIData(c),this._uis[h])return 0==e&&(this._uis[h].hasEventListener(egret.Event.REMOVED_FROM_STAGE,i,this)||this._uis[h].addEventListener(egret.Event.REMOVED_FROM_STAGE,i,this)),null!=this._uis[h].stage&&null!=this._uis[h].parent||(a.SceneMgr.instance.currentScene&&a.SceneMgr.instance.currentScene.topLayer?a.SceneMgr.instance.currentScene.topLayer.addChild(this._uis[h]):egret.MainContext.instance.stage.addChild(this._uis[h])),this._uis[h]},Object.defineProperty(b.prototype,"commonLoadUI",{get:function(){return this._commonLoadUI},set:function(a){this._commonLoadUI=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tipsLoadUI",{get:function(){return this._tipsLoadUI},set:function(a){this._tipsLoadUI=a},enumerable:!0,configurable:!0}),b.prototype.showProcessBar=function(a,b,c,d,e,f){return void 0===f&&(f=!1),this.showLoading(a,b,c,d,e,f)},b.prototype.showLoadingTimeout=function(a,b,c,d){void 0===b&&(b=""),void 0===c&&(c=2e4),void 0===d&&(d=""),this.showLoading(a,null,null,d,null,!1,b);var e=this;c&&setTimeout(function(){e.hideLoading(a,b)},c)},b.prototype.showLoading=function(b,c,d,e,f,g,h){void 0===g&&(g=!1),void 0===h&&(h=""),""==h?b&&null!=b?h=egret.getQualifiedClassName(b):(h=egret.getQualifiedClassName(this._commonLoadUI),b=this._commonLoadUI):null==b&&(h=egret.getQualifiedClassName(this._tipsLoadUI),b=this._tipsLoadUI),a.StringUtils.stringIsNullOrEmpty(h)||null==b||(null==this._loadings[h]&&(this._loadings[h]=new b),this._loadings[h].setProgress&&this._loadings[h].setProgress(2,100),null==this._loadings[h].stage&&(a.SceneMgr.instance.currentScene?a.SceneMgr.instance.currentScene.currentGame&&a.SceneMgr.instance.currentScene.currentGame.parent?a.SceneMgr.instance.currentScene.currentGame.addChild(this._loadings[h]):a.SceneMgr.instance.currentScene.tipsLayer&&a.SceneMgr.instance.currentScene.tipsLayer.addChild(this._loadings[h]):egret.MainContext.instance.stage.addChild(this._loadings[h])),this._loadings[h].setProgress&&this._loadings[h].setProgress(c,d,e,f,g))},b.prototype.showParticle=function(b,c,d,e){var f=function(c){this._effects[b].removeEventListener(egret.Event.COMPLETE,f,this),a.DisplayUtils.removeFromParent(c.target)};try{null==this._effects[b]&&(this._effects[b]=a.DisplayUtils.createParticle(b)),d&&(this._effects[b].emitterX=d),e&&(this._effects[b].emitterY=e),null==this._effects[b].stage&&(a.SceneMgr.instance.currentScene.effectLayer?a.SceneMgr.instance.currentScene.effectLayer.addChild(this._effects[b]):a.SceneMgr.instance.currentScene.addChild(this._effects[b]),this._effects[b].start(c),this._effects[b].addEventListener(egret.Event.COMPLETE,f,this))}catch(b){a.Console.error("找不到粒子效果")}return this._effects[b]||null},b.prototype.hideLoading=function(b,c,d){void 0===c&&(c=""),void 0===d&&(d=!0),""==c&&(b&&null!=b?c=egret.getQualifiedClassName(b):(c=egret.getQualifiedClassName(this._commonLoadUI),b=this._commonLoadUI)),null!=this._loadings[c]&&(this._loadings[c].setProgress&&this._loadings[c].setProgress(2,100),a.DisplayUtils.removeFromParent(this._loadings[c]),d&&(this._loadings[c]=null,delete this._loadings[c]))},b.prototype.hideUI=function(b,c){void 0===c&&(c=!0);var d=egret.getQualifiedClassName(b);a.DisplayUtils.removeFromParent(this._uis[d]),c&&(this._uis[d]=null,delete this._uis[d])},b.prototype.destroyUI=function(b){var c=egret.getQualifiedClassName(b);null!=this._uis[c]&&void 0!=this._uis[c]&&(a.DisplayUtils.removeFromParent(this._uis[c]),delete this._uis[c])},b.prototype.clearOldSceneUis=function(){if(this._uis)for(var a in this._uis){var b=this._uis[a];b&&null==b.parent&&delete this._uis[a]}if(this._loadings)for(var a in this._loadings){var b=this._loadings[a];b&&null==b.parent&&delete this._loadings[a]}},b._self=null,b}();a.UIMgr=b}(uniLib||(uniLib={}));var uniLib;!function(a){function b(b,c){return null==b||!a.StringUtils.stringIsNullOrEmpty(b.errno)&&"0"!=b.errno}function c(b,c){if(null==b)return!0;switch(b.errno||(b.errno="0"),Number(b.errno)){case Pmd.HttpReturnCode.HttpReturnCode_SignError:a.Global.isH5?(a.HttpClient._reconnectTimes++,a.HttpClient._reconnectTimes>5?(a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("登录服务器失败,请重新登录!","确定")):c.reLogin()):(a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("欢迎回来，点击确定将登录游戏","确定"));break;case Pmd.HttpReturnCode.HttpReturnCode_ServerShutDown:a.Global.hasEventListener(a.ZqEvent.ON_SERVER_SHUTDOWN)?a.Global.dispatchEvent(a.ZqEvent.ON_SERVER_SHUTDOWN,{gameId:c.GameID,zoneId:c.ZoneID}):a.Utils.restart("连接服务器失败,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GameZoneListError:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("找不到游戏区列个,请重新登录!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_JsonSyntaxError:case Pmd.HttpReturnCode.HttpReturnCode_JsonMessageError:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("登陆协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_TokenValueError:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("认证信息为空 ,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_LuaScriptError:a.Global.debugLevel>0&&a.Utils.restart("游戏服务器脚本出错,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_SdkCheckSignErr:return a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("第三方认证错误 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoSdkServer:case Pmd.HttpReturnCode.HttpReturnCode_Sdk3PartyServerErr:return a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("第三方认证服务器未开 ,请重新尝试!","确定"),!1;case Pmd.HttpReturnCode.HttpReturnCode_NoGatewaytDown:a.Utils.restart("没有可用网关,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_ProtobufErr:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("协议语法错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_GatewayErr:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("网关错误,请重新尝试!","确定");break;case Pmd.HttpReturnCode.HttpReturnCode_Timeout:return a.Utils.restart("登陆协议返回超时,请重新尝试!","确定"),!1;default:a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,a.Utils.restart("登录服务器失败,请重新登录!","确定")}return!0}a.checkServerReturnCodeError=b,a.doServerReturnCodeError=c}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){this.checkingGateWayUrl=!1,this.OnResponse=function(b){var c=b.do.split(".");c[c.length-1]="On"+c[c.length-1];for(var d,e="",f=0;f<c.length;f++)e+=c[f]+(f==c.length-1?"":".");if(null!=a.getDefinitionByName(e)&&(d=a.getDefinitionByName(e)),null==d)return a.Console.warn("[HTTP RUN] unprocessed network message: "+JSON.stringify(b)),!1;try{return d(b.data),!0}catch(c){a.Console.error("[HTTP RUN ERROR]"+c.toString()+"\n"+JSON.stringify(b))}return!1}}return b.prototype.init=function(b,c,d){this.LoginUrl=b,this.GameID=c,this.ZoneID=d,"true"==a.BrowersUtils.GetRequest("debug")&&(a.BrowersUtils.GetRequest("loginUrl")&&(this.LoginUrl=a.BrowersUtils.GetRequest("loginUrl")),a.StringUtils.stringIsNullOrEmpty(a.BrowersUtils.GetRequest("gameid"))||(this.GameID=Number(a.BrowersUtils.GetRequest("gameid"))),null!=a.BrowersUtils.GetRequest("zoneid")&&NaN!=a.BrowersUtils.GetRequest("zoneid")&&(this.ZoneID=Number(a.BrowersUtils.GetRequest("zoneid"))),"false"==a.BrowersUtils.GetRequest("cacheToken")&&(a.Global.isCacheToken=!1))},b.prototype.initCallBack=function(a,b,c){a&&(this._loginCallBackFunction=a),b&&(this._loginFail=b),c&&(this._loginCallBackObj=c)},b.prototype.h5platLogin=function(b,c,d,e){if(b&&(this.ZoneID=b),c&&(this._loginCallBackFunction=c),d&&(this._loginFail=d),e&&(this._loginCallBackObj=e),a.StringUtils.stringIsNullOrEmpty(this.LoginUrl)||!this.GameID)return void a.Console.error("请先使用init方法初始化连接信息");this.platInfo=a.Global.initPlatInfo(),this.ZoneID?this.login(this.platInfo):this.requestZoneList(this.GameID,this.onGetZoneList,this)},b.prototype.onGetZoneList=function(b){b&&b.zonelist&&b.zonelist.length>0&&(b.zonelist.sort(function(a,b){return a.onlinenum-b.onlinenum}),this.ZoneID=b.zonelist[0].zoneid),this.ZoneID?this.login(this.platInfo):a.Console.error("当前没有区服可用!!!")},b.prototype.login=function(b){if(a.Global.LobbyPlatInfo)a.NetMgr.UID=Number(a.Global.LobbyPlatInfo.uid),a.BrowersUtils.extData.inviter=a.NetMgr.UID.toString(),a.Global.LobbyPlatInfo.GatewayUrl&&(this.GatewayUrl=a.Global.LobbyPlatInfo.GatewayUrl),a.NetMgr.PlatToken=a.Global.LobbyPlatInfo.unigame_plat_login,a.NetMgr.PlatKey=a.Global.LobbyPlatInfo.unigame_plat_key,a.NetMgr.platTokenTimeOut=a.Global.LobbyPlatInfo.unigame_plat_login_life,a.Global.LobbyPlatInfo.platinfo?(this.platInfo=a.Global.LobbyPlatInfo.platinfo,a.NetMgr.PlatUID=a.Global.LobbyPlatInfo.platinfo.uid):a.NetMgr.PlatUID=a.NetMgr.UID.toString(),this.ZoneID&&this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,a.Global.LobbyPlatInfo.platinfo);else{var c=new Pmd.PlatTokenLogin;c.platinfo=b,this.initLogin(a.Global.platInfo.platid,c)}},b.prototype.sendTo=function(b,c,d,e,f){var g=this;void 0===f&&(f=a.CompressType.NONE);var h,i=new Pmd.HttpPackage;i.do=c,i.data=d,a.StringUtils.stringIsNullOrEmpty(a.NetMgr.ZoneUID)?a.NetMgr.UID&&(i.uid=a.NetMgr.UID.toString()):i.uid=a.NetMgr.ZoneUID,this.GameID&&(i.gameid=this.GameID),this.ZoneID&&-1!=this.ZoneID&&(i.zoneid=this.ZoneID),a.StringUtils.stringIsNullOrEmpty(a.NetMgr.PlatToken)||(i.unigame_plat_login=a.NetMgr.PlatToken,h=Math.floor((new Date).getTime()/1e3),i.unigame_plat_timestamp=h);var j,k=JSON.stringify(i),l="?";if(a.StringUtils.stringIsNullOrEmpty(a.NetMgr.PlatKey)||(b+=l+"unigame_plat_sign="+a.StringUtils.MD5(k+(h?h.toString():"")+a.NetMgr.PlatKey)+"&do="+i.do,l="?"),this._resq=new a.HttpRequest(function(a){return g.onHttpComplete(a,e,f)},function(c){null!=e&&0!=e(null)||(0==this.onHttpError()&&a.Utils.restart("登陆错误,请重新登陆","确定"),a.Console.error("网络请求失败,请检查网络:"+b))},this),j=k,f!=a.CompressType.NONE){b+=l+"compress="+a.CompressUtil.compressStr[f],l="?";var m=a.CompressUtil.stringToArray(k,new Array(k.length));k=a.CompressUtil.compressByType(m,f),this._resq.dataFormat="binary"}a.Global.platInfo&&a.Global.platInfo.imei&&a.Global.platInfo.osname&&(b+=l+"imei="+a.Global.platInfo.imei,l="?",b+=l+"osname="+a.Global.platInfo.osname,l="?"),a.Console.isDevMode&&a.Console.log("[HTTP SEND] "+j+"\n"+b),this._resq.open(b),this._resq.send(k)},b.prototype.onHttpComplete=function(c,d,e){var f,g,h=this;f=h._resq.url,g=c;var i;if(e!=a.CompressType.NONE){var j=new Uint8Array(g);g=a.CompressUtil.uncompressByType(j,e),g=a.CompressUtil.Utf8ArrayToStr(g)}if(a.Console.isDevMode&&a.Console.log("[HTTP RECV] "+g+"\n"+f),i=JSON.parse(g),i.gameid&&(h.GameID=i.gameid),i.zoneid&&(h.ZoneID=i.zoneid),a.checkServerReturnCodeError(i,h)){if(("Pmd.MobileRegeristReturnCreateAccountFailLoginUserPmd_S"==i.do||"Pmd.UserRequestPlatTokenLoginFailLoginUserPmd_S"==i.do||"plat-token-login"==i.do||"request-select-zone"==i.do||"Pmd.EmailRegeristReturnCreateAccountFailLoginUserPmd_S"==i.do)&&(a.Utils.clearLocalStorage(),1==h.onHttpError(null,i)))return;if(("Pmd.MobileRegistReturnRandCodeLoginUserPmd_S"==i.do||"Pmd.MobileRegeristReturnRandCodeLoginUserPmd_S"==i.do||"Pmd.MobileRegistRequestRandCodeLoginUserPmd_C"==i.do)&&1==d(i))return;return a.Console.error("[HTTP RECV ERROR] "+g+"\n"+f),void a.doServerReturnCodeError(i,h)}b._reconnectTimes=0,null!=d?d(i.data):null!=h.OnResponse&&h.OnResponse(i)},b.prototype.reLogin=function(){a.Utils.clearLocalStorage(),a.Global.LobbyPlatInfo=null,this.h5platLogin()},b.prototype.onHttpError=function(b,c){if(void 0===b&&(b=null),this._loginFail){var d=this._loginFail.call(this._loginCallBackObj,c?c.data:0);if(this._loginFail=null,this._loginCallBackFunction=null,this._loginCallBackObj=null,1==d)return!0}else a.Console.log("onHttpError _loginFail nil");return!1},b.prototype.initLogin=function(b,c,d){void 0===d&&(d=a.CompressType.NONE);var e=this;a.Global.getPlatToken(function(b){if(null!=b&&1==a.Global.isCacheToken){var f=b;null==a.Global.LobbyPlatInfo&&1==a.Global.lobbyMode&&(a.Global.LobbyPlatInfo=f),f.GatewayUrl?(e.GatewayUrl=f.GatewayUrl,e._loginCallBackFunction&&e._loginCallBackFunction.call(e._loginCallBackObj,f.platinfo),e._loginFail&&(e._loginFail=null),e._loginCallBackObj&&(e._loginCallBackObj=null)):-1!=e.ZoneID&&e.selectZone(e.ZoneID,function(){e.loginSuccess(e.platInfo)},e)}else e.sendTo(e.LoginUrl,"plat-token-login",c,function(a){return 0!=e.cacheLoginInfo(a)&&(-1!=e.ZoneID?e.selectZone(e.ZoneID,function(){e.loginSuccess(a.platinfo)},e,d):e.loginSuccess(a.platinfo),!0)},d);a.Global.zoneId=e.ZoneID})},b.prototype.loginSuccess=function(a){this._loginCallBackFunction&&this._loginCallBackFunction.call(this._loginCallBackObj,a),this._loginFail&&(this._loginFail=null)},b.prototype.requestZoneList=function(a,b,c,d){var e=this,f=new Pmd.RequestZoneList;this.sendTo(this.LoginUrl,"request-zone-list",f,function(a){return e.ZoneList=a.zonelist,null!=b&&b.call(c,a),!0},d)},b.prototype.reSelectZone=function(b,c){var d=this;d.GatewayUrl=null,a.Global.LobbyPlatInfo.GatewayUrl=null,d.selectZone(d.ZoneID,function(){b.call(c)},d)},b.prototype.selectZone=function(b,c,d,e){void 0===e&&(e=a.CompressType.NONE);var f=this;b&&(f.ZoneID=b);var g=new Pmd.RequestSelectZone;f.sendTo(f.LoginUrl,"request-select-zone",g,function(b){return b&&b.gatewayurl&&(f.GatewayUrl=b.gatewayurl),a.Global.getPlatToken(function(c){if(null!=c&&1==a.Global.isCacheToken){var d=c;d&&(b&&b.gatewayurl&&(d.GatewayUrl=b.gatewayurl,d.GatewayUrlWs=b.gatewayurlws+"/json"),1==a.Global.isCacheToken&&a.Global.setPlatToken(d,a.Global.getPlatId(),f.GameID)),b&&b.zoneuid&&(a.NetMgr.ZoneUID=b.zoneuid),a.Global.LobbyPlatInfo=d}}),c&&c.call(d),!0},e)},b.prototype.sendMessage=function(b,c,d,e,f){var g=this;if(f)return void this.sendTo(f,b,c,d,e);if(a.StringUtils.stringIsNullOrEmpty(this.GatewayUrl)){var h;if(0==this.checkingGateWayUrl)if(this.checkingGateWayUrl=!0,a.Global.LobbyPlatInfo){if(!(h=a.Global.LobbyPlatInfo)||!h.GatewayUrl)return void this.selectZone(null,function(){g.sendTo(this.GatewayUrl,b,c,d,e)},this,e);this.GatewayUrl=h.GatewayUrl}else a.Global.getPlatToken(function(f){if(null==f||1!=a.Global.isCacheToken)return void g.selectZone(null,function(){g.sendTo(g.GatewayUrl,b,c,d,e)},g,e);var h=f;if(!h||!h.GatewayUrl)return void a.Console.error("没有找到登录数据，请登录后再发送请求："+JSON.stringify(c));g.GatewayUrl=h.GatewayUrl})}this.sendTo(this.GatewayUrl,b,c,d,e)},b.prototype.send=function(a,b,c,d){this.sendMessage(a.GetType?a.GetType():a.do||a.cmd_name,a,b,c,d)},b.prototype.sendToMe=function(a,b){if(null!=b)b(a);else if(null!=this.OnResponse){var c=new Pmd.HttpPackageReturn;c.gameid=this.GameID,c.zoneid=this.ZoneID,c.do=a.GetType(),c.data=a,this.OnResponse(c)}},b.prototype.cacheLoginInfo=function(b){if(!b)return!1;var c=0;b.platinfo&&(a.NetMgr.PlatUID=b.platinfo.uid,a.NetMgr.PlatSession=b.platinfo.sign,c=a.Global.getPlatId()),a.NetMgr.UID=Number(b.uid),a.BrowersUtils.extData.inviter=a.NetMgr.UID.toString(),a.NetMgr.SID=b.sid,a.NetMgr.PlatToken=b.unigame_plat_login,a.NetMgr.PlatKey=b.unigame_plat_key,a.NetMgr.platTokenTimeOut=b.unigame_plat_login_life,1==a.Global.lobbyMode&&(a.Global.LobbyPlatInfo=b);try{1==a.Global.isCacheToken&&a.Global.setPlatToken(b,c,this.GameID)}catch(a){}return!0},b.prototype.cachePhoneLoginInfo=function(b,c){a.NetMgr.UID=Number(b.uid),a.BrowersUtils.extData.inviter=a.NetMgr.UID.toString(),a.NetMgr.PlatToken=b.platlogin,a.NetMgr.PlatKey=b.platkey,a.NetMgr.platTokenTimeOut=b.platloginlife;var d={};d.uid=b.uid,d.unigame_plat_login=b.platlogin,d.unigame_plat_key=b.platkey,d.unigame_plat_login_life=b.platloginlife,a.Global.platId=c,1==a.Global.lobbyMode&&(a.Global.LobbyPlatInfo=d);try{1==a.Global.isCacheToken&&a.Global.setPlatToken(d,c,this.GameID)}catch(a){}},b.prototype.delLocalStoryge=function(){try{a.Utils.clearLocalStorage()}catch(a){}},b.prototype.generateUUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)})},b._reconnectTimes=0,b}();a.HttpClient=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(a,b,c){this.isOriType=!0,this._dtype="text",this._call=a,this._err=b,this._this=c}return b.prototype.open=function(b,c,d){var e=this;void 0===d&&(d=!1);var f=this,g=function(){if(4==f._xhr.readyState){f._xhr.status>=400||0==f._xhr.status?f.onHttpError(f._xhr.status):"arraybuffer"==f._dtype&&f._xhr.response.byteLength>0?f.onCallBack(f._xhr.response):f.onCallBack(f._xhr.responseText)}else 1==f._xhr.readyState&&c&&f._xhr.send(c)};f.url=b,this._xhr=a.BrowersUtils.getXHR(),window.XMLHttpRequest?this.isOriType=!0:this.isOriType=!1,this.isOriType?(this._xhr.open("post",b,!0),d||this._xhr.setRequestHeader("Content-Type","multipart/form-data"),this._xhr.responseType=this._dtype,this._xhr.onreadystatechange=g):(this._xhr.dataFormat=this._dtype,this._xhr.addEventListener("complete",function(a){return e.onCallBack(a)},this),this._xhr.addEventListener("ioError",this.onHttpError,this))},Object.defineProperty(b.prototype,"dataFormat",{set:function(a){1==this.isOriType?("binary"==a&&(a="arraybuffer"),this._xhr&&(this._xhr.responseType=a)):this._xhr&&(this._xhr.dataFormat=a),this._dtype=a},enumerable:!0,configurable:!0}),b.prototype.onCallBack=function(a){void 0===a&&(a=null),this._call&&(1==this.isOriType?this._call.call(this._this,a):(console.error(a.currentTarget.data.byteLength),this._call.call(this._this,a.currentTarget.data)))},b.prototype.onHttpError=function(a){void 0===a&&(a=null),this._err&&this._err.call(this._this,a)},b.prototype.send=function(a){if(1==this.isOriType)this._xhr.send(a);else{var b=new egret.URLRequest(this.url);b.method="post",b.data=a,this._xhr.load(b)}},b.prototype.destroy=function(){this._call=null,this._err=null,this._this=null},b}();a.HttpRequest=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a}();a.LoopbackSocket=b;var c=function(){function c(c,d){if(void 0===d&&(d=null),this._url="",this._url=c,d==SockType.LOOPBACK)this.sockType=d,this.socket=new b;else if(window.WebSocket){this.sockType=SockType.NORMAL;try{this.socket=new WebSocket(c)}catch(b){a.Console.error("[WS MyWebSocket ERROR] "+b.toString())}}else this.sockType=SockType.EGRET,this.socket=new egret.WebSocket,this.SetBinarytype(SockByinaryType.STRING),this.socket.connectByUrl(c)}return Object.defineProperty(c.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),c.prototype.SetBinarytype=function(a){this.sockType==SockType.EGRET?a==SockByinaryType.STRING?this.socket.type=egret.WebSocket.TYPE_STRING:a==SockByinaryType.BINARY&&(this.socket.type=egret.WebSocket.TYPE_BINARY):this.sockType==SockType.LOOPBACK||a==SockByinaryType.STRING||a==SockByinaryType.BINARY&&(this.socket.binaryType="arraybuffer")},c}();a.MyWebSocket=c;var d=function(){function b(a,b,c,d){void 0===d&&(d=!1),this.isOpenCompress=!1,this.lastEchoTime=0,this.reconnectDelay=5e3,this.isConnected=0,this.isConnecting=!1,this.needReconnect=!0,this._reconnectTimes=0,this._maxCeconnectTimes=10,this._active=!0,this._active_reconnect=!1,this.tickSec=30,this.msgTimeoutMSec=0,this.tickTimes=2,this.lastRecvTime=0,this.lastseq=0,this.gameId=0,this.zoneId=0,this.isLobby=!1,this.wsurl=a;this.gameId=b,this.zoneId=c,this.isLobby=d,this.isLobby?this.logName="[Lobby]":this.logName="[Game]",this.sendCache=new Array}return b.prototype.getSocket=function(){return this.mysocket.socket},b.prototype.checkNeedReconnect=function(){var b=this;if(0==a.Utils.isrebooting)if(1==b.isConnected){var c=!1;null!=b.mysocket?b.mysocket.sockType==SockType.EGRET?0==b.getSocket().connected&&(b.log("checkNeedReconnect0:"+b.isConnected),c=!0):1!=b.getSocket().readyState&&(b.log("checkNeedReconnect1::"+b.isConnected),c=!0):(b.log("checkNeedReconnect2::"+b.isConnected),c=!0),1==c&&b.reConnect()}else b.log("checkNeedReconnect3:"+b.isConnected)},b.prototype.resetReconnectNum=function(){this._reconnectTimes=0},b.prototype.pauseReconnect=function(){},b.prototype.login=function(a,b,c){a&&(this.socketLoginSuc=a),b&&(this.socketLoginFail=b),c&&(this.socketLoginObj=c),c.loopback&&(this.sockType=SockType.LOOPBACK),this.connect()},b.prototype.connect=function(){var b=this;if(this.sockType!=SockType.LOOPBACK&&b.close(!0),b.isConnecting=!0,a.ZQGameSdk.lastNetState&&a.ZQGameSdk.lastNetState.data&&a.ZQGameSdk.lastNetState.data[a.ZQGameSdk.NETSTATE]==a.NetState.NO_SIGNAL)return a.ZQGameSdk.getNetStateType(null,null,!0),clearTimeout(b.connectingTimeout),void(b.connectingTimeout=setTimeout(function(){b.log("[WS OPENING WAIT] "+b.wsurl),b.connect()},1e3));if(b.msgTimeoutMSec=0,null==this.sendCache&&(this.sendCache=new Array),this.log("[WS OPENING NEW1] "+this.wsurl),this.mysocket=new c(this.wsurl,this.sockType),this.sockType=this.mysocket.sockType,this.mysocket.sockType==SockType.NORMAL)this.getSocket().onopen=this.onSocketOpen.bind(this),this.getSocket().onmessage=this.onReceiveMessage.bind(this),this.getSocket().onclose=this.onSocketClose.bind(this),this.getSocket().onerror=this.onSocketError.bind(this);else{if(this.sockType==SockType.LOOPBACK)return;this.getSocket().addEventListener("socketData",this.onReceiveMessage,this),this.getSocket().addEventListener("connect",this.onSocketOpen,this),this.getSocket().addEventListener("close",this.onSocketClose,this),this.getSocket().addEventListener("ioError",this.onSocketError,this)}global||egret&&"true"!=a.BrowersUtils.GetRequest("debug")&&(egret.MainContext.instance.stage.addEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.addEventListener(egret.Event.ACTIVATE,this.onActive,this)),b.connectingTimeout&&(clearTimeout(b.connectingTimeout),b.connectingTimeout=null),1==this.isLobby?b.connectingTimeout=setTimeout(function(){1==b.isConnecting&&(b.isConnecting=!1,b.socketLoginFail?(b.socketLoginFail.call(b.socketLoginObj),b.warn("connectingTimeout:self.socketLoginFail")):b.onCloseConnect(),b.connectingTimeout=null)},15e3):b.connectingTimeout=setTimeout(function(){1==b.isConnecting&&(b.isConnecting=!1,b.onCloseConnect(),b.connectingTimeout=null)},2e4)},b.prototype.onDeactive=function(a){0!=this._active&&(this._active=!1,0==this.isLobby&&(this.recvCache=new Array))},b.prototype.showRecnectTip=function(){a.UIMgr&&1!=this.isConnected&&(1==a.Global.isInGame?0==this.isLobby&&a.UIMgr&&a.UIMgr.instance.tipsLoadUI&&a.UIMgr.instance.showLoadingTimeout(a.UIMgr.instance.tipsLoadUI,"reconnect",0):a.UIMgr.instance.showLoadingTimeout(a.UIMgr.instance.tipsLoadUI,"reconnect",0))},b.prototype.onActive=function(b){var c=this;if(1!=this._active){if(this.showRecnectTip(),this._active=!0,0==this.isLobby)this.recvCache&&this.recvCache.forEach(function(a){c.parseData(a)}),this.recvCache=null,1==this._active_reconnect&&(this._active_reconnect=!1,this.reConnect());else{var d=new Pmd.OnlineStateLoginUserPmd_CS;d.state=1,this.send(d)}if(this.lastRecvTime=(new Date).getTime(),this.setMsgTimeout(8,"")){var e=new Pmd.TickRequestNullUserPmd_CS;e.requesttime=Math.floor(Date.now()/1e3),this.sendPlat(e)}1==c.isConnecting&&c.connectingTimeout&&(clearTimeout(c.connectingTimeout),c.connectingTimeout=null,1==this.isLobby?c.connectingTimeout=setTimeout(function(){1==c.isConnecting&&(c.isConnecting=!1,c.socketLoginFail?c.socketLoginFail.call(c.socketLoginObj):c.onCloseConnect(),c.connectingTimeout=null)},15e3):c.connectingTimeout=setTimeout(function(){1==c.isConnecting&&(c.isConnecting=!1,c.onCloseConnect(),a.Utils.restart("网络异常,重新登陆可继续游戏","确定"),c.connectingTimeout=null)},2e4)),a.Global.dispatchEvent(a.ZqEvent.EVENT_ACTIVE_SOCKET_CACHE_OK,c.gameId),a.ZQGameSdk.getNetStateType(null,null,!0)}},b.prototype.onSocketOpen=function(){var b=this;b.connectingTimeout&&(clearTimeout(b.connectingTimeout),b.connectingTimeout=null),b.isConnected=1,b.isConnecting=!1;var c=this.sendCache;this.sendCache=new Array,this.loginData&&(this.sendPlat(this.loginData),a.Global.compressType!=a.CompressType.NONE&&(this.mysocket.SetBinarytype(SockByinaryType.BINARY),this.isOpenCompress=!0),this.loginData=null),null!=c&&c.length>0&&(c.forEach(function(a){1==b.sockSend(a)&&b.log("[WS SEND CACHE] "+a)}),this.sendCache=new Array),a.UIMgr&&a.UIMgr.instance.hideLoading(a.UIMgr.instance.tipsLoadUI,"reconnect"),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null)},b.prototype.setTickSec=function(a){void 0===a&&(a=30),this.tickSec=a},b.prototype.onTickActive=function(){var b=(new Date).getTime(),c=b-this.lastRecvTime;0!=this._active&&(c>=this.tickSec*this.tickTimes*1e3?this.checkNeedReconnect():c>=1e3*this.tickSec+1e4?this.reConnect():this.msgTimeoutMSec>0&&c>=this.msgTimeoutMSec?0==a.Utils.isrebooting&&(this.msgTimeoutMSec=0,this.reConnect()):0==this.isLobby&&this.checkNeedReconnect())},b.prototype.setMsgTimeout=function(a,b){return 0==this.msgTimeoutMSec&&(this.msgTimeoutMSec=1e3*a,this.lastRecvTime=(new Date).getTime(),!0)},b.prototype.sockSend=function(b){if(0==this.isConnected||null==this.mysocket)return this.isConnecting||this.connectingTimeout||this.reConnect(),null==this.sendCache&&(this.sendCache=new Array),this.warn("[WS SEND ERROR] can't send message when websocket closed: "+b+":"+this.isConnected+":"+this.sendCache),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(b),this.log("[WS CACHE sockSend0]:"+b)),!1;if(1!=this.isConnected)return this.warn("[WS SEND ERROR] wait for connecting: "+this.isConnected+":"+b),null!=this.sendCache&&0==this.sendCache.length&&(this.sendCache.push(b),this.log("[WS CACHE sockSend1]:"+b)),!1;var c;if(a.Global.compressType!=a.CompressType.NONE&&1==this.isOpenCompress){var d=a.CompressUtil.encodeUTF8(b);c=a.Global.compressMin>0?d.byteLength>=a.Global.compressMin?a.CompressUtil.compressByType(d,a.Global.compressType):d.buffer:a.CompressUtil.compressByType(d,a.Global.compressType)}else c=b;if(this.mysocket.sockType==SockType.NORMAL)this.getSocket().send(c);else if(1==this.isOpenCompress){var e=new egret.ByteArray;e.writeBytes(c,0,c.byteLength),e.position=0,this.getSocket().writeBytes(e,0,e.bytesAvailable)}else this.getSocket().writeUTF(c);return!0},b.prototype.parseData=function(a){var b=JSON.parse(a);if(b instanceof Array)for(var c=0;c<b.length;c++)this.dispatch(b[c]);else this.dispatch(b)},b.prototype.uncompressData=function(b){var c=new Uint8Array(b);return a.CompressUtil.uncompressByType(c,a.Global.compressType)},b.prototype.onReceiveMessage=function(b){if(void 0===b&&(b=null),this.lastRecvTime=(new Date).getTime(),this.msgTimeoutMSec=0,null!=this.mysocket){var c,d=this;if(this.mysocket.sockType==SockType.EGRET)if(a.Global.compressType!=a.CompressType.NONE){var e=new egret.ByteArray;this.getSocket().readBytes(e),a.Global.compressMin>0?c=e.bytesAvailable>=a.Global.compressMin?d.uncompressData(e.buffer):e.buffer:e.bytesAvailable>0&&(c=d.uncompressData(e.buffer))}else c=this.getSocket().readUTF();else c=a.Global.compressType!=a.CompressType.NONE&&a.Global.compressMin>=0&&b.data.byteLength>0&&b.data.byteLength>=a.Global.compressMin?d.uncompressData(b.data):b.data;c&&""!=c?"{}"!=c&&(1!=d._active&&this.recvCache?this.recvCache.push(c):this.parseData(c)):this.warn("[WS RUN ERROR] server request colose socket")}},b.prototype.onSocketClose=function(b){void 0===b&&(b=null);var c=this;c.isConnected=0,c.isConnecting=!1,null!=this.mysocket?this.warn("[WS CLOSING onSocketClose0] "+this.mysocket.sockType+":"+a.Global.compressType+":"+this.wsurl):this.warn("[WS CLOSING onSocketClose1] "+this.mysocket),setTimeout(function(){0==c.isConnected?c.onCloseConnect():c.warn("[WS CLOSING onSocketClose:]"+c.isConnected)},2e3)},b.prototype.onCloseConnect=function(){var b=this;if(2==this.isConnected||1==a.Utils.isrebooting)return void this.warn("[WS CLOSING onCloseConnect]");b.isConnected=0,b._reconnectTimes<b._maxCeconnectTimes?b.reConnect()&&(a.ZQGameSdk&&a.ZQGameSdk.getNetStateType(),a.ZQGameSdk.lastNetState&&a.ZQGameSdk.lastNetState.data&&a.ZQGameSdk.lastNetState.data[a.ZQGameSdk.NETSTATE]==a.NetState.NO_SIGNAL?this.error("[WS reConnect] not network avalible"):b._reconnectTimes++):0==a.Global.isRestarting&&(b.socketLoginFail&&0!=b.socketLoginFail.call(b.socketLoginObj)||(a.Global.isRestarting=!0,a.Console.info("ZQGameSdk.restart"),1==a.Global.isH5?""!=a.Global.reLoginUrl?a.BrowersUtils.redirect(a.Global.reLoginUrl):a.BrowersUtils.reload():(b.isLobby,a.ZQGameSdk&&a.ZQGameSdk.getConfig("网络不稳定,需要重新连接","","确定"))))},b.prototype.onSocketError=function(b){void 0===b&&(b=null);var c=this;c.isConnected=0,c.isConnecting=!1,this.warn("[WS Error] "),a.Global.isInGame||(c._maxCeconnectTimes=5),a.Global.dispatchEvent(a.ZqEvent.NET_ERRER),clearTimeout(c.connectingTimeout),c.connectingTimeout=setTimeout(function(){0==c.isConnected?c.onCloseConnect():c.warn("[WS CLOSING onSocketClose:]"+c.isConnected)},2e3)},b.prototype.reConnect=function(){var b=this;if(1==a.Utils.isrebooting||1==b.isConnecting||2==b.isConnected||0==b.needReconnect)return b.warn("[WS CLOSING reConnect cancel]"+a.Utils.isrebooting+":"+b.isConnecting+":"+b.isConnected),!1;if(0==this._active&&b.recvCache)return b._active_reconnect=!0,!0;a.UIMgr&&(1==a.Global.isInGame?0==b.isLobby&&a.UIMgr&&a.UIMgr.instance.tipsLoadUI&&a.UIMgr.instance.showLoadingTimeout(a.UIMgr.instance.tipsLoadUI,"reconnect",0):a.UIMgr.instance.showLoadingTimeout(a.UIMgr.instance.tipsLoadUI,"reconnect",0)),b.isOpenCompress=!1;var c=new Pmd.UserLoginReconnectLoginUserPmd_C;return c.accountid=a.NetMgr.UID,c.timestamp=Math.floor(Date.now()/1e3),c.zoneid=b.zoneId,c.gameid=b.gameId,c.compress=a.CompressUtil.compressStr[a.Global.compressType],c.version=20160805,c.lastseq=b.lastseq,a.Global.zipmd5&&(c.zipmd5=a.Global.zipmd5),a.Global.configmd5&&(c.configmd5=a.Global.configmd5),a.Global.bundleId&&(c.bundlename=a.Global.bundleId),null==a.NetMgr.PlatKey&&(a.NetMgr.PlatKey=""),c.tokenmd5=""+a.StringUtils.MD5(String(c.accountid)+String(c.timestamp)+a.NetMgr.PlatKey),c.url=this.wsurl,b.loginData=c,b.connect(),b.isConnected=2,!0},b.prototype.log=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];a.Console.log(this.logName+b,c)},b.prototype.error=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];a.Console.error(this.logName+b,c)},b.prototype.warn=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];a.Console.warn(this.logName+b,c)},b.prototype.info=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];a.Console.info(this.logName+b,c)},b.prototype.dispatch=function(c){var d=this;if(!d.timerActive&&this.mysocket&&this.sockType!=SockType.LOOPBACK){var e=new Pmd.SetTickTimeoutNullUserPmd_CS;e.sec=d.tickSec,e.times=d.tickTimes,d.sendPlat(e),d.timerActive=setInterval(function(){d.onTickActive()},5e3)}var f,g;if(c.GetType||(f=c.cmd_name,f?c.GetType=function(){return f}:g=c),0==this.lastseq||c.GetType&&c.GetType()!=b.GatewayWrapperName||f&&f!=b.GatewayWrapperName||(4294967295==this.lastseq?this.lastseq=1:this.lastseq++),g||c.GetType()==b.GatewayWrapperName){if(g||(g=c.msg),a.checkServerReturnCodeError(g))return a.doServerReturnCodeError(c,d),this.warn("[WS RUN ERROR] server error0: "+JSON.stringify(c)),!1;a.Global.jsonCompress?g=a.Global.DeCompress(g):"number"==typeof g.do&&a.Global.jsonCompressDefault&&(g=a.Global.DeCompressDefult(g)),f=g.do;c=g.data}else f||c.GetType()==b.GatewayWrapperName||(f=c.GetType());if(a.checkServerReturnCodeError(c))return a.doServerReturnCodeError(c,d),this.warn("[WS RUN ERROR] server error1: "+JSON.stringify(c)),!1;var h=f.split(".");h[h.length-1]="On"+h[h.length-1];for(var i,j="",k=0;k<h.length;k++)j+=h[k]+(k==h.length-1?"":".");if(null!=a.getDefinitionByName(j)&&(i=a.getDefinitionByName(j)),null!=i)return this._reconnectTimes=0,this.log("[WS RECV] "+j+":"+JSON.stringify(g)),i(c),!0;if("Pmd.OnUserLoginReturnOkLoginUserPmd_S"===j)return a.Console.info("[WS] login to gateway success #"),this.socketLoginSuc&&(this.socketLoginSuc.call(this.socketLoginObj?this.socketLoginObj:this),this.socketLoginSuc=null),this.lastseq=4294967295,!0;if("Pmd.OnReconnectKickoutLoginUserPmd_S"===j)return 1==a.Global.hasEventListener(a.ZqEvent.KICK_OUT)?(this.close(!1),a.Global.dispatchEvent(a.ZqEvent.KICK_OUT,c)):a.Utils.restart(c.desc?c.desc:"重复登陆被踢下线！","确定"),!0;if("Pmd.OnUserLoginReturnFailLoginUserPmd_S"===j){switch(a.Console.info("Pmd.OnUserLoginReturnFailLoginUserPmd_S err:"+c.retcode),c.retcode){case Pmd.LoginReturnFailReason.ServerShutdown:if(this.isLobby||!this.socketLoginFail)return 1!=a.Global.isInGame&&(clearTimeout(d.connectingTimeout),d.connectingTimeout=setTimeout(function(){d.reConnect(),d._reconnectTimes++},5e3)),!0;break;case Pmd.LoginReturnFailReason.VersionTooLow:return a.Utils.restart(c.desc?c.desc:"版本过低，请重新登陆！","确定"),!0;case Pmd.LoginReturnFailReason.UserTokenFind:case Pmd.LoginReturnFailReason.UserTokenTempId:case Pmd.LoginReturnFailReason.UserTokenTimeOut:return a.Utils.clearLocalStorage(),a.Utils.restart("登陆信息过期,请重新登陆游戏！","确定"),!0;case Pmd.LoginReturnFailReason.LoginDulicate:case Pmd.LoginReturnFailReason.NoGatewaytDown:case Pmd.LoginReturnFailReason.AccountUsing:}var l=!0;return a.TipsUtils&&(a.TipsUtils.showTipsDownToUp(c.retcode+":"+c.desc,!0),l=!1),this.socketLoginFail&&(this.socketLoginFail.call(this.socketLoginObj?this.socketLoginObj:c),l=!1,this.warn("[WS socketLoginFail] ")),l&&a.Utils.restart(c.desc?c.desc:"未知错误,请重新登陆","确定"),!0}if("Pmd.OnTickRequestNullUserPmd_CS"==j){var m=new Pmd.TickReturnNullUserPmd_CS;return m.requesttime=c.requesttime,m.mytime=Math.floor(Date.now()/1e3),this.sendPlat(m),!0}if("Pmd.OnCurrentGmLevelChatUserPmd_S"==j)return a.Global.gmlevel=c.gmlevel,a.Global.gmlevel,!0;if("Pmd.OnUserLoginReconnectOkLoginUserPmd_S"==j)return a.Global.dispatchEvent(a.ZqEvent.ON_RECONNEC,d.gameId),!0;if("Pmd.OnGameServerShutDownLoginUserPmd_S"==j)return d._reconnectTimes>=5&&a.Global.dispatchEvent(a.ZqEvent.ON_SERVER_SHUTDOWN,c),!0;if("Pmd.OnZoneInfoListLoginUserPmd_S"==j)return a.Global.zoneList=c.zonelist,a.Global.dispatchEvent(a.ZqEvent.ON_GETZONEINFO,c),!0;if("Pmd.OnTickReturnNullUserPmd_CS"==j)return!0;if("Pmd.OnServerShutDownLoginUserPmd_S"==j)return a.Global.dispatchEvent(a.ZqEvent.EVENT_SERVER_SHUTDOWN,c),!0;if("Pmd.OnServerDebugLevelLoginUserPmd_S"==j)return a.Global.debugLevel=c.level,a.Global.dispatchEvent(a.ZqEvent.EVENT_SERVER_DEBUG_LEVEL,c),!0;if("Pmd.OnClientConfigUpdateLoginUserPmd_S"==j)if(c&&c.config){c.config;a.ZQGameSdk&&a.ZQGameSdk.getConfig("当前客户端版本过低,请点击确定重启更新。","","确定")}else if(c&&c.zipmd5){if(1==a.Global.is_sandbox)return!0;a.ZQGameSdk&&a.ZQGameSdk.getConfig("当前客户端版本过低,请点击确定重启更新。","","确定","取消")}return this.warn("[WS RUN unprocess] \n"+JSON.stringify(c)),!1},b.prototype.sendTimeOut=function(a,b){this.send(a,b),this.setMsgTimeout(8,"sendTimeOut")},b.prototype.send=function(a,b){if(null!=a){if(1==b||this.sockType==SockType.LOOPBACK)return void this.dispatch(a);var c=a.GetType?a.GetType():a.do,d={do:c,data:a},e=JSON.stringify(d);1==this.sockSend(e)&&this.log("[WS SEND send] "+e)}},b.prototype.sendPlat=function(a,b){if(null!=a){if(1==b||this.sockType==SockType.LOOPBACK)return void this.dispatch(a);var c=a.GetType?a.GetType():a.cmd_name||a.do;a.cmd_name=c;var d=JSON.stringify(a);1==this.sockSend(d)?this.log("[WS SEND sendPlat] "+d):this.log("[WS SEND sendPlat Error] "+d)}},b.prototype.sendEcho=function(){var a=(new Date).getTime();a-this.lastEchoTime>=3e3&&(this.lastEchoTime=a,this.sockSend("{}"))},b.prototype.close=function(b){void 0===b&&(b=!0),this.sockType!=SockType.LOOPBACK&&(this.isConnected=0,null!=this.mysocket&&(this.mysocket.sockType==SockType.NORMAL?(this.getSocket().onopen=null,this.getSocket().onmessage=null,this.getSocket().onclose=null,this.getSocket().onerror=null):(this.getSocket().removeEventListener("socketData",this.onReceiveMessage,this),this.getSocket().removeEventListener("connect",this.onSocketOpen,this),this.getSocket().removeEventListener("close",this.onSocketClose,this),this.getSocket().removeEventListener("ioError",this.onSocketError,this)),global||egret&&(egret.MainContext.instance.stage.removeEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),egret.MainContext.instance.stage.removeEventListener(egret.Event.ACTIVATE,this.onActive,this)),this.warn("[WS CLOSING close] "+Math.floor((new Date).getTime()/1e3)+":"+this.mysocket.sockType+":"+a.Global.compressType+":"+this._reconnectTimes+":"+this.wsurl),null==this.sendCache?this.sendCache=new Array:this.sendCache.length>1&&(this.sendCache=[this.sendCache.pop()]),this.getSocket().close(),this.mysocket=null),this.timerActive&&(clearInterval(this.timerActive),this.timerActive=null),this.needReconnect=b,this.isConnecting=!1)},b.GatewayWrapperName=(new Pmd.UserJsMessageForwardUserPmd_CS).GetType(),b}();a.JsonSocket=d}(uniLib||(uniLib={}));var SockType;!function(a){a[a.NORMAL=0]="NORMAL",a[a.EGRET=1]="EGRET",a[a.LOOPBACK=2]="LOOPBACK"}(SockType||(SockType={}));var SockByinaryType;!function(a){a[a.STRING=0]="STRING",a[a.BINARY=1]="BINARY"}(SockByinaryType||(SockByinaryType={}));var Pmd;!function(a){function b(b){switch(b.chatpos){case a.CommonChatUserPmd_CS.ChatPos.ChatPos_None:case a.CommonChatUserPmd_CS.ChatPos.ChatPos_Normal:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_ROOM,b);break;case a.CommonChatUserPmd_CS.ChatPos.ChatPos_Private:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,b);break;case a.CommonChatUserPmd_CS.ChatPos.ChatPos_Sys:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_SYSTEM,b);break;case a.CommonChatUserPmd_CS.ChatPos.ChatPos_Gm:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_GM,b);break;case 256:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HORN,b);break;case 512:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_HUNDRED,b);break;case a.CommonChatUserPmd_CS.ChatPos.ChatPos_Important:uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_IMPORTANT,b)}}function c(a){uniLib.Global.dispatchEvent(uniLib.ZqEvent.CHAT_PRIVATE,a)}function d(a){uniLib.Global.dispatchEvent(uniLib.ZqEvent.GM_INFO,a)}a.OnCommonChatUserPmd_CS=b,a.OnPrivateChatUserPmd_CS=c,a.OnGMCommandListChatUserPmd_S=d}(Pmd||(Pmd={}));var uniLib;!function(a){var b=function(){function a(){}return a}();a.AppConfig=b}(uniLib||(uniLib={}));var ExtData=function(){function a(){}return a}(),uniLib;!function(a){var b=function(){function a(){}return a}();a.ShareData=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return Object.defineProperty(b,"ol_Time",{get:function(){return this._ol_Time},set:function(a){this._ol_Time=a},enumerable:!0,configurable:!0}),Object.defineProperty(b,"fangka",{get:function(){return this._fangka},set:function(b){this._fangka!=b&&(this._fangka=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.FANGKA))},enumerable:!0,configurable:!0}),b.init=function(a,b){void 0===b&&(b=!0),this.uid=a.uid,a.headUrl||a.headurl?this._headUrl=a.headUrl||a.headurl:this._headUrl="",this.nickName=a.nickName||a.nickname,this.gender=a.gender,this.platId=a.platId,this.subPlatId=a.subPlatId,1==b&&a.remainder&&(this._chips=a.remainder,this._goldChips=a.remainder),a.goldcoin&&(this._goldChips=a.goldcoin),a.trailscore&&(this._chips=a.trailscore),a.bankChips&&(this._bankChips=a.bankChips),a.sumRecharge&&(this.sumRecharge=a.sumRecharge),a.signature&&(this.signature=a.signature),a.giftCoupon&&(this._giftCoupon=a.giftCoupon),a.trailcoin&&(this._freeChips=a.trailcoin),a.fangka&&(this._fangka=a.fangka)},Object.defineProperty(b,"chips",{get:function(){return this._chips},set:function(b){this._chips!=b&&(this._chips=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.CHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(b,"goldChips",{get:function(){return this._goldChips},set:function(b){this._goldChips!=b&&(this._goldChips=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.GOLDCHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(b,"freeChips",{get:function(){return this._freeChips},set:function(b){this._freeChips!=b&&(this._freeChips=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.FREECHIPS))},enumerable:!0,configurable:!0}),Object.defineProperty(b,"headUrl",{get:function(){return this._headUrl},set:function(b){this._headUrl!=b&&(this._headUrl=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.HEADURL))},enumerable:!0,configurable:!0}),Object.defineProperty(b,"platPoint",{get:function(){return this._platPoint},set:function(b){this._platPoint=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.PLAT_POINT)},enumerable:!0,configurable:!0}),Object.defineProperty(b,"bankChips",{get:function(){return this._bankChips},set:function(b){this._bankChips=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.BANK_CHIPS)},enumerable:!0,configurable:!0}),Object.defineProperty(b,"nickname",{get:function(){return this.nickName},set:function(b){this.nickName=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.NICKNAME)},enumerable:!0,configurable:!0}),Object.defineProperty(b,"giftCoupon",{get:function(){return this._giftCoupon},set:function(b){this._giftCoupon=b,a.Global.dispatchEvent(a.ZqEvent.USER_INFO,a.UserInfoEnum.GIFTCOUPON)},enumerable:!0,configurable:!0}),b._chips=0,b._goldChips=0,b._freeChips=0,b._giftCoupon=0,b._ol_Time=-1,b.slipStatus=1,b._platPoint=0,b}();a.UserInfo=b}(uniLib||(uniLib={}));var game;!function(a){var b=function(){function a(){}return a}();a.WXShareBackVo=b}(game||(game={}));var uniLib;!function(a){var b=function(){function a(){this.shareImageUrl="",this.shareImageData=""}return a}();a.WXShareVo=b}(uniLib||(uniLib={}));var uniLib;!function(uniLib){var BrowersUtils=function(){function BrowersUtils(){}return BrowersUtils.reload=function(){1==uniLib.Global.isH5&&window.location.reload()},BrowersUtils.redirect=function(a){location.href=a},BrowersUtils.isLocal=function(){return location.href.indexOf("192.168")>=0},BrowersUtils.prototype.isNull=function(a){return null==a||(a instanceof String&&(null==a||a.length),!1)},BrowersUtils.isWechat=function(){var a=navigator.userAgent.toString();return console.dir(a),null!=a.match(/MicroMessenger/i)&&"MicroMessenger"==a.match(/MicroMessenger/i).toString()},BrowersUtils.getXHR=function(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?eval('new ActiveXObject("MSXML2.XMLHTTP")'):egret&&egret.URLLoader?new egret.URLLoader:void 0},BrowersUtils.isPC=function(){for(var a=navigator.userAgent.toString(),b="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"),c=!0,d=0;d<b.length;d++)if(0<a.indexOf(b[d])){c=!1;break}return c},BrowersUtils.isAndroid=function(){var a=navigator.userAgent.toString();return a.indexOf("Android")>-1||a.indexOf("Linux")>-1},BrowersUtils.GetRequest=function(a,b){var c,d=null;if(uniLib.Global.isH5){c=null!=b&&""!=b?b:location.search;var e=new RegExp("[?&]"+a+"=([^&]+)","gi"),f=e.exec(c);if(null!=f)try{d=decodeURIComponent(decodeURIComponent(f[1]))}catch(a){try{d=decodeURIComponent(f[1])}catch(a){d=f[1]}}}return d},BrowersUtils.GetRequests=function(a){var b;b=a||location.search;var c=new Object;if(0==b.indexOf("?"))var b=b.substr(1);for(var d=b.split("&"),e=0;e<d.length;e++)c[d[e].split("=")[0]]=decodeURIComponent(d[e].split("=")[1]);return c},BrowersUtils.requestFullScreen=function(){},BrowersUtils.exitFullscreen=function(){},BrowersUtils.setExtData=function(a,b,c){void 0===c&&(c=!1),null==this.extData&&(this.extData=new ExtData),this.extData[a]=b},BrowersUtils.getExtData=function(key){if(void 0===key&&(key=""),null==this.inExtData)try{this.inExtData=JSON.parse(this.GetRequest("extdata"))}catch(e){this.inExtData=eval("("+this.GetRequest("extdata")+")")}return this.inExtData?key?this.inExtData[key]:this.inExtData:null},BrowersUtils.resetShareInfo=function(){this.extData=new ExtData,this.extData.inviter=uniLib.NetMgr.UID.toString(),this.setShareInfo()},BrowersUtils.setShareInfo=function(a,b,c,d,e){d&&e&&this.setExtData(d,e);var f,g="http://login.publish.bwgame.com.cn:8080/";"0"==(f=location.href.indexOf("h5.publish.bwgame.com.cn")>=0?"1":"0")&&(g="http://h5sdk.zqbconnect.com/");var h=new BodyMenuShareTimeline;b&&!uniLib.StringUtils.stringIsNullOrEmpty(b)?h.title=b:h.title=uniLib.Global.shareData.title,uniLib.Global.shareData.link?h.link=uniLib.Global.shareData.link:h.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+g+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+f+"connect_redirect=1#wechat_redirect",a&&!uniLib.StringUtils.stringIsNullOrEmpty(a)?h.imgUrl=a:h.imgUrl=uniLib.Global.shareData.imgUrl,h.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,1)},wx.onMenuShareTimeline(h);var i=new BodyMenuShareAppMessage;b&&!uniLib.StringUtils.stringIsNullOrEmpty(b)?i.title=b:i.title=uniLib.Global.shareData.title,c&&!uniLib.StringUtils.stringIsNullOrEmpty(c)?i.desc=c:i.desc=uniLib.Global.shareData.desc,uniLib.Global.shareData.link?i.link=i.dataUrl=uniLib.Global.shareData.link:i.dataUrl=i.link="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+uniLib.Global.appId+"&redirect_uri="+g+uniLib.Global.lobbyGameId+"/wechat_"+uniLib.Global.platInfo.platid+"/login_request?extdata="+JSON.stringify(this.extData)+"&response_type=code&scope=snsapi_base&state="+f+"&connect_redirect=1#wechat_redirect",i.success=function(){uniLib.Global.dispatchEvent(uniLib.ZqEvent.SHARE,2)},a&&!uniLib.StringUtils.stringIsNullOrEmpty(a)?i.imgUrl=a:i.imgUrl=uniLib.Global.shareData.imgUrl,wx.onMenuShareAppMessage(i)},BrowersUtils.getCookie=function(a){if(uniLib.Global.isH5){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));if(null!=b)return b[2]}return null},BrowersUtils.setCookie=function(a,b,c){if(uniLib.Global.isH5){b instanceof Object&&(b=JSON.stringify(b));var d=new Date;d.setDate(d.getDate()+c),document.cookie=a+"="+b+(null==c?"":";expires="+d.toUTCString())}},BrowersUtils.delCookie=function(a){if(uniLib.Global.isH5)if(a){var b=new Date;b.setTime(b.getTime()-1);var c=this.getCookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toUTCString())}else{var d=new Date;d.setTime(-1e3);for(var e=document.cookie,f=e.split("; "),g=0;g<f.length;g++){var h=f[g].split("=");document.cookie=h[0]+"=''; expires="+d.toUTCString()}}},BrowersUtils.getLocationUrl=function(){if(uniLib.Global.isH5)return location.href},BrowersUtils.getPlatLibDir=function(){if(uniLib.Global.isH5)return location.href.substring(0,uniLib.StringUtils.getPosition(location.href,"/",3))+"/"+uniLib.Global.thirdPlatDir},BrowersUtils.redirectUrl=function(a){uniLib.Global.isH5&&(location.href=a)},BrowersUtils.parentRedirectUrl=function(a){uniLib.Global.isH5&&(parent.window.location.href=a)},BrowersUtils.browersType=function(){var a=window.navigator.userAgent.toLowerCase();return"micromessenger"==""+a.match(/MicroMessenger/i)?"wechat":""+a.match(/windows nt/i)=="windows nt"?"windows":""+a.match(/iphone/i)=="iphone"?"ios":""+a.match(/android/i)=="android"?"android":""+a.match(/ipad/i)=="ipad"?"ipad":""+a.match(/linux/i)=="linux"?"linux":""+a.match(/mac/i)=="mac"?"mac":""+a.match(/ucbrower/i)=="ucbrower"?"ucbrower":void uniLib.Console.log("未知系统类型")},BrowersUtils.platformType=function(){var a=window.navigator.userAgent.toLowerCase();return""+a.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+a.match(/qzone/i)=="qzone"?"qzone":""+a.match(/weibo/i)=="weibo"?"weibo":""+a.match(/qq/i)=="qq"?"qq":""+a.match(/renren/i)=="renren"?"renren":""+a.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+a.match(/douban/i)=="douban"?"douban":"other"},BrowersUtils.prototype.staticisVertical=function(){return 90!=window.orientation},BrowersUtils.LoadJses=function(a,b,c){var d=a.length,e=this,f=0,g=function(){f++,f==d?b&&b.call(c):e.LoadJS(a[f].id,a[f].url,g,e)};this.LoadJS(a[0].id,a[0].url,g,e)},BrowersUtils.LoadJS=function(id,fileUrl,loaded,loadErr,obj){if(uniLib.Global.isH5){var scriptTag=document.getElementById(id),oHead=document.getElementsByTagName("HEAD").item(0),oScript=document.createElement("script");scriptTag&&oHead.removeChild(scriptTag),oScript.id=id,oScript.type="text/javascript",oScript.src=fileUrl,oHead.appendChild(oScript),oScript.onerror=function(){null!=loadErr&&(obj?loadErr.call(obj,id):loadErr(id))},oScript.onload=oScript.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||null!=loaded&&(obj?loaded.call(obj,id):loaded(id))}}else{var js,RES=uniLib.getDefinitionByName("RES");RES&&RES.getResByUrl(fileUrl,function(data){null==data?loadErr&&(obj?loadErr.call(obj,id):loadErr(id)):(eval("require")(fileUrl),null!=loaded&&(obj?loaded.call(obj,id):loaded(id)))},this)}},BrowersUtils.extData=new ExtData,BrowersUtils}();uniLib.BrowersUtils=BrowersUtils}(uniLib||(uniLib={}));var uniLib;!function(uniLib){var CompressUtil=function(){function CompressUtil(){}return CompressUtil.init=function(a,b,c){void 0===a&&(a=CompressType.NONE),uniLib.Global.compressType=a,b&&b.call(c)},CompressUtil.compressByType=function(a,b){switch(b){case CompressType.GZIP:return pako.deflate(a);case CompressType.FLATE:return pako.deflate(a,{raw:!0})}},CompressUtil.uncompressByType=function(a,b){switch(b){case CompressType.GZIP:return pako.inflate(a,{to:"string"});case CompressType.FLATE:return pako.inflate(a,{to:"string",raw:!0})}},CompressUtil.stringToUint=function(a){for(var b=encodeURIComponent(a),c=b.split(""),d=[],e=0;e<c.length;e++)d.push(c[e].charCodeAt(0));return new Uint8Array(d)},CompressUtil.uintToString=function(a){var b=String.fromCharCode.apply(null,a);return decodeURIComponent(b)},CompressUtil.char2buf=function(a){for(var b=new ArrayBuffer(2*a.length),c=new Uint16Array(b),d=a.split(""),e=0;e<d.length;e++)c[e]=d[e].charCodeAt();return b},CompressUtil.buf2char=function(buf){for(var out="",u16a=new Uint16Array(buf),single,i=0;i<u16a.length;i++){for(single=u16a[i].toString(16);single.length<4;)single="0".concat(single);out+="\\u"+single}return eval("'"+out+"'")},CompressUtil.Utf8ArrayToStr=function(a){var b,c,d,e,f,g;for(b="",d=a.length,c=0;c<d;)switch((e=a[c++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=String.fromCharCode(e);break;case 12:case 13:f=a[c++],b+=String.fromCharCode((31&e)<<6|63&f);break;case 14:f=a[c++],g=a[c++],b+=String.fromCharCode((15&e)<<12|(63&f)<<6|(63&g)<<0)}return b},CompressUtil.stringToArray=function(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b},CompressUtil.arrayLikeToArray=function(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b},CompressUtil.stringToCodePoints=function(a){for(var b=[],c=0,d=a.length;c<a.length;){var e=a.charCodeAt(c);if(uniLib.NumberUtils.inRange(e,55296,57343))if(uniLib.NumberUtils.inRange(e,56320,57343))b.push(65533);else if(c==d-1)b.push(65533);else{var f=a.charCodeAt(c+1);if(uniLib.NumberUtils.inRange(f,56320,57343)){var g=1023&e,h=1023&f;c+=1,b.push(65536+(g<<10)+h)}else b.push(65533)}else b.push(e);c+=1}return b},CompressUtil.encodeUTF8=function(a){for(var b=0,c=this.stringToCodePoints(a),d=[];c.length>b;){var e=c[b++];if(uniLib.NumberUtils.inRange(e,55296,57343))uniLib.Console.error("encode error:"+e);else if(uniLib.NumberUtils.inRange(e,0,127))d.push(e);else{var f,g;for(uniLib.NumberUtils.inRange(e,128,2047)?(f=1,g=192):uniLib.NumberUtils.inRange(e,2048,65535)?(f=2,g=224):uniLib.NumberUtils.inRange(e,65536,1114111)&&(f=3,g=240),d.push(uniLib.NumberUtils.div(e,Math.pow(64,f))+g);f>0;){var h=uniLib.NumberUtils.div(e,Math.pow(64,f-1));d.push(128+h%64),f-=1}}}return new Uint8Array(d)},CompressUtil.base64encode=function(a){try{this.b64pad}catch(a){this.b64pad=""}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="";try{a=encodeURIComponent(a)}catch(a){uniLib.Console.error("error "+a.toString())}for(var d=a.length,e=0;e<d;e+=3)for(var f=a.charCodeAt(e)<<16|(e+1<d?a.charCodeAt(e+1)<<8:0)|(e+2<d?a.charCodeAt(e+2):0),g=0;g<4;g++)8*e+6*g>8*a.length?c+=this.b64pad:c+=b.charAt(f>>>6*(3-g)&63);return c},CompressUtil.base64decode=function(a){var b,c,d,e,f,g,h,i=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(g=a.length,f=0,h="";f<g;){do{b=i[255&a.charCodeAt(f++)]}while(f<g&&-1==b);if(-1==b)break;do{c=i[255&a.charCodeAt(f++)]}while(f<g&&-1==c);if(-1==c)break;h+=String.fromCharCode(b<<2|(48&c)>>4);do{if(61==(d=255&a.charCodeAt(f++)))return h;d=i[d]}while(f<g&&-1==d);if(-1==d)break;h+=String.fromCharCode((15&c)<<4|(60&d)>>2);do{if(61==(e=255&a.charCodeAt(f++)))return h;e=i[e]}while(f<g&&-1==e);if(-1==e)break;h+=String.fromCharCode((3&d)<<6|e)}return h=decodeURIComponent(h)},CompressUtil.compressStr=["","flate","zlib","gzip","lzw"],CompressUtil.b64pad="",CompressUtil}();uniLib.CompressUtil=CompressUtil,function(a){a[a.NONE=0]="NONE",a[a.FLATE=1]="FLATE",a[a.ZLIB=2]="ZLIB",a[a.GZIP=3]="GZIP",a[a.LZW=4]="LZW"}(uniLib.CompressType||(uniLib.CompressType={}));var CompressType=uniLib.CompressType}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return Object.defineProperty(a,"appConfig",{get:function(){return this._appConfig},enumerable:!0,configurable:!0}),a.initAppConfig=function(a){return this._appConfig||(this._appConfig=a),this._appConfig},a}();a.ConfigUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){!function(a){a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a[a.DEBUG_SERVER=4]="DEBUG_SERVER",a[a.INFO_SERVER=5]="INFO_SERVER",a[a.WARN_SERVER=6]="WARN_SERVER",a[a.ERROR_SERVER=7]="ERROR_SERVER"}(a.LOGLEVEL||(a.LOGLEVEL={}));var b=a.LOGLEVEL,c=function(){function c(){}return c.setLogLevel=function(a){1==this.isDevMode?this.LogLevel=b.DEBUG:(this.LogLevel=a,egret.Logger.logLevel=egret.Logger.INFO)},c.init=function(b,c){a.Global.isH5,this.isDevMode=b,this.setLogLevel(c)},c.logToServer=function(b,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];if(!a.Global.isH5||1!=a.BrowersUtils.isLocal()){var c=this.LOG_LEVEL_STR[b]+"\t"+c;d&&d.forEach(function(a){a&&(c+=a)}),this.err_rqst=new a.HttpRequest,this.err_rqst.open(a.Global.logUrl),this.err_rqst.send(c)}},c.getLocalLevel=function(a){return a>=b.DEBUG_SERVER&&(a=this.LogLevel-b.DEBUG_SERVER),a},c.log=function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];var f=this.getLocalLevel(this.LogLevel);f<=b.DEBUG&&((null==c||void 0==c||"string"==typeof c&&""==c)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),a.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"LOG",c,d):console.log(c,d),f!=this.LogLevel&&this.logToServer(f,c,d))},Object.defineProperty(c,"logEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=b.DEBUG},enumerable:!0,configurable:!0}),c.debug=function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];var f=this.getLocalLevel(this.LogLevel);f<=b.DEBUG&&((null==c||void 0==c||"string"==typeof c&&""==c)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),a.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"DEBUG",c,d):console.log(c,d),f!=this.LogLevel&&this.logToServer(f,c,d))},Object.defineProperty(c,"debugEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=b.DEBUG},enumerable:!0,configurable:!0}),c.info=function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];var f=this.getLocalLevel(this.LogLevel);f<=b.INFO&&((null==c||void 0==c||"string"==typeof c&&""==c)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),a.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"INFO",c,d):console.log(c,d),f!=this.LogLevel&&this.logToServer(f,c,d))},Object.defineProperty(c,"infoEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=b.INFO},enumerable:!0,configurable:!0}),c.warn=function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];var f=this.getLocalLevel(this.LogLevel);f<=b.WARN&&((null==c||void 0==c||"string"==typeof c&&""==c)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),a.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"WARN",c,d):console.log(c,d),f!=this.LogLevel&&this.logToServer(f,c,d))},Object.defineProperty(c,"warnEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=b.WARN},enumerable:!0,configurable:!0}),c.error=function(c){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];var f=this.getLocalLevel(this.LogLevel);f<=b.ERROR&&((null==c||void 0==c||"string"==typeof c&&""==c)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),a.Global.isH5?console.error((new Date).toTimeString().split(" ")[0],"ERROR",c,d):console.log(c,d),f!=this.LogLevel&&this.logToServer(f,c,d));var g=c;d&&d.forEach(function(a){a&&(g+=a)}),a.DebugView&&a.DebugView.Instance.addLog(g)},Object.defineProperty(c,"errorEnable",{get:function(){return this.getLocalLevel(this.LogLevel)>=b.ERROR},enumerable:!0,configurable:!0}),c.isDevMode=!1,c.LOG_LEVEL_STR=["[DEBUG]","[INFO]","[WARN]","[ERROR]"],c.LogLevel=7,c}();a.Console=c}(uniLib||(uniLib={})),onerror=function(a,b,c,d,e){var f="异常捕获:gameid:"+uniLib.Global.gameId+":lobbyid:"+uniLib.Global.lobbyGameId+":"+a+"url:"+b+"line:"+c;uniLib.Console.error(f),uniLib.DebugView&&uniLib.DebugView.Instance.addLog(f)};var uniLib;!function(a){function b(a){if(!a)return null;var b=g[a];if(b)return b;var c=a.split("."),d=c.length;b=__uglobal;for(var e=0;e<d;e++){if(!(b=b[c[e]]))return null}return g[a]=b,b}function c(a){var b="^"+a+".";for(var c in g)c.match(b)&&console.error("匹配成功:"+c)}function d(a){if(!a)return null;var b="^"+a+".";if(-1==a.indexOf("."))for(var c in g)c.match(b)&&(g[c]=null,delete g[c]);else g[a]=null,delete g[a]}function e(a){if(!a||"object"!=typeof a&&!a.prototype)return null;var b=a.prototype?a.prototype:Object.getPrototypeOf(a),c=Object.getPrototypeOf(b);if(!c)return null;var d=f(c.constructor);return d||null}function f(a){var b=typeof a;if(!a||"object"!=b&&!a.prototype)return b;var c=a.prototype?a.prototype:Object.getPrototypeOf(a);if(c.hasOwnProperty("__class__"))return c.__class__;var d=c.constructor.toString().trim(),e=d.indexOf("("),f=d.substring(9,e);return Object.defineProperty(c,"__class__",{value:f,enumerable:!1,writable:!0}),f}var g={};a.getDefinitionByName=b,a.test=c,a.delDefinitionByName=d,a.getQualifiedSuperclassName=e,a.getQualifiedClassName=f}(uniLib||(uniLib={}));var __uglobal=__uglobal||this,uniLib;!function(uniLib){var DeviceUtils=function(){function DeviceUtils(){}return DeviceUtils.vibrate=function(a){void 0===a&&(a=1e3),navigator.vibrate?navigator.vibrate(a):navigator.webkitVibrate&&navigator.webkitVibrate(a)},DeviceUtils.uploadFile=function(file){if("undefined"!=typeof FileReader&&/image/i.test(file.type)){var reader=new FileReader,self=this;reader.onload=function(){var result=document.getElementById("result");result.innerHTML='<img id="photoImg" src="'+this.result+'" alt="" />';var texture=new egret.Texture;null!=egret.BitmapData?texture._setBitmapData(eval("new egret.BitmapData(document.getElementById('photoImg'))")):texture._setBitmapData(document.getElementById("photoImg")),DeviceUtils.srcImg.texture=texture},reader.readAsDataURL(file)}else console.error("抱歉！当前系统不支持此功能！")},DeviceUtils.traverseFiles=function(a){void 0!==a&&a.length>0&&DeviceUtils.uploadFile(a[0])},DeviceUtils.fileUpload=function(a){this.srcImg=a;var b=document.getElementById("files-upload");b.click();var c=this;b.addEventListener("change",function(){c.traverseFiles(this.files)},!1)},DeviceUtils.getMic=function(){},DeviceUtils.getScreen=function(){},DeviceUtils.callPhone=function(a){try{window.open("tel:"+a,"_self")}catch(a){}},DeviceUtils.sendMessage=function(a){try{window.open("sms:"+a,"_self")}catch(a){}},DeviceUtils.getCurUrl=function(){try{return location.href}catch(a){}},DeviceUtils.srcImg=new egret.Bitmap,DeviceUtils.curAngle=Number(window.orientation),DeviceUtils}();uniLib.DeviceUtils=DeviceUtils}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.createBitmapByName=function(a){var b=new egret.Bitmap,c=RES.getRes(a);return b.texture=c,b},b.createMovieClicp=function(a,b){var c=RES.getRes(a+"_json"),d=RES.getRes(a+"_png"),e=new egret.MovieClipDataFactory(c,d);return new egret.MovieClip(e.generateMovieClipData(b))},b.createMask=function(b,c,d,e){void 0===b&&(b=.3),void 0===e&&(e=0);var f=new egret.Sprite;return f.graphics.clear(),f.graphics.beginFill(e,b),f.graphics.drawRect(0,0,c||a.Global.screenWidth,d||a.Global.screenHeight),f.graphics.endFill(),f},b.createShape=function(b,c,d,e){void 0===b&&(b=.3),void 0===e&&(e=0);var f=new egret.Shape;return f.graphics.clear(),f.graphics.beginFill(e,b),f.graphics.drawRect(0,0,c||a.Global.screenWidth,d||a.Global.screenHeight),f.graphics.endFill(),f},b.createCircle=function(a,b,c){void 0===a&&(a=.3),void 0===c&&(c=0);var d=new egret.Sprite;return d.graphics.clear(),d.graphics.beginFill(c,a),d.graphics.drawCircle(0,0,b),d.graphics.endFill(),d},b.createParticle=function(a){var b,c=RES.getRes(a+"_png"),d=RES.getRes(a+"_json");return particle&&particle.GravityParticleSystem&&(b=new particle.GravityParticleSystem(c,d)),b},b.createDragonBonesDisplay=function(b,c,d,e,f){var g=RES.getRes(b);if(d&&null!=d)var h=RES.getRes(c),i=RES.getRes(d);else var h=RES.getRes(c+"_json"),i=RES.getRes(c+"_png");a.StringUtils.stringIsNullOrEmpty(e)&&(e="armature");var j;if(dragonBones)if(egret.Capabilities.engineVersion<"5.0"){var k=new dragonBones.EgretFactory;k.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(g)),k.addTextureAtlas(new dragonBones.EgretTextureAtlas(i,h)),f?(j=k.buildFastArmature(e),j.enableAnimationCache(f)):j=k.buildArmature(e)}else dragonBones.EgretFactory.factory.parseDragonBonesData(g),dragonBones.EgretFactory.factory.parseTextureAtlasData(h,i),f?(j=k.buildFastArmature(e),j.enableAnimationCache(f)):j=dragonBones.EgretFactory.factory.buildArmature(e);return j},b.runDragonBonesArmature=function(b,c,d,e){if(void 0===e&&(e=!0),null==b)return void a.Console.error("armature不能为空");dragonBones.WorldClock.clock.add(b),e?b.animation.gotoAndPlay(c,0,-1,d,0):b.animation.gotoAndStop(c,0)},b.destoryDragonBonesArmature=function(b,c){if(null==b)return void a.Console.error("armature不能为空");dragonBones.WorldClock.clock.remove(b),b.animation.stop(),b.dispose()},b.createTextLabel=function(a,b,c,d,e,f,g,h,i,j,k,l){void 0===a&&(a=0),void 0===b&&(b="left"),void 0===c&&(c="none"),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),void 0===j&&(j=0),void 0===k&&(k=0),void 0===l&&(l=0);var m=new egret.TextField;return m.textColor=a,m.textAlign=b,m.fontFamily="微软雅黑",m.text=c,m.size=d,0!=e&&(m.width=e),0!=f&&(m.height=f),0!=g&&g!=h&&(m.strokeColor=g,m.stroke=h),m.rotation=k,0!=l&&(m.skewX=l),m.x=i,m.y=j,m},b.removeFromParent=function(a){a&&a.parent&&a.parent.removeChild(a)},b.removeAllChildren=function(a){for(;a&&a.numChildren&&a.numChildren>0;)this.removeFromParent(a.getChildAt(0))},b.catchScreen=function(a,b){var c=new egret.RenderTexture;return c.drawToTexture(a),c.toDataURL("image/png",b||new egret.Rectangle(0,0,a.width,a.height))},b.catchScreenToTex=function(a,b,c){var d=new egret.RenderTexture;return d.drawToTexture(a,b,c),d},b.lightArea=function(b,c){void 0===c&&(c=.8);var d=new egret.DisplayObjectContainer,e=a.DisplayUtils.createShape(c,a.Global.screenWidth,a.Global.screenHeight);d.addChild(e),d.addChild(b),b.blendMode=egret.BlendMode.ERASE;var f=new egret.RenderTexture;f.drawToTexture(d);var g=new egret.Bitmap;return g.texture=f,g},b.playTweenGroup=function(a,b){if(b)for(var c in a.items)a.items[c].props={loop:!0};a.play()},b.stopTweenGroup=function(a){if(a.items)for(var b in a.items)a.items[b].props={loop:!1};a.stop()},b.ticketStarted=!1,b}();a.DisplayUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a.MovieClip="MovieClip",a.ARMATURE="Armature",a}();a.DragonType=b;var c=function(){function c(){}return c.createFastDragonBones=function(a,b,c,d,e){void 0===c&&(c="armature");var f;return 0==dragonBones.hasMovieGroup(d)&&dragonBones.addMovieGroup(RES.getRes(a),RES.getRes(b),d),f=dragonBones.buildMovie(c,d),e&&f.enableAnimationCache(e),f},c.showFastDragon=function(d,e,f,g,h,i,j,k,l){void 0===d&&(d=""),void 0===e&&(e=""),void 0===f&&(f=b.MovieClip),void 0===g&&(g=0),void 0===h&&(h=0),void 0===j&&(j=0);var m;if(""!=d){if(!(m=c.createFastDragonBones(d+"_ske_dbmv",d+"_tex_png",f,d)))return;return m.x=null==g?a.Global.screenWidth-m.width>>1:g,m.y=null==h?a.Global.screenHeight-m.height>>1:h,null==i&&(i=a.SceneMgr.instance.currentScene?a.SceneMgr.instance.currentScene.effectLayer:egret.MainContext.instance.stage),k&&(m.timeScale=k),i.addChild(m),null==this.fastDragonGroup[d+"_"+i.hashCode]&&(this.fastDragonGroup[d+"_"+i.hashCode]={}),null==this.fastDragonGroup[d+"_"+i.hashCode][e]&&(this.fastDragonGroup[d+"_"+i.hashCode][e]={}),l?(null==this.fastDragonGroup[d+"_"+i.hashCode][e][l]&&(this.fastDragonGroup[d+"_"+i.hashCode][e][l]={}),this.fastDragonGroup[d+"_"+i.hashCode][e][l][m.hashCode]=m,this.fastDragonKeyGroup[l]=this.fastDragonGroup[d+"_"+i.hashCode][e]):this.fastDragonGroup[d+"_"+i.hashCode][e][m.hashCode]=m,m.play(e,j),m}},c.removeFastDragonbyContainer=function(a,b,c){for(var d in this.fastDragonGroup)d.indexOf("_"+a.hashCode)>=0&&(this.removeDragonFromDic(this.fastDragonGroup[d],b,c),b||delete this.fastDragonGroup[d])},c.removeFastDragonByDragonName=function(a,b,c){void 0===a&&(a="");for(var d in this.fastDragonGroup)d.indexOf(a+"_")>=0&&(this.removeDragonFromDic(this.fastDragonGroup[d],b,c),b||delete this.fastDragonGroup[d])},c.removeFastDragonByKey=function(b){if(this.fastDragonKeyGroup[b]&&this.fastDragonKeyGroup[b][b]){for(var c in this.fastDragonKeyGroup[b][b])this.fastDragonKeyGroup[b][b][c].stop(),a.DisplayUtils.removeFromParent(this.fastDragonKeyGroup[b][b][c]),delete this.fastDragonKeyGroup[b][b][c];delete this.fastDragonKeyGroup[b][b],this.fastDragonKeyGroup[b]=null,delete this.fastDragonKeyGroup[b]}},c.removeDragonFromDic=function(b,c,d){if(c){if(b[c])if(d){if(b[c][d])for(var e in b[c][d])b[c][d][e]&&(b[c][d]instanceof dragonBones.Movie?(b[c][d][e].stop(),a.DisplayUtils.removeFromParent(b[c][d][e]),delete b[c][d][e]):this.removeDragonFromDic(b[c],d))}else{for(var f in b[c])b[c][f]&&(b[c][f]instanceof dragonBones.Movie?(b[c][f].stop(),a.DisplayUtils.removeFromParent(b[c][f]),delete b[c][f]):this.removeDragonFromDic(b[c],f));delete b[c]}}else for(var e in b)this.removeDragonFromDic(b,e)},c.fastDragonGroup={},c.fastDragonKeyGroup={},c}();a.DragonUtils=c}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.rotationEffect=function(a,b){if(void 0===b&&(b=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[a.hashCode]){null!=this.rotationArr[a.hashCode]&&this.rotationArr[a.hashCode]||(this.rotationArr[a.hashCode]=!0);var c=function(){this.rotationArr[a.hashCode]&&null!=a&&(a.rotation=0,egret.Tween.get(a).to({rotation:360},b).call(c,this))};a.rotation=0,egret.Tween.get(a).to({rotation:360},b).call(c,this)}},b.removeRotationEffect=function(a){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[a.hashCode]=!1},b.blinkEffect=function(b,c){void 0===c&&(c=1e3),new a.BitmapBlink(b,c)},b.shakeObj=function(a){var b=80,c=a.x;egret.Tween.get(a).to({x:a.x-10},b),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x+20},b)},this,2*b),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x-20},b)},this,3*b),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x+20},b)},this,4*b),egret.setTimeout(function(){egret.Tween.get(a).to({x:c},b)},this,5*b)},b.shakeScreen=function(a,b){void 0===b&&(b=1);var c=40,d=a.x,e=a.y;1==b?(egret.Tween.get(a).to({x:a.x-10},c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x+20},c)},this,2*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x-20},c)},this,3*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x+20},c)},this,4*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:d},c)},this,5*c)):(egret.Tween.get(a).to({x:a.x-10,y:a.y},c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x+20,y:a.y},c)},this,2*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x,y:a.y+15},c)},this,3*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x,y:a.y-20},c)},this,4*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:a.x,y:a.y+10},c)},this,5*c),egret.setTimeout(function(){egret.Tween.get(a).to({x:d,y:e},c)},this,6*c))},b.showTips=function(b,c,d){switch(void 0===b&&(b=""),void 0===c&&(c=1),void 0===d&&(d=!1),c){case 1:a.TipsUtils.showTipsDownToUp(b,d);break;case 2:a.TipsUtils.showTipsLeftOrRight(b,d,!0);break;case 3:a.TipsUtils.showTipsLeftOrRight(b,d,!1);break;case 4:a.TipsUtils.showTipsFromCenter(b,d);break;case 5:a.TipsUtils.showTipsBigToSmall(b,d)}},b.playEffect=function(a,b){if(void 0===b&&(b=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var c=function(){this.isPlayEffectPlay=!1},d=function(){1==b?egret.Tween.get(a).to({scaleX:1,scaleY:1,x:a.x-a.width/4,y:a.y-a.height/4},500,egret.Ease.elasticOut).call(c,this):2==b?egret.Tween.get(a).to({scaleX:1,scaleY:1,x:a.x-a.width/4,y:a.y-a.height/4},500,egret.Ease.backOut).call(c,this):3==b&&egret.Tween.get(a).to({scaleX:1,scaleY:1,x:a.x-a.width/4,y:a.y-a.height/4},100).call(c,this)};egret.Tween.get(a).to({scaleX:.5,scaleY:.5,x:a.x+a.width/4,y:a.y+a.height/4},100,egret.Ease.sineIn).call(d,this)}},b.playScaleEffect=function(a){var b=function(){if(null!=a){var c=function(){a.scaleX=1,a.scaleY=1,egret.Tween.get(a).to({alpha:1},1e3).call(b,self)};a.alpha=1,egret.Tween.get(a).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(c,self)}};b()},b.flyObj=function(a,b,c){void 0===c&&(c=50);var d=function(){if(null!=a){var e=function(){egret.Tween.get(a).to({y:a.y-c},b).call(d,this)};egret.Tween.get(a).to({y:a.y+c},b).call(e,this)}};d()},b.rockObj=function(a,b,c){void 0===c&&(c=20);var d=function(){if(null!=a){var e=function(){egret.Tween.get(a).to({rotation:-c},b).call(d,this)};egret.Tween.get(a).to({rotation:c},b).call(e,this)}};d()},b.typerEffect=function(a,b,c){void 0===b&&(b=""),void 0===c&&(c=200);for(var d=b.split(""),e=d.length,f=0;f<e;f++)egret.setTimeout(function(){a.appendText(d[Number(this)])},f,c*f)},b.rotationArr=[],b.isPlayEffectPlay=!1,b}();a.EffectUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.dataURLtoBlob=function(b){var c,d=b.split(","),e=d[0].match(/:(.*?);/)[1];c=window.atob?atob(d[1]):a.CompressUtil.base64decode(d[1]);for(var f=c.length,g=new Uint8Array(f);f--;)g[f]=c.charCodeAt(f);return new Blob([g],{type:e})},b.upLoadFileByUrl=function(a,b,c){var d={uri:a,type:"image/png",name:"upload.png"};this.upLoadFile(d,b,c)},b.upLoadBase64File=function(a,c,d,e){var f=b.dataURLtoBlob(a);this.upLoadFile(f,c,d)},b.upLoadBase64=function(b,c,d,e){var f=new a.HttpRequest(c,c,d);f.open(this.base64FileUploadUrl,null,!0),f.send(b)},b.upLoadFile=function(b,c,d){var e=new FormData;if(b){switch(b.type){case"image/png":e.append("img",b,"image.png");break;case"image/jpg":e.append("img",b,"image.jpg");break;case"audio/amr":e.append("amr",b,"sound.amr")}var f=new a.HttpRequest(c,c,d);f.open(this.fileUploadUrl,null,!0),f.send(e)}},b.fileUploadUrl="http://image.mj.ucjoy.com:8888/form/upload",b.base64FileUploadUrl="http://image.mj.ucjoy.com:8888/upload",b}();a.FileUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.checkJsIsExist=function(b){if(1==a.Global.isH5){document.body.setAttribute("style","");for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++)if(c[d].src.indexOf(b)>-1)return!0}return!1},b.isLobbyMode=function(){return"LobbyScene"==egret.getQualifiedClassName(a.SceneMgr.instance.currentScene)},b.LoadGame=function(c,d,e,f,g,h){a.ScreenUtils.landscape&&(this.defaultDirect=a.ScreenUtils.landscape),this.lastGameInfo=e,this.lastGameInfo.candestroyGrps=[];for(var i in RES.configInstance.groupDic)this.lastGameInfo.candestroyGrps.push(i);RES.hasOwnProperty("getVersionController")&&(c=RES.getVersionController().getVirtualUrl(c));var j=function(i){f&&(e.preloadUI=f);var j=b.getGameStage(d,e);if(j){if(a.Global.initOpt&&a.Global.initOpt.lobbyResConfigUrl){b.lobbyResGrps=[];var k=a.ResUtils.getGroupDic();for(var l in k)a.Global.initOpt.lobbyCommonResGrps&&-1==a.Global.initOpt.lobbyCommonResGrps.indexOf(l)&&(RES.destroyRes(l),b.lobbyResGrps.push(l))}if(a.UIMgr.instance.clearOldSceneUis(),f&&(j.preLoadCallBack=function(){a.UIMgr.instance.hideLoading(f)}),g?g.call(h,j):a.SoundMgr.instance.stopBgMusic(),0==a.Global.isInGame){a.Global.isInGame=!0,a.SceneMgr.instance.currentScene.addGame(j);try{var m={};m.gameId=e.gameId,m.time=(new Date).getTime(),a.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,JSON.stringify(m))}catch(b){a.Console.error("设置游戏GameId失败")}}}else 0==a.Global.isH5&&egret_native.isFileExists(c)&&egret_native.deleteUpdateFile(c),console.error("找不到游戏主类:"+d),a.UIMgr.instance.hideLoading()};null==this.lbscene&&(this.lbscene=a.getQualifiedClassName(a.SceneMgr.instance.currentScene)),this.checkJsIsExist(c)?j():(f&&a.UIMgr.instance.showLoadingTimeout(f,"",0),this.LoadGameJs(c,j))},b.gameDownloaded=function(c){try{if(1==a.Global.isH5){if(null==this.gameModleLoadedDic&&(this.gameModleLoadedDic={}),1==this.gameModleLoadedDic[c])return!0}else{null==b.gameModleLoadedDic&&b.initGameLoadedDic(),RES.hasOwnProperty("getVersionController")&&(c=RES.getVersionController().getVirtualUrl(c));var d=c;if(egret_native.isFileExists(d)&&1==b.gameModleLoadedDic[d])return!0}}catch(a){return!1}return!1},b.initGameLoadedDic=function(){if(null==b.gameModleLoadedDic){var c=a.Utils.getLocalStorage("gamemodule_loaded_dic");b.gameModleLoadedDic=c&&""!=c?JSON.parse(c):{}}},b.downloadGame=function(c,d,e,f,g){var h=function(h){a.ResUtils.loadGameGroupReses(c.gameResConfigUrl,function(e){b.initGameLoadedDic();var f=c.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(f=RES.getVersionController().getVirtualUrl(f)),b.gameModleLoadedDic[f]=!0,a.Utils.setLocalStorage("gamemodule_loaded_dic",JSON.stringify(b.gameModleLoadedDic)),d&&(g?d.call(g,e):d(e))},e,f,g,c.gameResRoot)};a.ScreenUtils.landscape&&(this.defaultDirect=a.ScreenUtils.landscape);var i=c.gameCodeUrl;RES.hasOwnProperty("getVersionController")&&(i=RES.getVersionController().getVirtualUrl(i)),a.UIMgr.instance.clearOldSceneUis(),null==this.lbscene&&(this.lbscene=a.getQualifiedClassName(a.SceneMgr.instance.currentScene)),this.checkJsIsExist(i)?h():this.LoadGameJs(i,h,f,this)},b.LoadLobby=function(b,c,d,e,f,g){null==b&&(b="resource/main.min.js"),RES.hasOwnProperty("getVersionController")&&(b=RES.getVersionController().getVirtualUrl(b)),null==c&&(c="AppMain");var h=function(b){var e=egret.getDefinitionByName(c);e&&a.SceneMgr.instance.changeScene(e,d)};this.checkJsIsExist(b)?h():(e&&a.UIMgr.instance.showLoadingTimeout(e,"",0),this.LoadGameJs(b,h))},b.ExitGame=function(c){var d=this;if(void 0===c&&(c=!0),1==a.Global.lobbyMode){a.Global.gameId=a.Global.lobbyGameId,a.Global.isInGame=!1,a.NetMgr.http=null,a.NetMgr.closeSocket(),c&&(a.SoundMgr.instance.stopSounds(),a.SoundMgr.instance.stopBgMusic()),a.ScreenUtils.landscape&&this.defaultDirect!=a.ScreenUtils.landscape&&(a.ScreenUtils.landscape=!a.ScreenUtils.landscape);var e=function(){d.removeGameJs(),egret.Capabilities.engineVersion>="5.0"&&dragonBones&&(dragonBones.removeAllMovieGroup(),dragonBones.EgretFactory.factory.clear());try{a.Global.reloadDefine&&a.Global.reloadDefine.length>0&&a.BrowersUtils.LoadJses(a.Global.reloadDefine)}catch(a){console.log("重加载公共资源失败！")}if(a.SceneMgr.instance.currentScene.removeGame)a.SceneMgr.instance.currentScene.removeGame(),a.SceneMgr.instance.currentScene.uiLayer.visible=!0;else{var b=a.getDefinitionByName(d.lbscene);a.SceneMgr.instance.changeScene(b)}a.delDefinitionByName("Cmd"),a.UIMgr.instance.clearOldSceneUis(),a.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),a.Global.dispatchEvent(a.ZqEvent.UPDATE_USER_INFO),a.Global.dispatchEvent(a.ZqEvent.CHECK_VERSION_UPDATE),a.DebugView.Instance.show()};if(this.lastGameInfo&&RES.configInstance.groupDic){var f=[];for(var g in RES.configInstance.groupDic)-1==this.lastGameInfo.candestroyGrps.indexOf(g)&&f.push(g)}if(b.lobbyResGrps&&b.lobbyResGrps.length>0){if(f&&f.length>0){for(var h=0;h<f.length;h++)RES.destroyRes(f[h]),a.ResUtils.removeGroup(f[h]);a.ResUtils.clearResConfigByGroupName(f)}a.ResLoadMgr.instance.loadGrps(b.lobbyResGrps,e)}else e()}},b.reloadGame=function(b,c,d,e,f,g){1==a.Global.lobbyMode&&(a.Global.gameId=a.Global.lobbyGameId,a.Global.isInGame=!1,a.NetMgr.http=null,a.NetMgr.closeSocket(),a.ScreenUtils.landscape&&this.defaultDirect!=a.ScreenUtils.landscape&&(a.ScreenUtils.landscape=!a.ScreenUtils.landscape),a.SoundMgr.instance.stopSounds(),a.SoundMgr.instance.stopBgMusic(),a.SceneMgr.instance.currentScene.removeGame?(a.SceneMgr.instance.currentScene.removeGame(),a.SceneMgr.instance.currentScene.uiLayer.visible=!0):a.SceneMgr.instance.changeScene(a.LobbyScene),a.delDefinitionByName("Cmd"),this.removeGameJs(),a.UIMgr.instance.clearOldSceneUis(),a.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),a.Global.dispatchEvent(a.ZqEvent.UPDATE_USER_INFO),a.Global.dispatchEvent(a.ZqEvent.CHECK_VERSION_UPDATE),this.LoadGame(b,c,d,e,f,g))},Object.defineProperty(b,"lastGame",{get:function(){return 0},enumerable:!0,configurable:!0}),b.LoadGameJs=function(b,c,d,e){a.BrowersUtils.LoadJS("lobbygame",b,c,d,e)},b.getGameStage=function(a,b){var c=egret.getDefinitionByName(a);if(c)return new c(b)},b.removeGameJs=function(){if(1==a.Global.isH5){var b=document.getElementById("lobbygame"),c=document.getElementsByTagName("HEAD").item(0);b&&c.removeChild(b)}},b.egretLoaded=function(){var a=document.getElementById("loading");document.body.removeChild(a)},b}();a.GameModuleUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.selectImage=function(b,c){if(a.BrowersUtils.isWechat())this.selectImageWX(b,c);else{this.selectedHandler=b,this.thisRef=c;var d=document.getElementById("fileInput");null==d&&(d=document.createElement("input"),d.id="fileInput",d.type="file",d.accept="image/*",d.style.height="0px",d.style.display="block",d.style.overflow="hidden",document.body.insertBefore(d,document.body.firstChild),d.addEventListener("change",this.tmpSelectFile,!1)),setTimeout(function(){d.click()},100)}},b.selectImageWX=function(a,b){this.selectedHandler=a,this.thisRef=b,wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){var b=a.localIds;this.tmpCreateImage(b[0])}})},b.tmpSelectFile=function(a){var c=a.target.files[0],d=c.type;d||(d=b.mime[c.name.match(/\.([^\.]+)$/i)[1]]);var e=b.myCreateObjectURL(c);b.tmpCreateImage&&b.tmpCreateImage(e,c),document.getElementById("fileInput").value=""},b.tmpCreateImage=function(b,c){var d=this,e=new Image;e.onload=function(){var f=document.createElement("canvas");if(!a.BrowersUtils.isWechat()&&e.height>d.MAX_HEIGHT){e.width*=d.MAX_HEIGHT/e.height,e.height=d.MAX_HEIGHT;var g=f.getContext("2d");g.clearRect(0,0,f.width,f.height),f.width=e.width,f.height=e.height,g.drawImage(e,0,0,e.width,e.height);var h=f.toDataURL("image/png")}else h=b;if(e.width=e.height=1,d.selectedHandler){var i=new a.ZQGameObj;i.cmd=a.ZQGameSdk.PICKPHOTO,i.code=0,i.data={},i.data.imgBase64=h,i.data.imgLen=h.length,i.data.file=c,d.selectedHandler.call(d.thisRef,i)}},e.src=b,e.style.visibility="hidden",document.body.appendChild(e)},b.myCreateObjectURL=function(a){return void 0!=window.URL?window.URL.createObjectURL(a):window.webkitURL.createObjectURL(a)},b.myResolveObjectURL=function(a){void 0!=window.URL?window.URL.revokeObjectURL(a):window.webkitURL.revokeObjectURL(a)},b.getImageData=function(a,b,c){function d(){this.bytesHandler&&this.bytesHandler(this.thisRef,this.result)}this.bytesHandler=b,this.thisRef=c;try{var e=new FileReader}catch(a){console.log("no support FileReader")}e.onload=d,e.readAsArrayBuffer(a)},b.mime={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp"},b.MAX_HEIGHT=300,b}();a.H5Upload=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a.randomInt=function(a,b){if(0>=b-a)return 0;var c=b-a;return Math.floor(Math.random()*c)+a},a.inRange=function(a,b,c){return b<=a&&a<=c},a.div=function(a,b){return Math.floor(a/b)},a.getZeroTimeStamp=function(){var a=new Date,b=a.getUTCFullYear()+"/"+(a.getUTCMonth()+1)+"/"+a.getUTCDate();return new Date(b).getTime()/1e3},a.getTimeStamp=function(){var a=(new Date).getTime()/1e3;return parseInt(a.toString())},a.getAngle=function(a,b,c,d){var e=c-a,f=d-b,g=Math.sqrt(Math.pow(e,2)+Math.pow(f,2)),h=e/g,i=Math.acos(h),j=180/(Math.PI/i);return f<0?j=-j:0==f&&e<0&&(j=180),j},a.getCurrencyUnitByLen=function(a){var b="";switch(a){case 2:b="百";break;case 3:b="千";break;case 4:b="万";break;case 5:b="十万";break;case 6:b="百万";break;case 7:b="千万";break;case 8:b="亿";break;case 9:b="十亿";break;case 10:b="百亿";break;case 11:b="千亿";break;case 12:b="兆"}return b},a}();a.NumberUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.resetSoundLoadTimes=function(){for(var a in this._resRequestSoundLoadTimes)this._resRequestSoundLoadTimes[a]=null,delete this._resRequestSoundLoadTimes[a]},b.setMustRes=function(b){try{this._mustResList=[];for(var c in b){var d=b[c];d&&d.resName&&-1==this._mustResList.indexOf(d.resName)&&this._mustResList.push(d.resName)}}catch(b){a.Console.warn("setMustRes:必须资源列表出错,请检查必须资源列表格式")}},b.init=function(){0==this.inited&&(this.inited=!0,RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),"undefined"!=typeof dragonBones&&egret.startTick(this.onDragonBonesTick,egret.MainContext.instance.stage))},b.onDragonBonesTick=function(a){return"undefined"!=typeof dragonBones&&(dragonBones.WorldClock.clock.advanceTime(-1),!0)},b.onItemLoadError=function(b){this._mustResList.indexOf(b.resItem.name)>=0&&a.Utils.restart(b.resItem.name+"资源加载失败,请重新启动游戏","确定")},b.getRes=function(b,c,d,e){function f(a){if(i._needLoadDicCallBack[b]){for(;i._needLoadDicCallBack[b].length>0;){var e=i._needLoadDicCallBack[b].shift();e[0].call(e[1],a,b)}delete i._needLoadDicCallBack[b]}else null!=d?c.call(d,a,b):c&&c(a,b);if(-1!=i._loadingDic.indexOf(b)&&(i._asynLoadLevel--,i._loadingDic.splice(i._loadingDic.indexOf(b),1)),i._needloadDic.length>0&&this._asynLoadLevel<this.MAX_LOAD_LEVEL){var g=i._needloadDic.shift();i.getRes(g,f,i)}}function g(a){i._resRequestSoundLoadTimes[b]=0;var d=a.target;d.removeEventListener(egret.Event.COMPLETE,g,i),d.removeEventListener(egret.IOErrorEvent.IO_ERROR,h,i);var e=d.data;c&&c(e,b)}function h(c){var d=c.target;if(d.removeEventListener(egret.Event.COMPLETE,g,i),d.removeEventListener(egret.IOErrorEvent.IO_ERROR,h,i),a.Console.error("加载资源失败："+b),null!=i._resRequestSoundLoadTimes[b]&&i._resRequestSoundLoadTimes[b]>0){i._resRequestSoundLoadTimes[b]--;var e=new egret.URLLoader;e.dataFormat=egret.URLLoaderDataFormat.SOUND,e.once(egret.Event.COMPLETE,g,i),e.once(egret.IOErrorEvent.IO_ERROR,h,i);var f=RES.configInstance,j=f.getResourceItem(b),k=RES.getVersionController().getVirtualUrl(j.url),l=new egret.URLRequest(k);e.load(l)}}var i=this;if(e==egret.URLLoaderDataFormat.SOUND){if(null!=this._resRequestSoundLoadTimes[b])return 0==this._resRequestSoundLoadTimes[b]?void 0:void this._resRequestSoundLoadTimes[b]++;this._resRequestSoundLoadTimes[b]=1;var j=new egret.URLLoader;j.dataFormat=egret.URLLoaderDataFormat.SOUND,j.once(egret.Event.COMPLETE,g,i),j.once(egret.IOErrorEvent.IO_ERROR,h,i);var k=RES.configInstance,l=k.getResourceItem(b);if(null!=l){var m=RES.getVersionController().getVirtualUrl(l.url),n=new egret.URLRequest(m);j.load(n)}else a.Console.error("找不到将要加载的资源："+b+"\t"+m)}else if(RES.hasRes(b)){var o=RES.getRes(b);if(o)f(o);else{if(this._loadingDic.indexOf(b)>=0){var p=[c,d];return null==this._needLoadDicCallBack[b]&&(this._needLoadDicCallBack[b]=[]),void this._needLoadDicCallBack[b].push(p)}if(this._asynLoadLevel<this.MAX_LOAD_LEVEL)this._loadingDic.push(b),this._asynLoadLevel++,RES.getResAsync(b,f,this);else{var p=[c,d];-1==this._needloadDic.indexOf(b)&&this._needloadDic.push(b),null==this._needLoadDicCallBack[b]&&(this._needLoadDicCallBack[b]=[]),this._needLoadDicCallBack[b].push(p)}}}else RES.getResByUrl(b,f,this)},b.clearResConfigByConfigName=function(a){var b=RES.configInstance;for(var c in b.groupDic){var d=b.groupDic[c];for(var e in d)a.indexOf(e)>=0&&b.keyMap[d[e].name]&&(d[e].name=null,delete d[e].name);b.groupDic[c]=null,delete b.groupDic[c]}},b.clearCfgByConfigName=function(a,b){for(var c=[],d=0;d<b.groups.length;d++)a.indexOf(b.groups[d].name)>=0&&(c=c.concat(b.groups[d].keys.split(",")),b.groups.splice(d,1));for(var d=0;d<b.resources.length;d++){var e=b.resources[d];c.indexOf(e.name)>=0&&b.resources.splice(d,1)}return b},b.clearResConfigByGroupName=function(a){for(var b=RES.configInstance,c=0;c<a.length;c++){for(var d=RES.getGroupByName(a[c]),e=0;e<d.length;e++)d[e].loaded=!1,b.keyMap[d[e].name]=null,delete b.keyMap[d[e].name];b.groupDic[a[c]]&&(b.groupDic[a[c]]=null,delete b.groupDic[a[c]])}},b.getBmp=function(a,b,c,d){void 0===d&&(d=!0);var e;return d&&(e=this.resPool.active("bm_"+a)),null==e.texture&&this.getRes(a,function(a){e.texture=a,b&&b.call(c,e)}),e},b.freeBmp=function(a,b){this.resPool.free(a,"bm_"+b)},b.getMovieClip=function(a,b,c,d,e){function f(e,f){if(++g==h.length){var i=new egret.MovieClipDataFactory(RES.getRes(a+"_json"),RES.getRes(a+"_png")),j=new egret.MovieClip(i.generateMovieClipData(b));return void c.call(d,j)}}void 0===e&&(e=!1);var g=0;null==b&&(b="");var h=[a+"_json",a+"_png"];for(var i in h)this.getRes(h[i],f,this)},b.freeMovieClip=function(a,b,c){},b.getParticle=function(a,b,c,d){function e(b,e){if(++f==g.length){var h,i=RES.getRes(a),j=RES.getRes(a+"_json");return h=new particle.GravityParticleSystem(i,j),void c.call(d,h)}}var f=0;null==b&&(b="");var g=[a+"_json",a];for(var h in g)this.getRes(g[h],e,this)},b.loadResConfig=function(a){},b.loadGameGroupReses=function(d,e,f,g,h,i){void 0===i&&(i="resource/");var j=[],k=this,l=function(a){if(a.groupName==d){k.loadedConfig[d].status=c.LOADED,b.removeGroup(d);for(var i=0;i<o.length;i++){b.getGroupDic(o[i])&&RES.destroyRes(o[i])}k.clearResConfigByGroupName(o),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,l,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,f,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,g,this),e.call(h,a)}},m=function(a){a.groupName==d&&f&&f.call(h,a)},n=function(a){a.groupName==d&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,l,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,f,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,g,this),g&&g.call(h,a))},o=[],p=function(c){if(c&&c.groups&&c.groups.length>0){for(var e=0;e<c.groups.length;e++)j.push(c.groups[e].name),0==b.isGroupInConfig(c.groups[e].name)&&o.push(c.groups[e].name);a.Global.initOpt.lobbyCommonResGrps&&a.Global.initOpt.lobbyCommonResGrps.length>0&&b.clearCfgByConfigName(a.Global.initOpt.lobbyCommonResGrps,c),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(c,i),RES.destroyRes(d),RES.createGroup(d,j),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,l,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,m,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,n,this),RES.loadGroup(d)}else this.loadedConfig[d]&&(this.loadedConfig[d]=null,delete this.loadedConfig[d]),g&&g.call(h,c)};null==this.loadedConfig[d]?(this.loadedConfig[d]={},this.loadedConfig[d].status=c.LOADDING,this.getRes(d,p,this)):this.loadedConfig[d].status==c.LOADED&&e.call(h)},b.removeGroup=function(a){var c=b.getGroupDic();c&&(c[a]?(c[a]=null,delete c[a]):c[a]&&(c[a]=null,delete c[a]))},b.isGroupInConfig=function(a){return!!b.getGroupDic(a)},b.getGroupDic=function(a){var b,c=RES.configInstance;return c&&(c.groupDic&&c.groupDic?b=a?c.groupDic[a]:c.groupDic:c.config&&c.config.groups&&(b=a?c.config.groups[a]:c.config.groups)),b},b.getObjFactoryGroup=function(b){return null==this.objfactorys[b]&&(this.objfactorys[b]=new a.ObjectFactoryGroup[b]),this.objfactorys[b]},b.MAX_LOAD_LEVEL=1,b._asynLoadLevel=0,b._loadingDic=[],b._needloadDic=[],b._needLoadDicCallBack={},b._resRequestSoundLoadTimes={},b.resPool=new a.ObjectFactoryGroup(egret.Bitmap),b._mustResList=[],b.inited=!1,b.loadedConfig={},b.objfactorys=[],b}();a.ResUtils=b,function(a){a[a.LOADDING=0]="LOADDING",a[a.LOADED=1]="LOADED"}(a.GROUP_LOAD_STATUS||(a.GROUP_LOAD_STATUS={}));var c=a.GROUP_LOAD_STATUS}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.init=function(c){this.scaleMode=c,a.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,a.Global.screenHeight=egret.MainContext.instance.stage.stageHeight,egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.onResizeNotify,this),this.resetScaleMode(),this.scaleFactor=a.Global.screenHeight/a.Global.designHeight,global||egret&&"true"!=a.BrowersUtils.GetRequest("debug")&&(egret.MainContext.instance.stage.addEventListener(egret.Event.DEACTIVATE,b.onDeactive,a.Global),egret.MainContext.instance.stage.addEventListener(egret.Event.ACTIVATE,b.onActive,a.Global))},b.onDeactive=function(b){0!=a.Global.isActive&&(a.Global.isActive=!1,egret.Tween.pauseTweens(egret.MainContext.instance.stage),a.SoundMgr.instance.onDeActive(b))},b.onActive=function(b){1!=a.Global.isActive&&(a.Global.isActive=!0,egret.Tween.resumeTweens(egret.MainContext.instance.stage),a.SoundMgr.instance.onActive(b))},b.onResizeNotify=function(){1==a.Global.isH5?(a.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,a.Global.screenHeight=egret.MainContext.instance.stage.stageHeight):1==this._landscape?(a.Global.screenWidth=egret.MainContext.instance.stage.stageHeight,a.Global.screenHeight=egret.MainContext.instance.stage.stageWidth):(a.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,a.Global.screenHeight=egret.MainContext.instance.stage.stageHeight),this.scaleFactor=a.Global.screenHeight/a.Global.designHeight,a.SceneMgr.instance.currentScene&&a.SceneMgr.instance.currentScene.resize(),a.PopUpMgr.resize(),a.DebugView.Instance.resize()},b.resetScaleMode=function(){this.scaleMode?egret.MainContext.instance.stage.scaleMode=this.scaleMode:egret.Capabilities.isMobile?egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH:egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.SHOW_ALL},Object.defineProperty(b,"landscape",{get:function(){return this._landscape},set:function(b){if(this._landscape=b,1==a.Global.isH5)1==this._landscape?(egret.MainContext.instance.stage.orientation=egret.OrientationMode.LANDSCAPE,egret.MainContext.instance.stage.setContentSize(a.Global.designHeight,a.Global.designWidth)):(egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO,egret.MainContext.instance.stage.setContentSize(a.Global.designWidth,a.Global.designHeight));else if(1==this._landscape){var c=0,d=0;if(a.Global.screenWidth<a.Global.screenHeight){c=a.Global.screenWidth/a.Global.designWidth,d=(a.Global.screenHeight-c*a.Global.designHeight)/2;var e=a.Global.screenWidth;a.Global.screenWidth=a.Global.screenHeight,a.Global.screenHeight=e}else c=a.Global.screenHeight/a.Global.designWidth,d=(a.Global.screenWidth-c*a.Global.designHeight)/2;a.SceneMgr.instance.currentScene.x=a.Global.designWidth,a.SceneMgr.instance.currentScene.y=d,a.SceneMgr.instance.currentScene.rotation=90}else{var e=a.Global.screenWidth;a.Global.screenWidth=a.Global.screenHeight,a.Global.screenHeight=e,a.SceneMgr.instance.currentScene.rotation=0,a.SceneMgr.instance.currentScene.x=0,a.SceneMgr.instance.currentScene.y=0}this.onResizeNotify()},enumerable:!0,configurable:!0}),b.scaleFactor=1,b}();a.ScreenUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.stringIsNullOrEmpty=function(a){return null==a||0==a.length},b.MD5=function(a){return(new md5).hex_md5(a)},b.ltrim=function(a){return a.replace(/(^\s*)/g,"")},b.rtrim=function(a){return a.replace(/(\s*$)/g,"")},b.trim=function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},b.sTrim=function(a){return a.replace(/\s/g,"")},b.checkPhone=function(a){return!!/^1[34578]\d{9}$/.test(a)},b.checkEmail=function(a){return!!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(a)},b.getPosition=function(a,b,c){void 0===c&&(c=1);for(var d=new RegExp(b,"g");c--;)d.test(a);var e=d.lastIndex-b.length;return e<0?null:e},b.formatCurrency=function(a,b,c,d){void 0===c&&(c=!1),void 0===d&&(d=5);var e="";isNaN(a)&&(a=0);var f=a+"";null!=b&&"万"==b&&(d?d<5&&(d=5):d=5,f.length>=d?f=f.slice(0,f.length-4):b="");var g=f.split("."),h=!1,i="",j=f;if(g.length>=2&&(h=!0,i=g[1],j=g[0]),1==c){for(var k="",l=j.length,m=Math.ceil(l/3),n=1;n<=m;n++){var o=l-3*n;o<0&&(o=0);var p=l-3*n+3;k=j.substring(o,p)+(1==c?",":"")+k}k=k.substr(0,k.length-1)}else k=j;var q="";return q=h?""+e+k+"."+i:""+e+k,null!=b&&(q+=b),q},b.ip2int=function(a){var b=0;return a=a.split("."),b=256*Number(a[0])*256*256+256*Number(a[1])*256+256*Number(a[2])+Number(a[3]),b>>>=0},b.int2ip=function(a){var b=new Array;return b[0]=a>>>24>>>0,b[1]=a<<8>>>24>>>0,b[2]=a<<16>>>24,b[3]=a<<24>>>24,String(b[0])+"."+String(b[1])+"."+String(b[2])+"."+String(b[3])},b.formatCurrencyToUnit=function(b,c,d){void 0===c&&(c=4),void 0===d&&(d=!0);var e,f="";c<4&&(c=4);var g=b.toString().split("."),h="";if(g.length>=2&&(!0,g[1]),h=g[0],h.length>c&&(e=h.length-c),e>=c&&(h=h.replace(h.substr(c,h.length),""),f=a.NumberUtils.getCurrencyUnitByLen(e)),h.length>=4&&1==d){for(var i="",j=h.length,k=Math.ceil(j/3),l=1;l<=k;l++){var m=j-3*l;m<0&&(m=0);var n=j-3*l+3;i=h.substring(m,n)+(1==d?",":"")+i}i=i.substr(0,i.length-1)}else i=h;return i+f},b.formatCurrencyByTotalLen=function(a,b,c){void 0===b&&(b=!1),void 0===c&&(c=8),c<5&&(c=5);var d="";isNaN(a)&&(a=0);var e=Number(a)+"",f="";e.length>=c?e.length-4>=c?(e=e.slice(0,e.length-8),f="亿"):(e=e.slice(0,e.length-4),f="万"):f="";var g=e.split("."),h=!1,i="",j=e;if(g.length>=2&&(h=!0,i=g[1],j=g[0]),1==b){for(var k="",l=j.length,m=Math.ceil(l/3),n=1;n<=m;n++){var o=l-3*n;o<0&&(o=0);var p=l-3*n+3;k=j.substring(o,p)+(1==b?",":"")+k}k=k.substr(0,k.length-1)}else k=j;var q="";return q=h?""+d+k+"."+i:""+d+k,null!=f&&(q+=f),q},b.formatCurrencyNomal=function(a){if(a.indexOf("万")>=0&&(a=a.slice(0,a.length-1),a+="0000"),a.indexOf(",")>=0){var b=a.split(",");a="";for(var c=0;c<b.length;c++)a+=b[c]}return a},b.formatMMSS=function(a){var b=Math.floor(a/60)+"",c=a%60+"";return b.length<2&&(b="0"+b),c.length<2&&(c="0"+c),b+":"+c},b.formatHHMMSS=function(a,b){void 0===b&&(b=":");var c=Math.floor(a/60/60)+"",d=Math.floor(a/60)-60*parseInt(c)+"",e=a%60+"";return c.length<2&&(c="0"+c),d.length<2&&(d="0"+d),e.length<2&&(e="0"+e),c+b+d+b+e},b.formatDDHHMMSS=function(a,b){void 0===b&&(b=":");var c=a,d="",e="",f="",g="";return d=Math.floor(c/60/60/24)+"",c-=24*parseInt(d)*60*60,c>0&&(e=Number(c/60/60)+""),c-=60*parseInt(e)*60,c>0&&(f=Math.floor(c/60)+""),c-=60*parseInt(f),c>0&&(g=a%60+""),d.length<2&&(d="0"+d),e.length<2&&(e="0"+e),f.length<2&&(f="0"+f),g.length<2&&(g="0"+g),"天"==b?d+"天"+e+"时"+f+"分"+g:d+b+e+b+f+b+g},b.getVariables=function(a){for(var b=a.split("="),c={},d=0;d<b.length;)c[b[d]]=b[d+1],d+=2;return c},b.prototype.getStrRealLngth=function(a){var b=a.length,c=0;if(b){for(var d=0;d<b;d++)a.charCodeAt(d)>255?c+=2:c+=1;return c}return 0},b}();a.StringUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(a,b,c,d){void 0===d&&(d=0),this.loopLimit=0,this.last=0,this.jumped=0,this.isStart=!1,this.begin=0,this.maxRandNum=30,this.delay=a,this.callFun=b,this._thisObj=c,this.loopLimit=d}return a.prototype.stop=function(){-1!=a.timerlists.indexOf(this)&&(this.isStart=!1,a.timerlists.splice(a.timerlists.indexOf(this),1))},a.prototype.start=function(b){void 0===b&&(b=30),null==a.timer&&(a.timerNumber=0,a.timer=new egret.Timer(10),a.timer.addEventListener(egret.TimerEvent.TIMER,a.timerHandler,a),a.timer.start()),this.maxRandNum=b,this.isStart=!0,this.current=this.delay,this.last=egret.getTimer(),this.begin=this.last,this.jumped=0,a.timerlists.push(this)},a.prototype.remain=function(){return this.current},a.prototype.needRender=function(){return this.isStart?(this.current=this.current-(egret.getTimer()-this.last),this.last=egret.getTimer(),(this.last-this.begin)/this.delay-this.jumped):0},a.prototype.excute=function(){this.jumped++,0!=this.loopLimit&&this.jumped>this.loopLimit&&this.stop(),this.current=this.delay,this.callFun.call(this._thisObj)},a.timerHandler=function(){for(var b,c=0,d=0,e=0;e<a.timerlists.length;)for(b=a.timerlists[e],e++,c=b.needRender(),c>b.maxRandNum&&(c=b.maxRandNum),d=0;d<c;)d++,b.excute()},a.TIMERBASE_DELAY=10,a.timerNumber=0,a.timerlists=[],a}();a.TimerBase=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.showTipsDownToUp=function(b,c){void 0===b&&(b=""),void 0===c&&(c=!1);var d;"string"==typeof b?(d=new egret.TextField,d.size=24,d.textColor=c?a.Global.TextColors.red:a.Global.TextColors.green,d.alpha=0,d.text=b,d.strokeColor=0,d.stroke=2,d.bold=!0,d.textAlign=egret.HorizontalAlign.CENTER):d=b,d.y=egret.MainContext.instance.stage.stageHeight/2,d.x=egret.MainContext.instance.stage.stageWidth/2-d.width/2,null!=a.SceneMgr.instance.currentScene&&null!=a.SceneMgr.instance.currentScene.tipsLayer?a.SceneMgr.instance.currentScene.tipsLayer.contains(d)||a.SceneMgr.instance.currentScene.tipsLayer.addChild(d):egret.MainContext.instance.stage.addChild(d);var e=function(){a.DisplayUtils.removeFromParent(d),d=null},f=function(){egret.Tween.get(d).to({y:d.y-50,alpha:0},500).call(e,this)};d.visible=!0,egret.Tween.get(d).to({y:d.y-120,alpha:1},800,egret.Ease.backOut).wait(2e3).call(f,this)},b.showTipsLeftOrRight=function(b,c,d){void 0===b&&(b=""),void 0===c&&(c=!1),void 0===d&&(d=!0);var e;"string"==typeof b?(e=new egret.TextField,e.size=24,e.textColor=c?a.Global.TextColors.red:a.Global.TextColors.green,e.alpha=0,e.text=b,e.strokeColor=0,e.stroke=2,e.bold=!0,e.textAlign=egret.HorizontalAlign.CENTER):e=b,e.x=d?-e.width:a.Global.screenWidth,e.y=a.Global.screenHeight/2,a.SceneMgr.instance.currentScene.tipsLayer.contains(e)||a.SceneMgr.instance.currentScene.tipsLayer.addChild(e),d?egret.Tween.get(e).to({x:a.Global.screenWidth/2-e.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(e).to({x:a.Global.screenHeight/2-e.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){d?egret.Tween.get(e).to({x:e.x+100},500):egret.Tween.get(e).to({x:e.x-100},500)},this,300),egret.setTimeout(function(){d?egret.Tween.get(e).to({x:a.Global.screenWidth},300,egret.Ease.sineIn):egret.Tween.get(e).to({x:-e.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){a.SceneMgr.instance.currentScene.tipsLayer.contains(e)&&(a.SceneMgr.instance.currentScene.tipsLayer.removeChild(e),e=null)},this,1100)},b.showTipsFromCenter=function(b,c){void 0===b&&(b=""),void 0===c&&(c=!1);var d;"string"==typeof b?(d=new egret.TextField,d.size=24,d.textColor=c?a.Global.TextColors.red:a.Global.TextColors.green,d.alpha=0,d.text=b,d.strokeColor=0,d.stroke=2,d.bold=!0,d.textAlign=egret.HorizontalAlign.CENTER):d=b,d.y=a.Global.screenHeight/2,d.scaleX=0,d.scaleY=0,d.anchorOffsetX=d.width>>1,d.anchorOffsetY=d.height>>1,d.x=a.Global.screenWidth/2,a.SceneMgr.instance.currentScene.tipsLayer.contains(d)||a.SceneMgr.instance.currentScene.tipsLayer.addChild(d);var e=function(){a.SceneMgr.instance.currentScene.tipsLayer.contains(d)&&(a.SceneMgr.instance.currentScene.tipsLayer.removeChild(d),d=null)};egret.Tween.get(d).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(d).to({alpha:0},500).call(e,this)},this,1e3)},b.showTipsBigToSmall=function(b,c){void 0===b&&(b=""),void 0===c&&(c=!1);var d;"string"==typeof b?(d=new egret.TextField,d.size=24,d.textColor=c?a.Global.TextColors.red:a.Global.TextColors.green,d.alpha=0,d.text=b,d.strokeColor=0,d.stroke=2,d.bold=!0,d.textAlign=egret.HorizontalAlign.CENTER):d=b,d.y=a.Global.screenHeight/2,d.anchorOffsetX=d.width>>1,d.anchorOffsetY=d.height>>1,d.scaleX=4,d.scaleY=4,d.x=a.Global.screenWidth/2,a.SceneMgr.instance.currentScene.tipsLayer.contains(d)||a.SceneMgr.instance.currentScene.tipsLayer.addChild(d);var e=function(){a.SceneMgr.instance.currentScene.tipsLayer.contains(d)&&(a.SceneMgr.instance.currentScene.tipsLayer.removeChild(d),d=null)};egret.Tween.get(d).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(d).to({alpha:0},500).call(e,this)},this,1e3)},b}();a.TipsUtils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function b(){}return b.setLocalStorage=function(b,c){a.Global.nativeStorage?a.Global.nativeStorage.save({key:b,id:b,rawData:c,expires:null}):window.localStorage?localStorage.setItem(b,c):window.document&&window.document.cookie?a.BrowersUtils.setCookie(b,c):egret&&egret.localStorage.setItem(b,c)},b.getLocalStorage=function(b,c){var d;if(a.Global.nativeStorage)a.Global.nativeStorage.load({key:b,id:b,autoSync:!0,syncInBackground:!0}).then(function(a){c(a)}).catch(function(a){c(null)});else if(window.localStorage){if(d=localStorage.getItem(b),null!=d&&(d=decodeURIComponent(d)),!c)return d;c(d)}else if(window.document&&window.document.cookie){if(d=a.BrowersUtils.getCookie(b),null!=d&&(d=decodeURIComponent(d)),!c)return d;c(d)}else if(egret){if(d=egret.localStorage.getItem(b),null!=d&&(d=decodeURIComponent(d)),!c)return d;c(d)}else{if(!c)return null;c(null)}},b.clearLocalStorage=function(b){try{if(1==a.Global.lobbyMode&&1==a.Global.isInGame)return;b?a.Global.nativeStorage?a.Global.nativeStorage.remove({key:b}):window.localStorage?localStorage.removeItem(b):window.document&&window.document.cookie?a.BrowersUtils.delCookie(b):egret&&egret.localStorage.removeItem(b):a.Global.nativeStorage?a.Global.nativeStorage.clearMap():window.localStorage?localStorage.clear():window.document&&window.document.cookie?a.BrowersUtils.delCookie():egret&&egret.localStorage.clear()}catch(a){}},b.sortJson=function(a){if("object"!=typeof a||null===a)return a;var c=Array.isArray(a)?[]:{};return Object.keys(a).sort().forEach(function(d){c[d]=b.sortJson(a[d])}),c},b.isIOS=function(){return 0==a.Global.isH5&&"iOS"==egret.Capabilities.os},b.isAndroid=function(){return 0==a.Global.isH5&&"Android"==egret.Capabilities.os},b.restart=function(b,c,d){var e=this,f=e.isrebooting;if(e.isrebooting=!0,1==a.Global.isH5){1==confirm(b)?""!=a.Global.reLoginUrl?a.BrowersUtils.redirect(a.Global.reLoginUrl):a.BrowersUtils.reload():(e.isrebooting=!1,alert("取消重启"))}else f||a.Global.dispatchEvent(a.ZqEvent.ON_RESTART,[b,c,d])},b.getCachedPlatInfo=function(b,c,d,e){void 0===d&&(d=0),a.Global.platId=d,a.Global.gameId=c,a.Global.getPlatToken(b,e)},b.getUrlQrCode=function(a,b,c){var d;this.getShortUrl(a,function(a){d="http://qr.liantu.com/api.php?text="+a,b(d)})},b.getShortUrl=function(b,c){var d=new a.HttpRequest(function(a){c&&0==a.status&&c(a.tinyurl)});d.open("http://dwz.cn/create.php"),d.send("url="+b)},b.getDistance=function(a,b,c,d){if(Math.abs(a)>90||Math.abs(c)>90)return 0;if(Math.abs(b)>180||Math.abs(d)>180)return 0;var e=this.rad(a),f=this.rad(c),g=e-f,h=this.rad(b)-this.rad(d),i=2*Math.asin(Math.sqrt(Math.pow(Math.sin(g/2),2)+Math.cos(e)*Math.cos(f)*Math.pow(Math.sin(h/2),2)));return i*=this.EARTH_RADIUS,i=Math.round(1e4*i)/1e4},b.rad=function(a){return a*Math.PI/180},b.isrebooting=!1,b.EARTH_RADIUS=6378137,b}();a.Utils=b}(uniLib||(uniLib={}));var uniLib;!function(a){var b=function(){function a(){}return a}();a.Location=b;var c=function(){function a(){}return a}();a.QQGroupInfo=c;var d=function(){function c(){}return c.init=function(b,d){if(1!=this.isInited){this.isInited=!0;egret.ExternalInterface.addCallback(c.SENDTOJS,function(a){c.onNativeMessage(a)}),b&&(this._callBacks[this.INIT]=[b,d]);var f=new e;f.cmd=c.INIT,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f)),this.wxinit(),a.Global.addEventListener(a.ZqEvent.ON_RESTART,this.onRestart,this),a.Global.isH5&&b&&b.call(d)}},c.onRestart=function(a){var b,c,d,e=a.param;e[0]&&(b=e[0]),e[1]&&(c=e[1]),e[2]&&(d=e[2]),this.restart(b,c,d)},c.onNativeMessage=function(b){var d=JSON.parse(b);if(d.cmd)if(console.error("call func Name:"+d.cmd),d.cmd==this.CALL_STATE&&("callDisconnected"==d.data.callState?this._callState=j.DISCONNECTED:this._callState=j.CONNECTED),d.cmd==this.LOCATIONINFO&&0==d.code&&d.data&&(c.location.lng=Number(d.data.longitude),c.location.lat=Number(d.data.latitude)),d.cmd==this.RECORD_STOP&&(d.data&&d.data.voiceDuration?(a.SoundMgr.instance.pauseBgMusic(),a.SoundMgr.instance.soundPause=!0,setTimeout(function(){a.SoundMgr.instance.resumeBgMusic(),a.SoundMgr.instance.soundPause=!1},d.data.voiceDuration)):(a.SoundMgr.instance.resumeBgMusic(),a.SoundMgr.instance.soundPause=!1)),d.cmd==this.INIT&&(a.Global.bundleId=d.data.bundleId,d.data&&(a.Global.zipmd5=d.data.zipmd5,d.data&&d.data.bundleInfo&&this.updateBundleCfg(d.data.bundleInfo))),d.cmd==this.UPDATE_CFG&&0==d.state&&d.data&&d.data.config&&(a.Global.gameConfig=d.data.config,a.Global.payPlatId=d.data.config.pay_platid,a.Global.platId=d.data.config.platid,a.Global.configmd5=a.StringUtils.MD5(JSON.stringify(a.Utils.sortJson(d.data.config)))),this._callBacks[d.cmd]?this._callBacks[d.cmd][1]&&null!=this._callBacks[d.cmd][1]?this._callBacks[d.cmd][0].call(this._callBacks[d.cmd][1],d):(this._callBacks[d.cmd][0]&&this._callBacks[d.cmd][0](d),a.Global.dispatchEvent(a.ZqEvent.NATIVE_TO_EGERET,d)):a.Global.dispatchEvent(a.ZqEvent.NATIVE_TO_EGERET,d),d.cmd==this.LOGIN)this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=null,delete this._callBacks[this.LOGIN]);else if(d.cmd==this.NETSTATE)c.lastNetState=d,d.data[c.NETSTATE]&&(c.netState=d.data[c.NETSTATE]),c.lastNetState.data&&!c.lastNetState.data[d.cmd]&&(c.lastNetState.data[d.cmd]=0);else if(d.cmd==this.UPDATE_CFG)for(var e in d.data)a.Global.defaultConfig[e]=d.data[e],a.Global.gameConfig[e]=d.data[e]},c.wxinit=function(a){var b=new e;b.cmd=c.initWX,a&&(b.data={},b.data.wxappid=a),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.Login=function(b,d,f,g){void 0===g&&(g=0),f&&null!=f&&(b&&null!=b&&null==this._callBacks[this.LOGIN]&&(this._callBacks[this.LOGIN]=[b,f]),d&&null!=d&&null==this._callBacks[this.LOGOUT]&&(this._callBacks[this.LOGOUT]=[d,f]));var h=new e;if(h.cmd=c.LOGIN,h.data=g,a.Global.gameConfig&&0==a.Global.gameConfig.platid){var i={};return i.code=0,i.cmd=this.LOGIN,i.data={},i.data.platid=a.Global.gameConfig.platid,i.data.payplatid=a.Global.gameConfig.pay_platid,void(b&&(f?b.call(f,i):b(i)))}egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(h))},c.Logout=function(){var a=new e;a.cmd=c.LOGOUT,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(a))},c.exit=function(){var a=new e;a.cmd=c.EXITGAME,a.data=!0,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(a))},c.restart=function(b,d,f){f||a.NetMgr.closeSocket();var g=new e;g.cmd=c.RESTART;var h={};h.desc=b,h.confirm=d||"确定",h.cancel=f||"",g.data=h,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.update=function(a){var b=new e;b.cmd=c.UPDATE,b.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.pay=function(a,b,d){b&&null!=b&&b&&null!=b&&null==this._callBacks[this.PAY]&&(this._callBacks[this.PAY]=[b,d]);var f=new e;f.cmd=c.PAY,f.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.payByPmd=function(a,b,d){b&&null!=b&&b&&null!=b&&null==this._callBacks[this.PAY_PMD]&&(this._callBacks[this.PAY_PMD]=[b,d]);var f=new e;f.cmd=c.PAY_PMD,f.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.share=function(b,d,f){this.wxinit(),d&&null!=d&&d&&null!=d&&(this._callBacks[this.SHARE]=[d,f]),c.defaultWXShareVo&&(b.webpageUrl||(b.webpageUrl=c.defaultWXShareVo.webpageUrl),b.title||(b.title=c.defaultWXShareVo.title),b.description||(b.description=c.defaultWXShareVo.description));var g=new e;g.cmd=c.SHARE,g.data=b,a.Console.log(JSON.stringify(g)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.recordInit=function(b,d,f){d&&null!=d&&d&&null!=d&&null==this._callBacks[this.RECORD_INIT]&&(this._callBacks[this.RECORD_INIT]=[d,f]);var g=new e;g.cmd=c.RECORD_INIT,g.data=b,a.Console.log(JSON.stringify(g)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.startRecord=function(b,d){if(this.lastRecordTime=(new Date).getTime(),0!=this.canRecord){this.canRecord=!1,a.SoundMgr.instance.pauseBgMusic(),a.SoundMgr.instance.soundPause=!0,b&&null!=b&&b&&null!=b&&null==this._callBacks[this.RECORD_START]&&(this._callBacks[this.RECORD_START]=[b,d]);var f=new e;f.cmd=c.RECORD_START,a.Console.log("startRecord:"+JSON.stringify(f)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))}},c.stopRecord=function(b,d){this.canRecord=!0,b&&null!=b&&b&&null!=b&&(this._callBacks[this.RECORD_STOP]=[b,d]);var f=new e;f.cmd=c.RECORD_STOP,a.Console.log("stopRecord:"+JSON.stringify(f)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f)),a.SoundMgr.instance.resumeBgMusic(),a.SoundMgr.instance.soundPause=!1,this.speakerActive()},c.playRecord=function(b,d,f){d&&null!=d&&d&&null!=d&&(this._callBacks[this.RECORD_PLAY]=[d,f]);var g=new e;g.cmd=c.RECORD_PLAY,g.data=b,a.Console.log("playRecord:"+JSON.stringify(g)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.stopPlayRecord=function(b,d,f){d&&null!=d&&d&&null!=d&&null==this._callBacks[this.RECORD_PLAY_STOP]&&(this._callBacks[this.RECORD_PLAY_STOP]=[d,f]);var g=new e;g.cmd=c.RECORD_PLAY_STOP,g.data=b,a.Console.log(JSON.stringify(g)),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.xfSpeechInit=function(a,b,d,f){b&&null!=b&&b&&null!=b&&null==this._callBacks[this.XF_SPEECH_INIT]&&(this._callBacks[this.XF_SPEECH_INIT]=[b,d]);var g=new e;g.cmd=c.XF_SPEECH_INIT,g.data={},g.data.appId=a,g.data.setParam=f,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.xfUpdateWords=function(a,b,d){b&&null!=b&&b&&null!=b&&null==this._callBacks[this.XF_WORDS_UP]&&(this._callBacks[this.XF_WORDS_UP]=[b,d]);var f=new e;f.cmd=c.XF_WORDS_UP,f.data={},f.data.words=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.xfUpLoadGrammer=function(){},c.xfSpeechStart=function(a,b,d,f){a&&null!=a&&null==this._callBacks[this.XF_SPEECH_RESULT]&&(this._callBacks[this.XF_SPEECH_RESULT]=[a,d]),b&&null!=b&&b&&null!=b&&null==this._callBacks[this.XF_SPEECH_END]&&(this._callBacks[this.XF_SPEECH_END]=[b,d]);var g=new e;g.cmd=c.XF_SPEECH_START,g.data=f,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.xfSpeechStop=function(a,b){a&&null!=a&&a&&null!=a&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[a,b]);var d=new e;d.cmd=c.XF_SPEECH_STOP,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d))},c.xfSpeechCacel=function(a,b){a&&null!=a&&a&&null!=a&&null==this._callBacks[this.XF_SPEECH_START]&&(this._callBacks[this.XF_SPEECH_START]=[a,b]);var d=new e;d.cmd=c.XF_SPEECH_CACEL,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d))},Object.defineProperty(c,"landscape",{set:function(a){var b=new e;b.cmd=c.LANDSCAPE,b.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},enumerable:!0,configurable:!0}),c.openWeb=function(b,d,f,g,h,i){void 0===d&&(d=0);var j=new e;j.cmd=c.OPENWEB;var l={};l.webUrl=b,f&&(l.webHeight=f),g&&(l.webWidth=g),h&&(l.webX=h),i&&(l.webY=i),l.model=d||k.AUTO,j.data=l,1==a.Global.isH5?window.open(b):egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(j))},c.prototype.regListenr=function(){},c.nativeCopyStr=function(a){var b=new e;b.cmd=c.NATIVECOPY,b.data={},b.data.copyStr=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.getConfig=function(a,b,d,f){var g=new e;g.cmd=c.GET_CONFIG,g.data={},b&&(g.data.configUrl=b),g.data.desc=a,g.data.confirm=d||"确定",g.data.cancel=f||"",egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.getNaviveBoard=function(a,b){a&&null!=a&&a&&null!=a&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[a,b]);var d=new e;d.cmd=c.GETNATIVEBOARD,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d))},c.getNetStateType=function(b,d,f){if(null==this.lastGetNetStateTime)this.lastGetNetStateTime=(new Date).getTime();else if(!f){if((new Date).getTime()-this.lastGetNetStateTime<=500)return;this.lastGetNetStateTime=(new Date).getTime()}b&&null!=b&&b&&null!=b&&null==this._callBacks[this.NETSTATE]&&(this._callBacks[this.NETSTATE]=[b,d]);var g=new e;g.cmd=c.NETSTATE,a.Utils.isIOS()&&a.ZQGameSdk.lastNetState||egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(g))},c.joinQQGroup=function(a){var b=new e;b.data=a,b.cmd=c.JOIN_QQ_GROUP,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.getCallStatus=function(a,b){a&&null!=a&&a&&null!=a&&null==this._callBacks[this.CALL_STATE]&&(this._callBacks[this.CALL_STATE]=[a,b]);var d=new e;return d.cmd=c.CALL_STATE,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d)),this._callState},c.getBatteryPer=function(a,b){a&&null!=a&&a&&null!=a&&null==this._callBacks[this.BATTERY]&&(this._callBacks[this.BATTERY]=[a,b]);var d=new e;d.cmd=c.BATTERY,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d))},c.localPush=function(a,b,d){void 0===d&&(d=0);var f=new e;f.cmd=c.LOCALPUSH,f.data={},f.data.pushTitle=a,f.data.pushMessage=b,f.data.pushTime=d.toString(),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.vibrate=function(a){var b=new e;b.cmd=c.VIBRATE,b.data={},b.data.delayTime=a.toString(),egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.speakerActive=function(){var a=new e;a.cmd=c.SPEAKERACTIVE,a.data={},egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(a))},c.getLocation=function(a,b){a&&null!=a&&null==this._callBacks[this.LOCATIONINFO]&&(this._callBacks[this.LOCATIONINFO]=[a,b]);var d=new e;return d.cmd=c.LOCATIONINFO,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d)),c.location},c.updateZip=function(a,b,d){b&&null!=b&&null==this._callBacks[this.UPDATE_ZIP]&&(this._callBacks[this.UPDATE_ZIP]=[b,d]);var f=new e;f.cmd=c.UPDATE_ZIP,f.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.pickPhoto=function(b,d){if(b&&null!=b&&b&&null!=b&&null==this._callBacks[this.PICKPHOTO]&&(this._callBacks[this.PICKPHOTO]=[b,d]),a.Global.isH5)a.H5Upload.selectImage(b,d);else{var f=new e;f.cmd=c.PICKPHOTO,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))}},c.updateApk=function(a,b,d){b&&null!=b&&null==this._callBacks[this.UPDATE_APK]&&(this._callBacks[this.UPDATE_APK]=[b,d]);var f=new e;f.cmd=c.UPDATE_APK,f.data=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(f))},c.updateCfg=function(a){this.updateBundleCfg(a);var b=new e;b.cmd=c.UPDATE_CFG,b.data={},b.data.state=i.UPDATE,b.data.config=a,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(b))},c.updateBundleCfg=function(b){a.Global.gameConfig=a.Utils.sortJson(b),a.Global.is_sandbox=a.Global.gameConfig.is_sandbox,a.Global.configmd5=a.StringUtils.MD5(JSON.stringify(a.Global.gameConfig)),a.Global.payPlatId=a.Global.gameConfig.pay_platid,a.Global.platId=a.Global.gameConfig.platid},c.pullCfg=function(a,b){a&&null!=a&&null==this._callBacks[this.UPDATE_CFG]&&(this._callBacks[this.UPDATE_CFG]=[a,b]);var d=new e;d.cmd=c.UPDATE_CFG,d.data={},d.data.state=i.DOWN,egret.ExternalInterface.call(c.SENDTONATIVE,JSON.stringify(d))},c.SENDTONATIVE="sendToNative",c.SENDTOJS="sendToJs",c.INIT="init",c.INIT_APP_BUNDLE_INFO="init_app_bundle_info",c.LOGIN="login",c.initWX="initWX",c.LOGOUT="logout",c.PAY="pay",c.PAY_PMD="pay_pmd",c.SHARE="share",c.XF_SPEECH_TYPE_ISA="isa",c.XF_SPEECH_TYPE_ASR="asr",c.LANDSCAPE="landscape",c.RECORD_INIT="recordInit",c.RECORD_START="recordStart",c.RECORD_STOP="recordStop",c.RECORD_PLAY="recordPlay",c.RECORD_PLAY_STOP="recordPlayStop",c.XF_SPEECH_INIT="xfSpeechInit",c.XF_SPEECH_START="xfSpeechStart",c.XF_SPEECH_RESULT="xfSpeechResult",c.XF_SPEECH_VOL="xfSpeechVol",c.XF_SPEECH_STOP="xfSpeechStop",c.XF_SPEECH_CACEL="xfSpeechCacel",c.XF_SPEECH_END="xfSpeechEnd",c.XF_WORDS_UP="xfWordsUp",c.XF_ABN_START="xfABNStart",c.CALL_STATE="callState",c.JOIN_QQ_GROUP="QQGroupInfo",c.HOT_UPDATE="hotUpdate",c.PICKPHOTO="pickPhoto",c.EXITGAME="exitGame",c.RESTART="restart",c.OPENEXIT="openExit",c.OPENWEB="openWeb",c.NATIVECOPY="nativeCopy",c.GETNATIVEBOARD="getNativeBoard",c.NETSTATE="netState",c.netState=0,c.BATTERY="battery",c.LOCALPUSH="localPush",c.VIBRATE="vibrate",c.SPEAKERACTIVE="speakerActive",c.UPDATE="update",c.KEYDOWN="keydown",c.LOCATIONINFO="locationInfo",c.UPDATE_ZIP="updateZip",c.UPDATE_APK="updateApk",c.UPDATE_CFG="updateCfg",c.GET_CONFIG="getConfig",c._callBacks={},c.location=new b,c.isInited=!1,c._callState=0,c.lastRecordTime=0,c.canRecord=!0,c}();a.ZQGameSdk=d;var e=function(){function a(){}return a}();a.ZQGameObj=e;var f=function(){function a(){}return a}();a.ZipJson=f;var g=function(){function a(){}return a}();a.ApkJson=g;var h=function(){function a(){}return a}();a.XFSetParam=h,function(a){a[a.ONLINE=0]="ONLINE",a[a.OFFLINE=1]="OFFLINE"}(a.GRAMMARTYPE||(a.GRAMMARTYPE={}));a.GRAMMARTYPE;!function(a){a[a.SPEECH=0]="SPEECH",a[a.GRAMMAR=1]="GRAMMAR"}(a.SPEECHTYPE||(a.SPEECHTYPE={}));a.SPEECHTYPE;!function(a){a[a.UPDATE=0]="UPDATE",a[a.DOWN=1]="DOWN"}(a.CONFIG_STATE||(a.CONFIG_STATE={}));var i=a.CONFIG_STATE;!function(a){a[a.NO_SIGNAL=0]="NO_SIGNAL",a[a.WIFI=1]="WIFI",a[a.DATA_FLOWS=2]="DATA_FLOWS",a[a.WIFI_AND_DATA=3]="WIFI_AND_DATA"}(a.NetState||(a.NetState={}));a.NetState;!function(a){a[a.DISCONNECTED=0]="DISCONNECTED",a[a.CONNECTED=1]="CONNECTED"}(a.CallState||(a.CallState={}));var j=a.CallState;!function(a){a[a.AUTO=0]="AUTO",a[a.EXPLORER=1]="EXPLORER",a[a.LAND=2]="LAND"}(a.WEBMODEL||(a.WEBMODEL={}));var k=a.WEBMODEL}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(c){void 0===c&&(c="assets"),b.call(this),this.w=0,this.h=0,this.assets=RES.getRes(c),this.w=a.Global.screenWidth,this.h=a.Global.screenHeight,this.initPanel()}return __extends(c,b),c.prototype.initPanel=function(){},c.prototype.initData=function(){},c.prototype.onEnter=function(){},c.prototype.onExit=function(){},c.prototype.closePanel=function(){a.PopUpMgr.removePopUp(this)},c.prototype.getWidth=function(){return this.width},c.prototype.getHeight=function(){return this.height},c}(egret.DisplayObjectContainer);a.BasePanel=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(){b.call(this),this.skinName='<?xml version=\'1.0\' encoding=\'utf-8\' ?>\n            <e:Skin width="340" height="70" xmlns:e="http://ns.egret.com/eui"><e:Rect right="0" left="0" top="0" bottom="0" fillColor="0x3B2C2C"/>\n            <e:EditableText id="str_input" width="218" height="37" x="12" y="17" text="说点什么吧" verticalAlign="middle" />\n                    <e:Button id="btn_send" label="发送" x="235" y="10" />\n                        <e:List height="266" width="335" x="2" y="-269" />\n                            </e:Skin>'}return __extends(c,b),c.prototype.childrenCreated=function(){this.btn_send.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTuch,this),this.str_input.prompt="说点什么吧"},c.prototype.onTuch=function(b){a.NetMgr.sendChat(this.str_input.text)},c}(eui.Component);a.GMView=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(c){b.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.thmLoaded=!1,this.resLoaded=!1,c&&(this._gameInfo=c),a.SceneMgr.instance.init(this),this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}return __extends(c,b),c.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},c.prototype.awake=function(){},c.prototype.onAddToStage=function(a){void 0===a&&(a=null),this._gameInfo?this.preLoadAndInit():this.start(a)},c.prototype.preLoadAndInit=function(){if(this._gameInfo.gameTheme&&""!=this._gameInfo.gameTheme){new eui.Theme(this._gameInfo.gameTheme,this.stage).addEventListener(eui.UIEvent.COMPLETE,this.loadedthm,this)}else this.thmLoaded=!0;console.error("preLoadAndInit"),RES.destroyRes(this._gameInfo.gameResConfigUrl),RES.getResByUrl(this._gameInfo.gameResConfigUrl,this.loadedCfg,this)},c.prototype.loadedthm=function(a){this.thmLoaded=!0,this.cfgComplete()},c.prototype.loadedCfg=function(b){b&&b.groups?(a.GameModuleUtils.loadGameTimeOut&&egret.clearTimeout(a.GameModuleUtils.loadGameTimeOut),this.resLoaded=!0,a.Global.initOpt.lobbyCommonResGrps&&a.Global.initOpt.lobbyCommonResGrps.length>0&&a.ResUtils.clearCfgByConfigName(a.Global.initOpt.lobbyCommonResGrps,b),RES.hasOwnProperty("parseConfig")&&RES.parseConfig(b,this._gameInfo.gameResRoot),RES.destroyRes(this._gameInfo.gameResConfigUrl),this.cfgComplete()):console.error("游戏config加载失败:"+this._gameInfo.gameResConfigUrl)},c.prototype.start=function(a){void 0===a&&(a=null)},c.prototype.cfgComplete=function(){1==this.thmLoaded&&1==this.resLoaded&&(this._gameInfo.preLoad&&""!=this._gameInfo.preLoad?a.ResLoadMgr.instance.load(this._gameInfo.preLoad,this.onResComplete,this.onResError,this,this._gameInfo.preloadUI):(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack()))},c.prototype.onResComplete=function(a){a.groupName==this._gameInfo.preLoad&&(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack())},c.prototype.preLoadEnd=function(){},c.prototype.resize=function(){},c.prototype.destroy=function(){},c.prototype.onResError=function(a){console.warn("Group:"+a.groupName+" has failed to load")},c.prototype.backToLobby=function(){"LobbyScene"==egret.getQualifiedSuperclassName(a.SceneMgr.instance.currentScene)&&a.SceneMgr.instance.currentScene.removeGame()},c}(egret.DisplayObjectContainer);a.GameDoc=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(a){function b(b){a.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.start,this)}return __extends(b,a),b.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.effectLayer),this.addChild(this.topLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},b.prototype.awake=function(){},b.prototype.start=function(a){void 0===a&&(a=null)},b.prototype.resize=function(){},b.prototype.destroy=function(){},b}(egret.DisplayObjectContainer);a.GameScene=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(c){b.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.tipsLayer=new egret.DisplayObjectContainer,this.gameLayer=new egret.DisplayObjectContainer,a.SceneMgr.instance.init(this),this.initBaseLayers(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.start,this)}return __extends(c,b),c.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},c.prototype.awake=function(){},c.prototype.start=function(a){void 0===a&&(a=null)},c.prototype.resize=function(){},c.prototype.destroy=function(){},c.prototype.addGame=function(b){this.currentGame=b,null==this._bgMask&&(this._bgMask=new egret.Sprite,this._bgMask.graphics.clear(),this._bgMask.graphics.beginFill(0,0),this._bgMask.graphics.drawRect(0,0,a.Global.screenWidth,a.Global.screenHeight),this._bgMask.graphics.endFill(),this._bgMask.width=a.Global.screenWidth,this._bgMask.height=a.Global.screenHeight,this._bgMask.touchEnabled=!0,this._bgMask.visible=!0),this.gameLayer.addChild(this._bgMask),this.gameLayer.addChild(b),this.addChildAt(this.gameLayer,1)},c.prototype.removeGame=function(b){void 0===b&&(b=null);var c=a.SceneMgr.instance.currentScene.currentGame;c&&(c.parent&&c.parent.removeChild(c),c.destroy(),c=null),a.DisplayUtils.removeFromParent(this.gameLayer),this.gameLayer.removeChildren(),this.currentGame=null},c}(egret.DisplayObjectContainer);a.LobbyScene=b}(uniLib||(uniLib={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},uniLib;!function(a){var b=function(b){function c(){b.call(this),this.init(),this.socketStatus.text="connecting",a.StatistcsMgr.instance.addEventListener(a.StatistcsMgr.SENDANDRECEIVE,this.updataSendAndReceive,this),a.StatistcsMgr.instance.addEventListener(a.StatistcsMgr.PING,this.updataPing,this),a.StatistcsMgr.instance.addEventListener(a.StatistcsMgr.SOCKETSTATUS,this.updataSocketStatus,this),a.StatistcsMgr.instance.addEventListener(a.StatistcsMgr.SENDEDANDRECEIVED,this.updataSendedAndReceived,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),a.StatistcsMgr.instance.init()}return __extends(c,b),c.prototype.updataSendAndReceive=function(a){var b=a.data;this.sendB.text=b.send+"B/s",this.recevieB.text=b.receive+"B/s"},c.prototype.updataPing=function(a){this.ping.text=a.data+"ms"},c.prototype.updataSocketStatus=function(a){this.socketStatus.text=a.data},c.prototype.updataSendedAndReceived=function(a){this.sendKb.text=a.data.sended.toFixed(2)+"kb",this.recevieKb.text=a.data.received.toFixed(2)+"kb"},c.prototype.init=function(){this.createTextField("Ping"),this.ping=this.createTextFieldX(),this.createTextField("Status"),this.socketStatus=this.createTextFieldX(),this.createTextField("send"),this.sendB=this.createTextFieldX(),this.createTextField("receive"),this.recevieB=this.createTextFieldX(),this.createTextField("sended"),this.sendKb=this.createTextFieldX(),this.createTextField("recevied"),this.recevieKb=this.createTextFieldX()},c.prototype.createTextField=function(a){var b=new egret.TextField;return b.text=a,b.y=this.height+5,b.fontFamily="微软雅黑",b.size=18,this.addChild(b),b},c.prototype.createTextFieldX=function(){var a=new egret.TextField;return a.x=150,a.y=this.height-13,a.fontFamily="微软雅黑",a.size=18,this.addChild(a),a},c.prototype.destroy=function(){a.StatistcsMgr.instance.removeEventListener(a.StatistcsMgr.SENDANDRECEIVE,this.updataSendAndReceive,this),a.StatistcsMgr.instance.removeEventListener(a.StatistcsMgr.PING,this.updataPing,this),a.StatistcsMgr.instance.removeEventListener(a.StatistcsMgr.SOCKETSTATUS,this.updataSocketStatus,this),a.StatistcsMgr.instance.removeEventListener(a.StatistcsMgr.SENDEDANDRECEIVED,this.updataSendedAndReceived,this),a.StatistcsMgr.instance.destroy()},c}(egret.DisplayObjectContainer);a.StatistcsView=b}(uniLib||(uniLib={}));